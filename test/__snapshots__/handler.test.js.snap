// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`does not require a ua query param 1`] = `
"/* Disable minification (remove \`.min\` from URL path) for more info */

(function(undefined) {Object.defineProperty(Array.prototype,\\"values\\",{value:Array.prototype[Symbol.iterator],enumerable:!1,writable:!1});var Iterator=function(){var e=function(){return this.length=0,this},t=function(e){if(\\"function\\"!=typeof e)throw new TypeError(e+\\" is not a function\\");return e},_=function(e,n){if(!(this instanceof _))return new _(e,n);Object.defineProperties(this,{__list__:{writable:!0,value:e},__context__:{writable:!0,value:n},__nextIndex__:{writable:!0,value:0}}),n&&(t(n.on),n.on(\\"_add\\",this._onAdd.bind(this)),n.on(\\"_delete\\",this._onDelete.bind(this)),n.on(\\"_clear\\",this._onClear.bind(this)))};return Object.defineProperties(_.prototype,Object.assign({constructor:{value:_,configurable:!0,enumerable:!1,writable:!0},_next:{value:function(){var e;if(this.__list__)return this.__redo__&&(e=this.__redo__.shift())!==undefined?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()},configurable:!0,enumerable:!1,writable:!0},next:{value:function(){return this._createResult(this._next())},configurable:!0,enumerable:!1,writable:!0},_createResult:{value:function(e){return e===undefined?{done:!0,value:undefined}:{done:!1,value:this._resolve(e)}},configurable:!0,enumerable:!1,writable:!0},_resolve:{value:function(e){return this.__list__[e]},configurable:!0,enumerable:!1,writable:!0},_unBind:{value:function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off(\\"_add\\",this._onAdd.bind(this)),this.__context__.off(\\"_delete\\",this._onDelete.bind(this)),this.__context__.off(\\"_clear\\",this._onClear.bind(this)),this.__context__=null)},configurable:!0,enumerable:!1,writable:!0},toString:{value:function(){return\\"[object Iterator]\\"},configurable:!0,enumerable:!1,writable:!0}},{_onAdd:{value:function(e){if(!(e>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__)return void Object.defineProperty(this,\\"__redo__\\",{value:[e],configurable:!0,enumerable:!1,writable:!1});this.__redo__.forEach(function(t,_){t>=e&&(this.__redo__[_]=++t)},this),this.__redo__.push(e)}},configurable:!0,enumerable:!1,writable:!0},_onDelete:{value:function(e){var t;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(t=this.__redo__.indexOf(e),-1!==t&&this.__redo__.splice(t,1),this.__redo__.forEach(function(t,_){t>e&&(this.__redo__[_]=--t)},this)))},configurable:!0,enumerable:!1,writable:!0},_onClear:{value:function(){this.__redo__&&e.call(this.__redo__),this.__nextIndex__=0},configurable:!0,enumerable:!1,writable:!0}})),Object.defineProperty(_.prototype,Symbol.iterator,{value:function(){return this},configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(_.prototype,Symbol.toStringTag,{value:\\"Iterator\\",configurable:!1,enumerable:!1,writable:!0}),_}();String.prototype.contains=String.prototype.includes;var ArrayIterator=function(){var e=function(t,r){if(!(this instanceof e))return new e(t,r);Iterator.call(this,t),r=r?String.prototype.contains.call(r,\\"key+value\\")?\\"key+value\\":String.prototype.contains.call(r,\\"key\\")?\\"key\\":\\"value\\":\\"value\\",Object.defineProperty(this,\\"__kind__\\",{value:r,configurable:!1,enumerable:!1,writable:!1})};return Object.setPrototypeOf&&Object.setPrototypeOf(e,Iterator.prototype),e.prototype=Object.create(Iterator.prototype,{constructor:{value:e,configurable:!0,enumerable:!1,writable:!0},_resolve:{value:function(e){return\\"value\\"===this.__kind__?this.__list__[e]:\\"key+value\\"===this.__kind__?[e,this.__list__[e]]:e},configurable:!0,enumerable:!1,writable:!0},toString:{value:function(){return\\"[object Array Iterator]\\"},configurable:!0,enumerable:!1,writable:!0}}),e}();}).call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof global && global || {});"
`;

exports[`returns a reasonable minified response for Chrome 63 1`] = `
"/* Disable minification (remove \`.min\` from URL path) for more info */

(function(undefined) {Object.defineProperty(Array.prototype,\\"values\\",{value:Array.prototype[Symbol.iterator],enumerable:!1,writable:!1});var Iterator=function(){var e=function(){return this.length=0,this},t=function(e){if(\\"function\\"!=typeof e)throw new TypeError(e+\\" is not a function\\");return e},_=function(e,n){if(!(this instanceof _))return new _(e,n);Object.defineProperties(this,{__list__:{writable:!0,value:e},__context__:{writable:!0,value:n},__nextIndex__:{writable:!0,value:0}}),n&&(t(n.on),n.on(\\"_add\\",this._onAdd.bind(this)),n.on(\\"_delete\\",this._onDelete.bind(this)),n.on(\\"_clear\\",this._onClear.bind(this)))};return Object.defineProperties(_.prototype,Object.assign({constructor:{value:_,configurable:!0,enumerable:!1,writable:!0},_next:{value:function(){var e;if(this.__list__)return this.__redo__&&(e=this.__redo__.shift())!==undefined?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()},configurable:!0,enumerable:!1,writable:!0},next:{value:function(){return this._createResult(this._next())},configurable:!0,enumerable:!1,writable:!0},_createResult:{value:function(e){return e===undefined?{done:!0,value:undefined}:{done:!1,value:this._resolve(e)}},configurable:!0,enumerable:!1,writable:!0},_resolve:{value:function(e){return this.__list__[e]},configurable:!0,enumerable:!1,writable:!0},_unBind:{value:function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off(\\"_add\\",this._onAdd.bind(this)),this.__context__.off(\\"_delete\\",this._onDelete.bind(this)),this.__context__.off(\\"_clear\\",this._onClear.bind(this)),this.__context__=null)},configurable:!0,enumerable:!1,writable:!0},toString:{value:function(){return\\"[object Iterator]\\"},configurable:!0,enumerable:!1,writable:!0}},{_onAdd:{value:function(e){if(!(e>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__)return void Object.defineProperty(this,\\"__redo__\\",{value:[e],configurable:!0,enumerable:!1,writable:!1});this.__redo__.forEach(function(t,_){t>=e&&(this.__redo__[_]=++t)},this),this.__redo__.push(e)}},configurable:!0,enumerable:!1,writable:!0},_onDelete:{value:function(e){var t;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(t=this.__redo__.indexOf(e),-1!==t&&this.__redo__.splice(t,1),this.__redo__.forEach(function(t,_){t>e&&(this.__redo__[_]=--t)},this)))},configurable:!0,enumerable:!1,writable:!0},_onClear:{value:function(){this.__redo__&&e.call(this.__redo__),this.__nextIndex__=0},configurable:!0,enumerable:!1,writable:!0}})),Object.defineProperty(_.prototype,Symbol.iterator,{value:function(){return this},configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(_.prototype,Symbol.toStringTag,{value:\\"Iterator\\",configurable:!1,enumerable:!1,writable:!0}),_}();String.prototype.contains=String.prototype.includes;var ArrayIterator=function(){var e=function(t,r){if(!(this instanceof e))return new e(t,r);Iterator.call(this,t),r=r?String.prototype.contains.call(r,\\"key+value\\")?\\"key+value\\":String.prototype.contains.call(r,\\"key\\")?\\"key\\":\\"value\\":\\"value\\",Object.defineProperty(this,\\"__kind__\\",{value:r,configurable:!1,enumerable:!1,writable:!1})};return Object.setPrototypeOf&&Object.setPrototypeOf(e,Iterator.prototype),e.prototype=Object.create(Iterator.prototype,{constructor:{value:e,configurable:!0,enumerable:!1,writable:!0},_resolve:{value:function(e){return\\"value\\"===this.__kind__?this.__list__[e]:\\"key+value\\"===this.__kind__?[e,this.__list__[e]]:e},configurable:!0,enumerable:!1,writable:!0},toString:{value:function(){return\\"[object Array Iterator]\\"},configurable:!0,enumerable:!1,writable:!0}}),e}();}).call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof global && global || {});"
`;

exports[`returns a reasonable minified response for Edge 25 1`] = `
"/* Disable minification (remove \`.min\` from URL path) for more info */

(function(undefined) {!function(){\\"use strict\\";var r=function(){try{var r={},e=Object.defineProperty,n=e(r,r,r)&&e}catch(t){}return n}(),e=function(r){try{return!!new r}catch(e){return!1}},n=function(){for(var n,t=arguments,a=t.length,u=this,c=e(u)?new u(a):new Array(a),i=0;i<a;)n=t[i],r?r(c,i,{value:n,writable:!0,enumerable:!0,configurable:!0}):c[i]=n,i+=1;return c.length=a,c};r?r(Array,\\"of\\",{value:n,configurable:!0,writable:!0}):Array.of=n}();this.CustomEvent=function(e,t){if(!e)throw Error('TypeError: Failed to construct \\"CustomEvent\\": An event name must be provided.');var n;if(t=t||{bubbles:!1,cancelable:!1,detail:null},\\"createEvent\\"in document)try{n=document.createEvent(\\"CustomEvent\\"),n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail)}catch(l){n=document.createEvent(\\"Event\\"),n.initEvent(e,t.bubbles,t.cancelable),n.detail=t.detail}else n=new Event(e,t),n.detail=t&&t.detail||null;return n},CustomEvent.prototype=Event.prototype;var _DOMTokenList=function(){var n=!0,t=function(t,e,r,o){Object.defineProperty?Object.defineProperty(t,e,{configurable:!1===n||!!o,get:r}):t.__defineGetter__(e,r)};try{t({},\\"support\\")}catch(e){n=!1}return function(n,e){var r=this,o=[],i={},a=0,c=0,f=function(n){t(r,n,function(){return u(),o[n]},!1)},l=function(){if(a>=c)for(;c<a;++c)f(c)},u=function(){var t,r,c=arguments,f=/\\\\s+/;if(c.length)for(r=0;r<c.length;++r)if(f.test(c[r]))throw t=new SyntaxError('String \\"'+c[r]+'\\" contains an invalid character'),t.code=5,t.name=\\"InvalidCharacterError\\",t;for(o=\\"object\\"==typeof n[e]?(\\"\\"+n[e].baseVal).replace(/^\\\\s+|\\\\s+$/g,\\"\\").split(f):(\\"\\"+n[e]).replace(/^\\\\s+|\\\\s+$/g,\\"\\").split(f),\\"\\"===o[0]&&(o=[]),i={},r=0;r<o.length;++r)i[o[r]]=!0;a=o.length,l()};return u(),t(r,\\"length\\",function(){return u(),a}),r.toLocaleString=r.toString=function(){return u(),o.join(\\" \\")},r.item=function(n){return u(),o[n]},r.contains=function(n){return u(),!!i[n]},r.add=function(){u.apply(r,t=arguments);for(var t,c,f=0,g=t.length;f<g;++f)c=t[f],i[c]||(o.push(c),i[c]=!0);a!==o.length&&(a=o.length>>>0,\\"object\\"==typeof n[e]?n[e].baseVal=o.join(\\" \\"):n[e]=o.join(\\" \\"),l())},r.remove=function(){u.apply(r,t=arguments);for(var t,c={},f=0,g=[];f<t.length;++f)c[t[f]]=!0,delete i[t[f]];for(f=0;f<o.length;++f)c[o[f]]||g.push(o[f]);o=g,a=g.length>>>0,\\"object\\"==typeof n[e]?n[e].baseVal=o.join(\\" \\"):n[e]=o.join(\\" \\"),l()},r.toggle=function(n,t){return u.apply(r,[n]),undefined!==t?t?(r.add(n),!0):(r.remove(n),!1):i[n]?(r.remove(n),!1):(r.add(n),!0)},r}}();!function(t){\\"DOMTokenList\\"in t&&t.DOMTokenList&&(!document.createElementNS||!document.createElementNS(\\"http://www.w3.org/2000/svg\\",\\"svg\\")||document.createElementNS(\\"http://www.w3.org/2000/svg\\",\\"svg\\").classList instanceof DOMTokenList)||(t.DOMTokenList=_DOMTokenList),function(){var t=document.createElement(\\"span\\");\\"classList\\"in t&&(t.classList.toggle(\\"x\\",!1),t.classList.contains(\\"x\\")&&(t.classList.constructor.prototype.toggle=function(t){var s=arguments[1];if(s===undefined){var e=!this.contains(t);return this[e?\\"add\\":\\"remove\\"](t),e}return s=!!s,this[s?\\"add\\":\\"remove\\"](t),s}))}(),function(){var t=document.createElement(\\"span\\");if(\\"classList\\"in t&&(t.classList.add(\\"a\\",\\"b\\"),!t.classList.contains(\\"b\\"))){var s=t.classList.constructor.prototype.add;t.classList.constructor.prototype.add=function(){for(var t=arguments,e=arguments.length,n=0;n<e;n++)s.call(this,t[n])}}}(),function(){var t=document.createElement(\\"span\\");if(\\"classList\\"in t&&(t.classList.add(\\"a\\"),t.classList.add(\\"b\\"),t.classList.remove(\\"a\\",\\"b\\"),t.classList.contains(\\"b\\"))){var s=t.classList.constructor.prototype.remove;t.classList.constructor.prototype.remove=function(){for(var t=arguments,e=arguments.length,n=0;n<e;n++)s.call(this,t[n])}}}()}(this);var _mutation=function(){function e(e){return\\"function\\"==typeof Node?e instanceof Node:e&&\\"object\\"==typeof e&&e.nodeName&&e.nodeType>=1&&e.nodeType<=12}return function(n){if(1===n.length)return e(n[0])?n[0]:document.createTextNode(n[0]+\\"\\");for(var t=document.createDocumentFragment(),o=0;o<n.length;o++)t.appendChild(e(n[o])?n[o]:document.createTextNode(n[o]+\\"\\"));return t}}();DocumentFragment.prototype.append=function(){this.appendChild(_mutation(arguments))};DocumentFragment.prototype.prepend=function(){this.insertBefore(_mutation(arguments),this.firstChild)};Document.prototype.after=Element.prototype.after=function(){if(this.parentNode){for(var t=Array.prototype.slice.call(arguments),e=this.nextSibling,o=e?t.indexOf(e):-1;-1!==o&&(e=e.nextSibling);)o=t.indexOf(e);this.parentNode.insertBefore(_mutation(arguments),e)}},\\"Text\\"in this&&(Text.prototype.after=Element.prototype.after);Document.prototype.append=Element.prototype.append=function(){this.appendChild(_mutation(arguments))};Document.prototype.before=Element.prototype.before=function(){if(this.parentNode){for(var e=Array.prototype.slice.call(arguments),t=this.previousSibling,o=t?e.indexOf(t):-1;-1!==o&&(t=t.previousSibling);)o=e.indexOf(t);this.parentNode.insertBefore(_mutation(arguments),t?t.nextSibling:this.parentNode.firstChild)}},\\"Text\\"in this&&(Text.prototype.before=Element.prototype.before);Element.prototype.matches=Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||function(e){for(var t=this,o=(t.document||t.ownerDocument).querySelectorAll(e),r=0;o[r]&&o[r]!==t;)++r;return!!o[r]};Element.prototype.closest=function(e){for(var n=this;n;){if(n.matches(e))return n;n=\\"SVGElement\\"in window&&n instanceof SVGElement?n.parentNode:n.parentElement}return null};Document.prototype.prepend=Element.prototype.prepend=function(){this.insertBefore(_mutation(arguments),this.firstChild)};Document.prototype.remove=Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)},\\"Text\\"in this&&(Text.prototype.remove=Element.prototype.remove);Document.prototype.replaceWith=Element.prototype.replaceWith=function(){this.parentNode&&this.parentNode.replaceChild(_mutation(arguments),this)},\\"Text\\"in this&&(Text.prototype.replaceWith=Element.prototype.replaceWith);!function(){function t(t){if(!(0 in arguments))throw new TypeError(\\"1 argument is required\\");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1}if(\\"HTMLElement\\"in this&&\\"contains\\"in HTMLElement.prototype)try{delete HTMLElement.prototype.contains}catch(e){}\\"Node\\"in this?Node.prototype.contains=t:document.contains=Element.prototype.contains=t}();Number.isNaN=Number.isNaN||function(N){return\\"number\\"==typeof N&&isNaN(N)};String.prototype.endsWith=function(t){var n=arguments.length<2?this.length:arguments[1],e=this.lastIndexOf(t);return-1!==e&&e===n-t.length};String.prototype.includes=function(t,e){if(\\"object\\"==typeof t&&t instanceof RegExp)throw new TypeError(\\"First argument to String.prototype.includes must not be a regular expression\\");return-1!==this.indexOf(t,e)};String.prototype.startsWith=function(t){var i=arguments.length<2?0:arguments[1];return 0===this.slice(i).indexOf(t)};!function(e){\\"use strict\\";function t(t){return!!t&&(\\"Symbol\\"in e&&\\"iterator\\"in e.Symbol&&\\"function\\"==typeof t[Symbol.iterator]||!!Array.isArray(t))}function n(e){return\\"from\\"in Array?Array.from(e):Array.prototype.slice.call(e)}!function(){function r(e){var t=\\"\\",n=!0;return e.forEach(function(e){var r=encodeURIComponent(e.name),a=encodeURIComponent(e.value);n||(t+=\\"&\\"),t+=r+\\"=\\"+a,n=!1}),t.replace(/%20/g,\\"+\\")}function a(e,t){var n=e.split(\\"&\\");t&&-1===n[0].indexOf(\\"=\\")&&(n[0]=\\"=\\"+n[0]);var r=[];n.forEach(function(e){if(0!==e.length){var t=e.indexOf(\\"=\\");if(-1!==t)var n=e.substring(0,t),a=e.substring(t+1);else n=e,a=\\"\\";n=n.replace(/\\\\+/g,\\" \\"),a=a.replace(/\\\\+/g,\\" \\"),r.push({name:n,value:a})}});var a=[];return r.forEach(function(e){a.push({name:decodeURIComponent(e.name),value:decodeURIComponent(e.value)})}),a}function i(e){if(c)return new s(e);var t=document.createElement(\\"a\\");return t.href=e,t}function o(e){var i=this;this._list=[],e===undefined||null===e||(e instanceof o?this._list=a(String(e)):\\"object\\"==typeof e&&t(e)?n(e).forEach(function(e){if(!t(e))throw TypeError();var r=n(e);if(2!==r.length)throw TypeError();i._list.push({name:String(r[0]),value:String(r[1])})}):\\"object\\"==typeof e&&e?Object.keys(e).forEach(function(t){i._list.push({name:String(t),value:String(e[t])})}):(e=String(e),\\"?\\"===e.substring(0,1)&&(e=e.substring(1)),this._list=a(e))),this._url_object=null,this._setList=function(e){u||(i._list=e)};var u=!1;this._update_steps=function(){u||(u=!0,i._url_object&&(\\"about:\\"===i._url_object.protocol&&-1!==i._url_object.pathname.indexOf(\\"?\\")&&(i._url_object.pathname=i._url_object.pathname.split(\\"?\\")[0]),i._url_object.search=r(i._list),u=!1))}}function u(e,t){var n=0;this.next=function(){if(n>=e.length)return{done:!0,value:undefined};var r=e[n++];return{done:!1,value:\\"key\\"===t?r.name:\\"value\\"===t?r.value:[r.name,r.value]}}}function l(t,n){function r(){var e=l.href.replace(/#$|\\\\?$|\\\\?(?=#)/g,\\"\\");l.href!==e&&(l.href=e)}function u(){m._setList(l.search?a(l.search.substring(1)):[]),m._update_steps()}if(!(this instanceof e.URL))throw new TypeError(\\"Failed to construct 'URL': Please use the 'new' operator.\\");n&&(t=function(){if(c)return new s(t,n).href;var e;try{var r;if(\\"[object OperaMini]\\"===Object.prototype.toString.call(window.operamini)?(e=document.createElement(\\"iframe\\"),e.style.display=\\"none\\",document.documentElement.appendChild(e),r=e.contentWindow.document):document.implementation&&document.implementation.createHTMLDocument?r=document.implementation.createHTMLDocument(\\"\\"):document.implementation&&document.implementation.createDocument?(r=document.implementation.createDocument(\\"http://www.w3.org/1999/xhtml\\",\\"html\\",null),r.documentElement.appendChild(r.createElement(\\"head\\")),r.documentElement.appendChild(r.createElement(\\"body\\"))):window.ActiveXObject&&(r=new window.ActiveXObject(\\"htmlfile\\"),r.write(\\"<head></head><body></body>\\"),r.close()),!r)throw Error(\\"base not supported\\");var a=r.createElement(\\"base\\");a.href=n,r.getElementsByTagName(\\"head\\")[0].appendChild(a);var i=r.createElement(\\"a\\");return i.href=t,i.href}finally{e&&e.parentNode.removeChild(e)}}());var l=i(t||\\"\\"),f=function(){if(!(\\"defineProperties\\"in Object))return!1;try{var e={};return Object.defineProperties(e,{prop:{get:function(){return!0}}}),e.prop}catch(t){return!1}}(),h=f?this:document.createElement(\\"a\\"),m=new o(l.search?l.search.substring(1):null);return m._url_object=h,Object.defineProperties(h,{href:{get:function(){return l.href},set:function(e){l.href=e,r(),u()},enumerable:!0,configurable:!0},origin:{get:function(){return\\"origin\\"in l?l.origin:this.protocol+\\"//\\"+this.host},enumerable:!0,configurable:!0},protocol:{get:function(){return l.protocol},set:function(e){l.protocol=e},enumerable:!0,configurable:!0},username:{get:function(){return l.username},set:function(e){l.username=e},enumerable:!0,configurable:!0},password:{get:function(){return l.password},set:function(e){l.password=e},enumerable:!0,configurable:!0},host:{get:function(){var e={\\"http:\\":/:80$/,\\"https:\\":/:443$/,\\"ftp:\\":/:21$/}[l.protocol];return e?l.host.replace(e,\\"\\"):l.host},set:function(e){l.host=e},enumerable:!0,configurable:!0},hostname:{get:function(){return l.hostname},set:function(e){l.hostname=e},enumerable:!0,configurable:!0},port:{get:function(){return l.port},set:function(e){l.port=e},enumerable:!0,configurable:!0},pathname:{get:function(){return\\"/\\"!==l.pathname.charAt(0)?\\"/\\"+l.pathname:l.pathname},set:function(e){l.pathname=e},enumerable:!0,configurable:!0},search:{get:function(){return l.search},set:function(e){l.search!==e&&(l.search=e,r(),u())},enumerable:!0,configurable:!0},searchParams:{get:function(){return m},enumerable:!0,configurable:!0},hash:{get:function(){return l.hash},set:function(e){l.hash=e,r()},enumerable:!0,configurable:!0},toString:{value:function(){return l.toString()},enumerable:!1,configurable:!0},valueOf:{value:function(){return l.valueOf()},enumerable:!1,configurable:!0}}),h}var c,s=e.URL;try{if(s){if(\\"searchParams\\"in(c=new e.URL(\\"http://example.com\\")))return;\\"href\\"in c||(c=undefined)}}catch(h){}if(Object.defineProperties(o.prototype,{append:{value:function(e,t){this._list.push({name:e,value:t}),this._update_steps()},writable:!0,enumerable:!0,configurable:!0},\\"delete\\":{value:function(e){for(var t=0;t<this._list.length;)this._list[t].name===e?this._list.splice(t,1):++t;this._update_steps()},writable:!0,enumerable:!0,configurable:!0},get:{value:function(e){for(var t=0;t<this._list.length;++t)if(this._list[t].name===e)return this._list[t].value;return null},writable:!0,enumerable:!0,configurable:!0},getAll:{value:function(e){for(var t=[],n=0;n<this._list.length;++n)this._list[n].name===e&&t.push(this._list[n].value);return t},writable:!0,enumerable:!0,configurable:!0},has:{value:function(e){for(var t=0;t<this._list.length;++t)if(this._list[t].name===e)return!0;return!1},writable:!0,enumerable:!0,configurable:!0},set:{value:function(e,t){for(var n=!1,r=0;r<this._list.length;)this._list[r].name===e?n?this._list.splice(r,1):(this._list[r].value=t,n=!0,++r):++r;n||this._list.push({name:e,value:t}),this._update_steps()},writable:!0,enumerable:!0,configurable:!0},entries:{value:function(){return new u(this._list,\\"key+value\\")},writable:!0,enumerable:!0,configurable:!0},keys:{value:function(){return new u(this._list,\\"key\\")},writable:!0,enumerable:!0,configurable:!0},values:{value:function(){return new u(this._list,\\"value\\")},writable:!0,enumerable:!0,configurable:!0},forEach:{value:function(e){var t=arguments.length>1?arguments[1]:undefined;this._list.forEach(function(n,r){e.call(t,n.value,n.name)})},writable:!0,enumerable:!0,configurable:!0},toString:{value:function(){return r(this._list)},writable:!0,enumerable:!1,configurable:!0}}),\\"Symbol\\"in e&&\\"iterator\\"in e.Symbol&&(Object.defineProperty(o.prototype,e.Symbol.iterator,{value:o.prototype.entries,writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,e.Symbol.iterator,{value:function(){return this},writable:!0,enumerable:!0,configurable:!0})),s)for(var f in s)s.hasOwnProperty(f)&&\\"function\\"==typeof s[f]&&(l[f]=s[f]);e.URL=l,e.URLSearchParams=o}(),function(){if(\\"1\\"!==new e.URLSearchParams([[\\"a\\",1]]).get(\\"a\\")||\\"1\\"!==new e.URLSearchParams({a:1}).get(\\"a\\")){var r=e.URLSearchParams;e.URLSearchParams=function(e){if(e&&\\"object\\"==typeof e&&t(e)){var a=new r;return n(e).forEach(function(e){if(!t(e))throw TypeError();var r=n(e);if(2!==r.length)throw TypeError();a.append(r[0],r[1])}),a}return e&&\\"object\\"==typeof e?(a=new r,Object.keys(e).forEach(function(t){a.set(t,e[t])}),a):new r(e)}}}()}(self);Object.defineProperty(Array.prototype,\\"find\\",{configurable:!0,value:function(t){if(this===undefined||null===this)throw new TypeError(this+\\" is not an object\\");if(\\"function\\"!=typeof t)throw new TypeError(t+\\" is not a function\\");for(var n,i=Object(this),e=arguments[1],r=i instanceof String?i.split(\\"\\"):i,o=Math.max(Math.min(r.length,9007199254740991),0)||0,f=-1;++f<o;)if(f in r&&(n=r[f],t.call(e,n,f,i)))return n},writable:!0});Object.defineProperty(Array.prototype,\\"findIndex\\",{configurable:!0,value:function(t){if(this===undefined||null===this)throw new TypeError(this+\\" is not an object\\");if(\\"function\\"!=typeof t)throw new TypeError(t+\\" is not a function\\");for(var n=Object(this),e=arguments[1],i=n instanceof String?n.split(\\"\\"):n,r=Math.max(Math.min(i.length,9007199254740991),0)||0,o=-1;++o<r;)if(o in i&&t.call(e,i[o],o,n))return o;return-1},writable:!0});Math.acosh=function(t){return Math.log(t+Math.sqrt(t*t-1))};Math.asinh=function(t){return t===-Infinity?t:Math.log(t+Math.sqrt(t*t+1))};Math.atanh=function(t){return Math.log((1+t)/(1-t))/2};Math.cbrt=function(t){var a=Math.pow(Math.abs(t),1/3);return t<0?-a:a};Math.clz32=function(t){var n=Number(t)>>>0;return n?32-n.toString(2).length:32};Math.cosh=function(t){var a=Math.exp(t);return(a+1/a)/2};Math.expm1=function(t){return Math.exp(t)-1};Math.hypot=function(){for(var t=arguments,n=-1,i=0;++n in t&&Math.abs(i)!==Infinity;)i+=t[n]*t[n];return Math.abs(i)===Infinity?Infinity:Math.sqrt(i)};Math.imul=function(n,r){var t=n>>>16&65535,u=65535&n,a=r>>>16&65535,i=65535&r;return u*i+(t*i+u*a<<16>>>0)|0};Math.log10=function(t){return Math.log(t)/Math.LN10};Math.log1p=function(t){return Math.log(1+t)};Math.log2=function(t){return Math.log(t)/Math.LN2};Math.sign=function(n){return(n=Number(n))?n>0?1:-1:n};Math.sinh=function(n){var t=Math.exp(n);return(t-1/t)/2};Math.tanh=function(n){var t;return n===Infinity?1:n===-Infinity?-1:((t=Math.exp(2*n))-1)/(t+1)};Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)};Number.isFinite=Number.isFinite||function(i){return\\"number\\"==typeof i&&isFinite(i)};Object.is=function(n,t){return n===t&&(0!==n||1/n==1/t)||n!==n&&t!==t};String.prototype.repeat=function(t){\\"use strict\\";if(this===undefined||null===this)throw new TypeError(this+\\" is not an object\\");if(t<0||t===Infinity)throw new RangeError(t+\\" is less than zero or equal to infinity\\");return new Array((parseInt(t,10)||0)+1).join(this)};!function(){Object.defineProperty(Array.prototype,\\"includes\\",{configurable:!0,value:function(r){\\"use strict\\";var e=Object(this),t=parseInt(e.length)||0;if(0===t)return!1;var n,i=parseInt(arguments[1])||0;i>=0?n=i:(n=t+i)<0&&(n=0);for(var a;n<t;){if(a=e[n],r===a||r!==r&&a!==a)return!0;n++}return!1},writable:!0})}();!function(){Object.defineProperty(String.prototype,\\"padEnd\\",{configurable:!0,enumerable:!1,value:function(t){if((t|=0)<=this.length)return String(this);for(var e=String(arguments[1]||\\" \\"),n=Math.ceil((t-this.length)/e.length);n--;)e+=e;return String(this)+e.substr(0,t-this.length)},writable:!0})}();!function(){Object.defineProperty(String.prototype,\\"padStart\\",{configurable:!0,enumerable:!1,value:function(t){if((t|=0)<=this.length)return String(this);for(var e=String(arguments[1]||\\" \\"),r=Math.ceil((t-this.length)/e.length);r--;)e+=e;return e.substr(0,t-this.length)+String(this)},writable:!0})}();}).call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof global && global || {});"
`;

exports[`returns a reasonable minified response for Firefox 56 1`] = `
"/* Disable minification (remove \`.min\` from URL path) for more info */

(function(undefined) {Object.defineProperty(Array.prototype,\\"values\\",{value:Array.prototype[Symbol.iterator],enumerable:!1,writable:!1});var Iterator=function(){var e=function(){return this.length=0,this},t=function(e){if(\\"function\\"!=typeof e)throw new TypeError(e+\\" is not a function\\");return e},_=function(e,n){if(!(this instanceof _))return new _(e,n);Object.defineProperties(this,{__list__:{writable:!0,value:e},__context__:{writable:!0,value:n},__nextIndex__:{writable:!0,value:0}}),n&&(t(n.on),n.on(\\"_add\\",this._onAdd.bind(this)),n.on(\\"_delete\\",this._onDelete.bind(this)),n.on(\\"_clear\\",this._onClear.bind(this)))};return Object.defineProperties(_.prototype,Object.assign({constructor:{value:_,configurable:!0,enumerable:!1,writable:!0},_next:{value:function(){var e;if(this.__list__)return this.__redo__&&(e=this.__redo__.shift())!==undefined?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()},configurable:!0,enumerable:!1,writable:!0},next:{value:function(){return this._createResult(this._next())},configurable:!0,enumerable:!1,writable:!0},_createResult:{value:function(e){return e===undefined?{done:!0,value:undefined}:{done:!1,value:this._resolve(e)}},configurable:!0,enumerable:!1,writable:!0},_resolve:{value:function(e){return this.__list__[e]},configurable:!0,enumerable:!1,writable:!0},_unBind:{value:function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off(\\"_add\\",this._onAdd.bind(this)),this.__context__.off(\\"_delete\\",this._onDelete.bind(this)),this.__context__.off(\\"_clear\\",this._onClear.bind(this)),this.__context__=null)},configurable:!0,enumerable:!1,writable:!0},toString:{value:function(){return\\"[object Iterator]\\"},configurable:!0,enumerable:!1,writable:!0}},{_onAdd:{value:function(e){if(!(e>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__)return void Object.defineProperty(this,\\"__redo__\\",{value:[e],configurable:!0,enumerable:!1,writable:!1});this.__redo__.forEach(function(t,_){t>=e&&(this.__redo__[_]=++t)},this),this.__redo__.push(e)}},configurable:!0,enumerable:!1,writable:!0},_onDelete:{value:function(e){var t;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(t=this.__redo__.indexOf(e),-1!==t&&this.__redo__.splice(t,1),this.__redo__.forEach(function(t,_){t>e&&(this.__redo__[_]=--t)},this)))},configurable:!0,enumerable:!1,writable:!0},_onClear:{value:function(){this.__redo__&&e.call(this.__redo__),this.__nextIndex__=0},configurable:!0,enumerable:!1,writable:!0}})),Object.defineProperty(_.prototype,Symbol.iterator,{value:function(){return this},configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(_.prototype,Symbol.toStringTag,{value:\\"Iterator\\",configurable:!1,enumerable:!1,writable:!0}),_}();var ArrayIterator=function(){var e=function(t,r){if(!(this instanceof e))return new e(t,r);Iterator.call(this,t),r=r?String.prototype.contains.call(r,\\"key+value\\")?\\"key+value\\":String.prototype.contains.call(r,\\"key\\")?\\"key\\":\\"value\\":\\"value\\",Object.defineProperty(this,\\"__kind__\\",{value:r,configurable:!1,enumerable:!1,writable:!1})};return Object.setPrototypeOf&&Object.setPrototypeOf(e,Iterator.prototype),e.prototype=Object.create(Iterator.prototype,{constructor:{value:e,configurable:!0,enumerable:!1,writable:!0},_resolve:{value:function(e){return\\"value\\"===this.__kind__?this.__list__[e]:\\"key+value\\"===this.__kind__?[e,this.__list__[e]]:e},configurable:!0,enumerable:!1,writable:!0},toString:{value:function(){return\\"[object Array Iterator]\\"},configurable:!0,enumerable:!1,writable:!0}}),e}();}).call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof global && global || {});"
`;

exports[`returns a reasonable minified response for IE 9 1`] = `
"/* Disable minification (remove \`.min\` from URL path) for more info */

(function(undefined) {Object.keys=function(){\\"use strict\\";function t(t){var e=r.call(t),n=\\"[object Arguments]\\"===e;return n||(n=\\"[object Array]\\"!==e&&null!==t&&\\"object\\"==typeof t&&\\"number\\"==typeof t.length&&t.length>=0&&\\"[object Function]\\"===r.call(t.callee)),n}var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=Object.prototype.propertyIsEnumerable,o=!n.call({toString:null},\\"toString\\"),l=n.call(function(){},\\"prototype\\"),c=[\\"toString\\",\\"toLocaleString\\",\\"valueOf\\",\\"hasOwnProperty\\",\\"isPrototypeOf\\",\\"propertyIsEnumerable\\",\\"constructor\\"],i=function(t){var e=t.constructor;return e&&e.prototype===t},u={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},a=function(){if(\\"undefined\\"==typeof window)return!1;for(var t in window)try{if(!u[\\"$\\"+t]&&e.call(window,t)&&null!==window[t]&&\\"object\\"==typeof window[t])try{i(window[t])}catch(r){return!0}}catch(r){return!0}return!1}(),f=function(t){if(\\"undefined\\"==typeof window||!a)return i(t);try{return i(t)}catch(e){return!1}};return function(n){var i=\\"[object Function]\\"===r.call(n),u=t(n),a=\\"[object String]\\"===r.call(n),p=[];if(n===undefined||null===n)throw new TypeError(\\"Cannot convert undefined or null to object\\");var s=l&&i;if(a&&n.length>0&&!e.call(n,0))for(var g=0;g<n.length;++g)p.push(String(g));if(u&&n.length>0)for(var w=0;w<n.length;++w)p.push(String(w));else for(var y in n)s&&\\"prototype\\"===y||!e.call(n,y)||p.push(String(y));if(o)for(var h=f(n),$=0;$<c.length;++$)h&&\\"constructor\\"===c[$]||!e.call(n,c[$])||p.push(c[$]);return p}}();!function(){function e(e){if(null===e||e===undefined)throw new TypeError(\\"Cannot call method on \\"+e);return Object(e)}Object.defineProperty(Object,\\"assign\\",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){var t=e(n);if(1===arguments.length)return t;var l,o,a,i,u=Array.prototype.slice.call(arguments,1);for(l=0;l<u.length;l++){var c=u[l];for(c===undefined||null===c?a=[]:(i=e(c),a=Object.keys(i)),o=0;o<a.length;o++){var f=a[o],b=Object.getOwnPropertyDescriptor(i,f);if(b!==undefined&&b.enumerable){var d=i[f];t[f]=d}}}return t}})}();!function(e,n,t){var r,o=0,u=\\"\\"+Math.random(),a=\\"__symbol:\\",c=a.length,l=\\"__symbol@@\\"+u,i=\\"defineProperty\\",f=\\"defineProperties\\",v=\\"getOwnPropertyNames\\",s=\\"getOwnPropertyDescriptor\\",b=\\"propertyIsEnumerable\\",y=e.prototype,h=y.hasOwnProperty,m=y[b],p=y.toString,w=Array.prototype.concat,g=\\"object\\"==typeof window?e.getOwnPropertyNames(window):[],d=e[v],P=function(e){if(\\"[object Window]\\"===p.call(e))try{return d(e)}catch(n){return w.call([],g)}return d(e)},S=e[s],O=e.create,j=e.keys,E=e.freeze||e,_=e[i],k=e[f],N=S(e,v),T=function(e,n,t){if(!h.call(e,l))try{_(e,l,{enumerable:!1,configurable:!1,writable:!1,value:{}})}catch(r){e[l]={}}e[l][\\"@@\\"+n]=t},z=function(e,n){var t=O(e);return P(n).forEach(function(e){M.call(n,e)&&G(t,e,n[e])}),t},A=function(e){var n=O(e);return n.enumerable=!1,n},D=function(){},F=function(e){return e!=l&&!h.call(x,e)},I=function(e){return e!=l&&h.call(x,e)},M=function(e){var n=\\"\\"+e;return I(n)?h.call(this,n)&&this[l][\\"@@\\"+n]:m.call(this,e)},W=function(n){var t={enumerable:!1,configurable:!0,get:D,set:function(e){r(this,n,{enumerable:!1,configurable:!0,writable:!0,value:e}),T(this,n,!0)}};try{_(y,n,t)}catch(o){y[n]=t.value}return E(x[n]=_(e(n),\\"constructor\\",B))},q=function K(e){if(this instanceof K)throw new TypeError(\\"Symbol is not a constructor\\");return W(a.concat(e||\\"\\",u,++o))},x=O(null),B={value:q},C=function(e){return x[e]},G=function(e,n,t){var o=\\"\\"+n;return I(o)?(r(e,o,t.enumerable?A(t):t),T(e,o,!!t.enumerable)):_(e,n,t),e},H=function(e){return function(n){return h.call(e,l)&&h.call(e[l],\\"@@\\"+n)}},J=function(e){return P(e).filter(e===y?H(e):I).map(C)};N.value=G,_(e,i,N),N.value=J,_(e,\\"getOwnPropertySymbols\\",N),N.value=function(e){return P(e).filter(F)},_(e,v,N),N.value=function(e,n){var t=J(n);return t.length?j(n).concat(t).forEach(function(t){M.call(n,t)&&G(e,t,n[t])}):k(e,n),e},_(e,f,N),N.value=M,_(y,b,N),N.value=q,_(t,\\"Symbol\\",N),N.value=function(e){var n=a.concat(a,e,u);return n in y?x[n]:W(n)},_(q,\\"for\\",N),N.value=function(e){if(F(e))throw new TypeError(e+\\" is not a symbol\\");return h.call(x,e)?e.slice(2*c,-u.length):void 0},_(q,\\"keyFor\\",N),N.value=function(e,n){var t=S(e,n);return t&&I(n)&&(t.enumerable=M.call(e,n)),t},_(e,s,N),N.value=function(e,n){return 1===arguments.length||void 0===n?O(e):z(e,n)},_(e,\\"create\\",N),N.value=function(){var e=p.call(this);return\\"[object String]\\"===e&&I(this)?\\"[object Symbol]\\":e},_(y,\\"toString\\",N),r=function(e,n,t){var r=S(y,n);delete y[n],_(e,n,t),e!==y&&_(y,n,r)}}(Object,0,this);Object.defineProperty(Symbol,\\"iterator\\",{value:Symbol(\\"iterator\\")});Object.defineProperty(Symbol,\\"toStringTag\\",{value:Symbol(\\"toStringTag\\")});var Iterator=function(){var e=function(){return this.length=0,this},t=function(e){if(\\"function\\"!=typeof e)throw new TypeError(e+\\" is not a function\\");return e},_=function(e,n){if(!(this instanceof _))return new _(e,n);Object.defineProperties(this,{__list__:{writable:!0,value:e},__context__:{writable:!0,value:n},__nextIndex__:{writable:!0,value:0}}),n&&(t(n.on),n.on(\\"_add\\",this._onAdd.bind(this)),n.on(\\"_delete\\",this._onDelete.bind(this)),n.on(\\"_clear\\",this._onClear.bind(this)))};return Object.defineProperties(_.prototype,Object.assign({constructor:{value:_,configurable:!0,enumerable:!1,writable:!0},_next:{value:function(){var e;if(this.__list__)return this.__redo__&&(e=this.__redo__.shift())!==undefined?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()},configurable:!0,enumerable:!1,writable:!0},next:{value:function(){return this._createResult(this._next())},configurable:!0,enumerable:!1,writable:!0},_createResult:{value:function(e){return e===undefined?{done:!0,value:undefined}:{done:!1,value:this._resolve(e)}},configurable:!0,enumerable:!1,writable:!0},_resolve:{value:function(e){return this.__list__[e]},configurable:!0,enumerable:!1,writable:!0},_unBind:{value:function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off(\\"_add\\",this._onAdd.bind(this)),this.__context__.off(\\"_delete\\",this._onDelete.bind(this)),this.__context__.off(\\"_clear\\",this._onClear.bind(this)),this.__context__=null)},configurable:!0,enumerable:!1,writable:!0},toString:{value:function(){return\\"[object Iterator]\\"},configurable:!0,enumerable:!1,writable:!0}},{_onAdd:{value:function(e){if(!(e>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__)return void Object.defineProperty(this,\\"__redo__\\",{value:[e],configurable:!0,enumerable:!1,writable:!1});this.__redo__.forEach(function(t,_){t>=e&&(this.__redo__[_]=++t)},this),this.__redo__.push(e)}},configurable:!0,enumerable:!1,writable:!0},_onDelete:{value:function(e){var t;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(t=this.__redo__.indexOf(e),-1!==t&&this.__redo__.splice(t,1),this.__redo__.forEach(function(t,_){t>e&&(this.__redo__[_]=--t)},this)))},configurable:!0,enumerable:!1,writable:!0},_onClear:{value:function(){this.__redo__&&e.call(this.__redo__),this.__nextIndex__=0},configurable:!0,enumerable:!1,writable:!0}})),Object.defineProperty(_.prototype,Symbol.iterator,{value:function(){return this},configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(_.prototype,Symbol.toStringTag,{value:\\"Iterator\\",configurable:!1,enumerable:!1,writable:!0}),_}();!function(){if(!Object.setPrototypeOf){var t,e,o=Object.getOwnPropertyNames,r=Object.getOwnPropertyDescriptor,n=Object.create,c=Object.defineProperty,_=Object.getPrototypeOf,f=Object.prototype,O=function(t,e){return o(e).forEach(function(o){c(t,o,r(e,o))}),t},p=function(t,e){return O(n(e),t)};try{t=r(f,\\"__proto__\\").set,t.call({},null),e=function(e,o){return t.call(e,o),e}}catch(u){t={__proto__:null},t instanceof Object?e=p:(t.__proto__=f,e=t instanceof Object?function(t,e){return t.__proto__=e,t}:function(t,e){return _(t)?(t.__proto__=e,t):p(t,e)})}Object.setPrototypeOf=e}}();String.prototype.includes=function(t,e){if(\\"object\\"==typeof t&&t instanceof RegExp)throw new TypeError(\\"First argument to String.prototype.includes must not be a regular expression\\");return-1!==this.indexOf(t,e)};String.prototype.contains=String.prototype.includes;var ArrayIterator=function(){var e=function(t,r){if(!(this instanceof e))return new e(t,r);Iterator.call(this,t),r=r?String.prototype.contains.call(r,\\"key+value\\")?\\"key+value\\":String.prototype.contains.call(r,\\"key\\")?\\"key\\":\\"value\\":\\"value\\",Object.defineProperty(this,\\"__kind__\\",{value:r,configurable:!1,enumerable:!1,writable:!1})};return Object.setPrototypeOf&&Object.setPrototypeOf(e,Iterator.prototype),e.prototype=Object.create(Iterator.prototype,{constructor:{value:e,configurable:!0,enumerable:!1,writable:!0},_resolve:{value:function(e){return\\"value\\"===this.__kind__?this.__list__[e]:\\"key+value\\"===this.__kind__?[e,this.__list__[e]]:e},configurable:!0,enumerable:!1,writable:!0},toString:{value:function(){return\\"[object Array Iterator]\\"},configurable:!0,enumerable:!1,writable:!0}}),e}();Number.isFinite=Number.isFinite||function(i){return\\"number\\"==typeof i&&isFinite(i)};Number.isNaN=Number.isNaN||function(N){return\\"number\\"==typeof N&&isNaN(N)};!function(){\\"use strict\\";function t(t){var e=Number(t);return r(e)*Math.floor(Math.abs(Math.min(Math.max(e||0,0),9007199254740991)))}function r(t){return t>=0?1:-1}function e(t){return\\"string\\"==typeof t||\\"object\\"==typeof t&&(y?i(t):f.call(t)===l)}function n(t){if(!t)return!1;if(\\"function\\"!=typeof t&&\\"object\\"!=typeof t)return!1;if(y)return s(t);if(b(t))return!1;var r=f.call(t);return r===g||r===d}var o,a,u=Object.prototype.hasOwnProperty,c=String.prototype.valueOf,i=function(t){try{return c.call(t),!0}catch(r){return!1}},f=Object.prototype.toString,l=\\"[object String]\\",p=\\"function\\"==typeof Symbol,y=p&&\\"toStringTag\\"in Symbol,v=Function.prototype.toString,h=/^\\\\s*class /,b=function(t){try{var r=v.call(t),e=r.replace(/\\\\/\\\\/.*\\\\n/g,\\"\\"),n=e.replace(/\\\\/\\\\*[.\\\\s\\\\S]*\\\\*\\\\//g,\\"\\"),o=n.replace(/\\\\n/gm,\\" \\").replace(/ {2}/g,\\" \\");return h.test(o)}catch(a){return!1}},s=function(t){try{return!b(t)&&(v.call(t),!0)}catch(r){return!1}},g=\\"[object Function]\\",d=\\"[object GeneratorFunction]\\",S=Array.isArray,j=function(t){var r,e=!1,n=[];if(t&&\\"function\\"==typeof t.next)for(;!e;){if(r=t.next(),!u.call(r,\\"value\\")||!u.call(r,\\"done\\")){if(!0===r.done){e=!0;break}break}if(!0===r.done){e=!0;break}if(!1!==r.done)break;n.push(r.value)}return!!e&&n},m=\\"function\\"==typeof Set,w=\\"function\\"==typeof Map;if(p)o=Symbol.iterator;else{var F;try{F=Function(\\"iterable\\",\\"var arr = []; for (var value of iterable) arr.push(value); return arr;\\")}catch(q){}if(function(){try{var t=!1;return F({\\"@@iterator\\":function(){return{next:function(){return t=!0,{done:!0,value:undefined}}}}}),t}catch(q){return!1}}())o=\\"@@iterator\\";else if(\\"function\\"==typeof Set){var O=new Set;O.add(0);try{1===F(O).length&&(a=F)}catch(q){}}}var D;if(m){var M=Object.getOwnPropertyDescriptor(Set.prototype,\\"size\\").get;D=function(t){try{return M.call(t),!0}catch(q){return!1}}}var x;if(w){var A=Object.getOwnPropertyDescriptor(Map.prototype,\\"size\\").get;x=function(t){try{return A.call(t),!0}catch(q){return!1}}}var k=m&&Set.prototype.forEach,P=w&&Map.prototype.forEach,E=function(t){var r=[];return u.call(t,o)?t[o]():k&&D(t)?(k.call(t,function(t){r.push(t)}),{next:function(){return 0===r.length?{done:!0}:{value:r.splice(0,1)[0],done:!1}}}):P&&x(t)?(P.call(t,function(t,e){r.push([e,t])}),{next:function(){return 0===r.length?{done:!0}:{value:r.splice(0,1)[0],done:!1}}}):t},T=String.prototype.match,z=function(t){var r=j(E(t));if(!r)if(e(t))r=T.call(t,/[\\\\uD800-\\\\uDBFF][\\\\uDC00-\\\\uDFFF]?|[^\\\\uD800-\\\\uDFFF]|./g)||[];else if(a&&!S(t))try{r=a(t)}catch(q){}return r||t};Object.defineProperty(Array,\\"from\\",{configurable:!0,value:function(r){var e=this;if(null===r||void 0===r)throw new TypeError(\\"\`Array.from\` requires an array-like object, not \`null\` or \`undefined\`\\");var o,a;if(\\"undefined\\"!=typeof arguments[1]){if(o=arguments[1],!n(o))throw new TypeError(\\"When provided, the second argument to \`Array.from\` must be a function\\");arguments.length>2&&(a=arguments[2])}for(var u,c,i=Object(z(r)),f=t(i.length),l=n(e)?Object(new e(f)):new Array(f),p=0;p<f;)u=i[p],c=o?void 0===a?o(u,p):o.apply(a,[u,p]):u,Object.defineProperty(l,p,{configurable:!0,enumerable:!0,value:c,writable:!0}),p+=1;return l.length=f,l},writable:!0})}();!function(){\\"use strict\\";var r=function(){try{var r={},e=Object.defineProperty,n=e(r,r,r)&&e}catch(t){}return n}(),e=function(r){try{return!!new r}catch(e){return!1}},n=function(){for(var n,t=arguments,a=t.length,u=this,c=e(u)?new u(a):new Array(a),i=0;i<a;)n=t[i],r?r(c,i,{value:n,writable:!0,enumerable:!0,configurable:!0}):c[i]=n,i+=1;return c.length=a,c};r?r(Array,\\"of\\",{value:n,configurable:!0,writable:!0}):Array.of=n}();Object.defineProperty(Array.prototype,\\"fill\\",{configurable:!0,value:function(t){if(this===undefined||null===this)throw new TypeError(this+\\" is not an object\\");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,r=1 in arguments?parseInt(Number(arguments[1]),10)||0:0;r=r<0?Math.max(n+r,0):Math.min(r,n);var a=2 in arguments&&arguments[2]!==undefined?parseInt(Number(arguments[2]),10)||0:n;for(a=a<0?Math.max(n+arguments[2],0):Math.min(a,n);r<a;)e[r]=t,++r;return e},writable:!0});!function(){function e(e,t){for(var n=-1,o=e.length;++n<o;)if(n in e&&e[n]===t)return n;return-1}var t={click:1,dblclick:1,keyup:1,keypress:1,keydown:1,mousedown:1,mouseup:1,mousemove:1,mouseover:1,mouseenter:1,mouseleave:1,mouseout:1,storage:1,storagecommit:1,textinput:1};if(\\"undefined\\"!=typeof document&&\\"undefined\\"!=typeof window){var n=window.Event&&window.Event.prototype||null;window.Event=Window.prototype.Event=function(e,t){if(!e)throw new Error(\\"Not enough arguments\\");var n;if(\\"createEvent\\"in document){n=document.createEvent(\\"Event\\");var o=!(!t||t.bubbles===undefined)&&t.bubbles,i=!(!t||t.cancelable===undefined)&&t.cancelable;return n.initEvent(e,o,i),n}return n=document.createEventObject(),n.type=e,n.bubbles=!(!t||t.bubbles===undefined)&&t.bubbles,n.cancelable=!(!t||t.cancelable===undefined)&&t.cancelable,n},n&&Object.defineProperty(window.Event,\\"prototype\\",{configurable:!1,enumerable:!1,writable:!0,value:n}),\\"createEvent\\"in document||(window.addEventListener=Window.prototype.addEventListener=Document.prototype.addEventListener=Element.prototype.addEventListener=function(){var n=this,o=arguments[0],i=arguments[1];if(n===window&&o in t)throw new Error(\\"In IE8 the event: \\"+o+\\" is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.\\");n._events||(n._events={}),n._events[o]||(n._events[o]=function(t){var o,i=n._events[t.type].list,r=i.slice(),c=-1,a=r.length;for(t.preventDefault=function(){!1!==t.cancelable&&(t.returnValue=!1)},t.stopPropagation=function(){t.cancelBubble=!0},t.stopImmediatePropagation=function(){t.cancelBubble=!0,t.cancelImmediate=!0},t.currentTarget=n,t.relatedTarget=t.fromElement||null,t.target=t.target||t.srcElement||n,t.timeStamp=(new Date).getTime(),t.clientX&&(t.pageX=t.clientX+document.documentElement.scrollLeft,t.pageY=t.clientY+document.documentElement.scrollTop);++c<a&&!t.cancelImmediate;)c in r&&(o=r[c],-1!==e(i,o)&&\\"function\\"==typeof o&&o.call(n,t))},n._events[o].list=[],n.attachEvent&&n.attachEvent(\\"on\\"+o,n._events[o])),n._events[o].list.push(i)},window.removeEventListener=Window.prototype.removeEventListener=Document.prototype.removeEventListener=Element.prototype.removeEventListener=function(){var t,n=this,o=arguments[0],i=arguments[1];n._events&&n._events[o]&&n._events[o].list&&-1!==(t=e(n._events[o].list,i))&&(n._events[o].list.splice(t,1),n._events[o].list.length||(n.detachEvent&&n.detachEvent(\\"on\\"+o,n._events[o]),delete n._events[o]))},window.dispatchEvent=Window.prototype.dispatchEvent=Document.prototype.dispatchEvent=Element.prototype.dispatchEvent=function(e){if(!arguments.length)throw new Error(\\"Not enough arguments\\");if(!e||\\"string\\"!=typeof e.type)throw new Error(\\"DOM Events Exception 0\\");var t=this,n=e.type;try{if(!e.bubbles){e.cancelBubble=!0;var o=function(e){e.cancelBubble=!0,(t||window).detachEvent(\\"on\\"+n,o)};this.attachEvent(\\"on\\"+n,o)}this.fireEvent(\\"on\\"+n,e)}catch(i){e.target=t;do{e.currentTarget=t,\\"_events\\"in t&&\\"function\\"==typeof t._events[n]&&t._events[n].call(t,e),\\"function\\"==typeof t[\\"on\\"+n]&&t[\\"on\\"+n].call(t,e),t=9===t.nodeType?t.parentWindow:t.parentNode}while(t&&!e.cancelBubble)}return!0},document.attachEvent(\\"onreadystatechange\\",function(){\\"complete\\"===document.readyState&&document.dispatchEvent(new Event(\\"DOMContentLoaded\\",{bubbles:!0}))}))}}();this.CustomEvent=function(e,t){if(!e)throw Error('TypeError: Failed to construct \\"CustomEvent\\": An event name must be provided.');var n;if(t=t||{bubbles:!1,cancelable:!1,detail:null},\\"createEvent\\"in document)try{n=document.createEvent(\\"CustomEvent\\"),n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail)}catch(l){n=document.createEvent(\\"Event\\"),n.initEvent(e,t.bubbles,t.cancelable),n.detail=t.detail}else n=new Event(e,t),n.detail=t&&t.detail||null;return n},CustomEvent.prototype=Event.prototype;var _DOMTokenList=function(){var n=!0,t=function(t,e,r,o){Object.defineProperty?Object.defineProperty(t,e,{configurable:!1===n||!!o,get:r}):t.__defineGetter__(e,r)};try{t({},\\"support\\")}catch(e){n=!1}return function(n,e){var r=this,o=[],i={},a=0,c=0,f=function(n){t(r,n,function(){return u(),o[n]},!1)},l=function(){if(a>=c)for(;c<a;++c)f(c)},u=function(){var t,r,c=arguments,f=/\\\\s+/;if(c.length)for(r=0;r<c.length;++r)if(f.test(c[r]))throw t=new SyntaxError('String \\"'+c[r]+'\\" contains an invalid character'),t.code=5,t.name=\\"InvalidCharacterError\\",t;for(o=\\"object\\"==typeof n[e]?(\\"\\"+n[e].baseVal).replace(/^\\\\s+|\\\\s+$/g,\\"\\").split(f):(\\"\\"+n[e]).replace(/^\\\\s+|\\\\s+$/g,\\"\\").split(f),\\"\\"===o[0]&&(o=[]),i={},r=0;r<o.length;++r)i[o[r]]=!0;a=o.length,l()};return u(),t(r,\\"length\\",function(){return u(),a}),r.toLocaleString=r.toString=function(){return u(),o.join(\\" \\")},r.item=function(n){return u(),o[n]},r.contains=function(n){return u(),!!i[n]},r.add=function(){u.apply(r,t=arguments);for(var t,c,f=0,g=t.length;f<g;++f)c=t[f],i[c]||(o.push(c),i[c]=!0);a!==o.length&&(a=o.length>>>0,\\"object\\"==typeof n[e]?n[e].baseVal=o.join(\\" \\"):n[e]=o.join(\\" \\"),l())},r.remove=function(){u.apply(r,t=arguments);for(var t,c={},f=0,g=[];f<t.length;++f)c[t[f]]=!0,delete i[t[f]];for(f=0;f<o.length;++f)c[o[f]]||g.push(o[f]);o=g,a=g.length>>>0,\\"object\\"==typeof n[e]?n[e].baseVal=o.join(\\" \\"):n[e]=o.join(\\" \\"),l()},r.toggle=function(n,t){return u.apply(r,[n]),undefined!==t?t?(r.add(n),!0):(r.remove(n),!1):i[n]?(r.remove(n),!1):(r.add(n),!0)},r}}();!function(t){\\"DOMTokenList\\"in t&&t.DOMTokenList&&(!document.createElementNS||!document.createElementNS(\\"http://www.w3.org/2000/svg\\",\\"svg\\")||document.createElementNS(\\"http://www.w3.org/2000/svg\\",\\"svg\\").classList instanceof DOMTokenList)||(t.DOMTokenList=_DOMTokenList),function(){var t=document.createElement(\\"span\\");\\"classList\\"in t&&(t.classList.toggle(\\"x\\",!1),t.classList.contains(\\"x\\")&&(t.classList.constructor.prototype.toggle=function(t){var s=arguments[1];if(s===undefined){var e=!this.contains(t);return this[e?\\"add\\":\\"remove\\"](t),e}return s=!!s,this[s?\\"add\\":\\"remove\\"](t),s}))}(),function(){var t=document.createElement(\\"span\\");if(\\"classList\\"in t&&(t.classList.add(\\"a\\",\\"b\\"),!t.classList.contains(\\"b\\"))){var s=t.classList.constructor.prototype.add;t.classList.constructor.prototype.add=function(){for(var t=arguments,e=arguments.length,n=0;n<e;n++)s.call(this,t[n])}}}(),function(){var t=document.createElement(\\"span\\");if(\\"classList\\"in t&&(t.classList.add(\\"a\\"),t.classList.add(\\"b\\"),t.classList.remove(\\"a\\",\\"b\\"),t.classList.contains(\\"b\\"))){var s=t.classList.constructor.prototype.remove;t.classList.constructor.prototype.remove=function(){for(var t=arguments,e=arguments.length,n=0;n<e;n++)s.call(this,t[n])}}}()}(this);this.DocumentFragment=document.createDocumentFragment().constructor;var _mutation=function(){function e(e){return\\"function\\"==typeof Node?e instanceof Node:e&&\\"object\\"==typeof e&&e.nodeName&&e.nodeType>=1&&e.nodeType<=12}return function(n){if(1===n.length)return e(n[0])?n[0]:document.createTextNode(n[0]+\\"\\");for(var t=document.createDocumentFragment(),o=0;o<n.length;o++)t.appendChild(e(n[o])?n[o]:document.createTextNode(n[o]+\\"\\"));return t}}();DocumentFragment.prototype.append=function(){this.appendChild(_mutation(arguments))};DocumentFragment.prototype.prepend=function(){this.insertBefore(_mutation(arguments),this.firstChild)};Document.prototype.after=Element.prototype.after=function(){if(this.parentNode){for(var t=Array.prototype.slice.call(arguments),e=this.nextSibling,o=e?t.indexOf(e):-1;-1!==o&&(e=e.nextSibling);)o=t.indexOf(e);this.parentNode.insertBefore(_mutation(arguments),e)}},\\"Text\\"in this&&(Text.prototype.after=Element.prototype.after);Document.prototype.append=Element.prototype.append=function(){this.appendChild(_mutation(arguments))};Document.prototype.before=Element.prototype.before=function(){if(this.parentNode){for(var e=Array.prototype.slice.call(arguments),t=this.previousSibling,o=t?e.indexOf(t):-1;-1!==o&&(t=t.previousSibling);)o=e.indexOf(t);this.parentNode.insertBefore(_mutation(arguments),t?t.nextSibling:this.parentNode.firstChild)}},\\"Text\\"in this&&(Text.prototype.before=Element.prototype.before);!function(e){var t=!0,r=function(e,r,n,i){Object.defineProperty?Object.defineProperty(e,r,{configurable:!1===t||!!i,get:n}):e.__defineGetter__(r,n)};try{r({},\\"support\\")}catch(i){t=!1}var n=function(e,i,l){r(e.prototype,i,function(){var e,c=this,s=\\"__defineGetter__DEFINE_PROPERTY\\"+i;if(c[s])return e;if(c[s]=!0,!1===t){for(var o,a=n.mirror||document.createElement(\\"div\\"),f=a.childNodes,d=f.length,m=0;m<d;++m)if(f[m]._R===c){o=f[m];break}o||(o=a.appendChild(document.createElement(\\"div\\"))),e=DOMTokenList.call(o,c,l)}else e=new DOMTokenList(c,l);return r(c,i,function(){return e}),delete c[s],e},!0)};n(e.Element,\\"classList\\",\\"className\\"),n(e.HTMLElement,\\"classList\\",\\"className\\"),n(e.HTMLLinkElement,\\"relList\\",\\"rel\\"),n(e.HTMLAnchorElement,\\"relList\\",\\"rel\\"),n(e.HTMLAreaElement,\\"relList\\",\\"rel\\")}(this);Element.prototype.matches=Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||function(e){for(var t=this,o=(t.document||t.ownerDocument).querySelectorAll(e),r=0;o[r]&&o[r]!==t;)++r;return!!o[r]};Element.prototype.closest=function(e){for(var n=this;n;){if(n.matches(e))return n;n=\\"SVGElement\\"in window&&n instanceof SVGElement?n.parentNode:n.parentElement}return null};Document.prototype.prepend=Element.prototype.prepend=function(){this.insertBefore(_mutation(arguments),this.firstChild)};Document.prototype.remove=Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)},\\"Text\\"in this&&(Text.prototype.remove=Element.prototype.remove);Document.prototype.replaceWith=Element.prototype.replaceWith=function(){this.parentNode&&this.parentNode.replaceChild(_mutation(arguments),this)},\\"Text\\"in this&&(Text.prototype.replaceWith=Element.prototype.replaceWith);Object.defineProperty(Symbol,\\"species\\",{value:Symbol(\\"species\\")});!function(e){function t(e,t){var r=e[t];if(null===r||r===undefined)return undefined;if(\\"function\\"!=typeof r)throw new TypeError(\\"Method not callable: \\"+t);return r}function r(e){if(!(1 in arguments))var r=t(e,Symbol.iterator);var o=r.call(e);if(\\"object\\"!=typeof o)throw new TypeError(\\"bad iterator\\");var n=o.next,a=Object.create(null);return a[\\"[[Iterator]]\\"]=o,a[\\"[[NextMethod]]\\"]=n,a[\\"[[Done]]\\"]=!1,a}function o(e){if(1 in arguments)var t=e[\\"[[NextMethod]]\\"].call(e[\\"[[Iterator]]\\"],arguments[1]);else var t=e[\\"[[NextMethod]]\\"].call(e[\\"[[Iterator]]\\"]);if(\\"object\\"!=typeof t)throw new TypeError(\\"bad iterator\\");return t}function n(e){if(\\"object\\"!=typeof e)throw new Error(Object.prototype.toString.call(e)+\\"is not an Object.\\");return Boolean(e.done)}function a(e){if(\\"object\\"!=typeof e)throw new Error(Object.prototype.toString.call(e)+\\"is not an Object.\\");return e.value}function i(e){var t=o(e);return!0!==n(t)&&t}function l(e,r){if(\\"object\\"!=typeof e[\\"[[Iterator]]\\"])throw new Error(Object.prototype.toString.call(e[\\"[[Iterator]]\\"])+\\"is not an Object.\\");var o=e[\\"[[Iterator]]\\"],n=t(o,\\"return\\");if(n===undefined)return r;try{var a=n.call(o)}catch(l){var i=l}if(r)return r;if(i)throw i;if(\\"object\\"==typeof a)throw new TypeError(\\"Iterator's return method returned a non-object.\\");return r}function c(e,t){if(\\"boolean\\"!=typeof t)throw new Error;var r={};return r.value=e,r.done=t,r}function p(e,t){if(\\"object\\"!=typeof e)throw new TypeError(\\"createMapIterator called on incompatible receiver \\"+Object.prototype.toString.call(e));if(!0!==e._es6Map)throw new TypeError(\\"createMapIterator called on incompatible receiver \\"+Object.prototype.toString.call(e));var r=Object.create(v);return Object.defineProperty(r,\\"[[Map]]\\",{configurable:!0,enumerable:!1,writable:!0,value:e}),Object.defineProperty(r,\\"[[MapNextIndex]]\\",{configurable:!0,enumerable:!1,writable:!0,value:0}),Object.defineProperty(r,\\"[[MapIterationKind]]\\",{configurable:!0,enumerable:!1,writable:!0,value:t}),r}var u=function(e,t){return typeof e==typeof t&&(\\"number\\"==typeof e?!(!isNaN(e)||!isNaN(t))||(0===e&&-0===t||(-0===e&&0===t||e===t)):e===t)},f=function(e,t){var r=arguments[2]||{},o=Object.getPrototypeOf(e),n=Object.create(o);for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&Object.defineProperty(n,a,{configurable:!0,enumerable:!1,writable:!0,value:r[a]});return n},y=Symbol(\\"undef\\"),b=function(){try{var e={};return Object.defineProperty(e,\\"t\\",{configurable:!0,enumerable:!1,get:function(){return!0},set:undefined}),!!e.t}catch(t){return!1}}(),s=function(e){return\\"function\\"==typeof e},d=function w(){if(!(this instanceof w))throw new TypeError('Constructor Map requires \\"new\\"');var e=f(this,\\"%MapPrototype%\\",{_keys:[],_values:[],_size:0,_es6Map:!0});b||Object.defineProperty(e,\\"size\\",{configurable:!0,enumerable:!1,writable:!0,value:0});var t=arguments[0]||undefined;if(null===t||t===undefined)return e;var o=e.set;if(!s(o))throw new TypeError(\\"Map.prototype.set is not a function\\");try{for(var n=r(t);;){var c=i(n);if(!1===c)return e;var p=a(c);if(\\"object\\"!=typeof p)try{throw new TypeError(\\"Iterator value \\"+p+\\" is not an entry object\\")}catch(h){return l(n,h)}try{var u=p[0],y=p[1];o.call(e,u,y)}catch(j){return l(n,j)}}}catch(j){if(Array.isArray(t)||\\"[object Arguments]\\"===Object.prototype.toString.call(t)||t.callee){var d,v=t.length;for(d=0;d<v;d++)o.call(e,t[d][0],t[d][1])}}return e};Object.defineProperty(d,\\"prototype\\",{configurable:!1,enumerable:!1,writable:!1,value:{}}),b?Object.defineProperty(d,Symbol.species,{configurable:!0,enumerable:!1,get:function(){return this},set:undefined}):Object.defineProperty(d,Symbol.species,{configurable:!0,enumerable:!1,writable:!0,value:d}),Object.defineProperty(d.prototype,\\"clear\\",{configurable:!0,enumerable:!1,writable:!0,value:function(){var e=this;if(\\"object\\"!=typeof e)throw new TypeError(\\"Method Map.prototype.clear called on incompatible receiver \\"+Object.prototype.toString.call(e));if(!0!==e._es6Map)throw new TypeError(\\"Method Map.prototype.clear called on incompatible receiver \\"+Object.prototype.toString.call(e));for(var t=e._keys,r=0;r<t.length;r++)e._keys[r]=y,e._values[r]=y;return this._size=0,b||(this.size=this._size),undefined}}),Object.defineProperty(d.prototype,\\"constructor\\",{configurable:!0,enumerable:!1,writable:!0,value:d}),Object.defineProperty(d.prototype,\\"delete\\",{configurable:!0,enumerable:!1,writable:!0,value:function(e){var t=this;if(\\"object\\"!=typeof t)throw new TypeError(\\"Method Map.prototype.clear called on incompatible receiver \\"+Object.prototype.toString.call(t));if(!0!==t._es6Map)throw new TypeError(\\"Method Map.prototype.clear called on incompatible receiver \\"+Object.prototype.toString.call(t));for(var r=t._keys,o=0;o<r.length;o++)if(t._keys[o]!==y&&u(t._keys[o],e))return this._keys[o]=y,this._values[o]=y,--this._size,b||(this.size=this._size),!0;return!1}}),Object.defineProperty(d.prototype,\\"entries\\",{configurable:!0,enumerable:!1,writable:!0,value:function(){return p(this,\\"key+value\\")}}),Object.defineProperty(d.prototype,\\"forEach\\",{configurable:!0,enumerable:!1,writable:!0,value:function(e){var t=this;if(\\"object\\"!=typeof t)throw new TypeError(\\"Method Map.prototype.forEach called on incompatible receiver \\"+Object.prototype.toString.call(t));if(!0!==t._es6Map)throw new TypeError(\\"Method Map.prototype.forEach called on incompatible receiver \\"+Object.prototype.toString.call(t));if(!s(e))throw new TypeError(Object.prototype.toString.call(e)+\\" is not a function.\\");if(arguments[1])var r=arguments[1];for(var o=t._keys,n=0;n<o.length;n++)t._keys[n]!==y&&t._values[n]!==y&&e.call(r,t._values[n],t._keys[n],t);return undefined}}),Object.defineProperty(d.prototype,\\"get\\",{configurable:!0,enumerable:!1,writable:!0,value:function(e){var t=this;if(\\"object\\"!=typeof t)throw new TypeError(\\"Method Map.prototype.get called on incompatible receiver \\"+Object.prototype.toString.call(t));if(!0!==t._es6Map)throw new TypeError(\\"Method Map.prototype.get called on incompatible receiver \\"+Object.prototype.toString.call(t));for(var r=t._keys,o=0;o<r.length;o++)if(t._keys[o]!==y&&u(t._keys[o],e))return t._values[o];return undefined}}),Object.defineProperty(d.prototype,\\"has\\",{configurable:!0,enumerable:!1,writable:!0,value:function(e){var t=this;if(\\"object\\"!=typeof t)throw new TypeError(\\"Method Map.prototype.has called on incompatible receiver \\"+Object.prototype.toString.call(t));if(!0!==t._es6Map)throw new TypeError(\\"Method Map.prototype.has called on incompatible receiver \\"+Object.prototype.toString.call(t));for(var r=t._keys,o=0;o<r.length;o++)if(t._keys[o]!==y&&u(t._keys[o],e))return!0;return!1}}),Object.defineProperty(d.prototype,\\"keys\\",{configurable:!0,enumerable:!1,writable:!0,value:function(){return p(this,\\"key\\")}}),Object.defineProperty(d.prototype,\\"set\\",{configurable:!0,enumerable:!1,writable:!0,value:function(e,t){var r=this;if(\\"object\\"!=typeof r)throw new TypeError(\\"Method Map.prototype.set called on incompatible receiver \\"+Object.prototype.toString.call(r));if(!0!==r._es6Map)throw new TypeError(\\"Method Map.prototype.set called on incompatible receiver \\"+Object.prototype.toString.call(r));for(var o=r._keys,n=0;n<o.length;n++)if(r._keys[n]!==y&&u(r._keys[n],e))return r._values[n]=t,r;-0===e&&(e=0);var a={};return a[\\"[[Key]]\\"]=e,a[\\"[[Value]]\\"]=t,r._keys.push(a[\\"[[Key]]\\"]),r._values.push(a[\\"[[Value]]\\"]),++r._size,b||(r.size=r._size),r}}),b&&Object.defineProperty(d.prototype,\\"size\\",{configurable:!0,enumerable:!1,get:function(){var e=this;if(\\"object\\"!=typeof e)throw new TypeError(\\"Method Map.prototype.size called on incompatible receiver \\"+Object.prototype.toString.call(e));if(!0!==e._es6Map)throw new TypeError(\\"Method Map.prototype.size called on incompatible receiver \\"+Object.prototype.toString.call(e));for(var t=e._keys,r=0,o=0;o<t.length;o++)e._keys[o]!==y&&(r+=1);return r},set:undefined}),Object.defineProperty(d.prototype,\\"values\\",{configurable:!0,enumerable:!1,writable:!0,value:function(){return p(this,\\"value\\")}}),Object.defineProperty(d.prototype,Symbol.iterator,{configurable:!0,enumerable:!1,writable:!0,value:d.prototype.entries}),\\"name\\"in d||Object.defineProperty(d,\\"name\\",{configurable:!0,enumerable:!1,writable:!1,value:\\"Map\\"});var v={isMapIterator:!0,next:function(){var e=this;if(\\"object\\"!=typeof e)throw new TypeError(\\"Method %MapIteratorPrototype%.next called on incompatible receiver \\"+Object.prototype.toString.call(e));if(!e.isMapIterator)throw new TypeError(\\"Method %MapIteratorPrototype%.next called on incompatible receiver \\"+Object.prototype.toString.call(e));var t=e[\\"[[Map]]\\"],r=e[\\"[[MapNextIndex]]\\"],o=e[\\"[[MapIterationKind]]\\"];if(t===undefined)return c(undefined,!0);if(!t._es6Map)throw new Error;for(var n=t._keys,a=n.length;r<a;){var i=Object.create(null);if(i[\\"[[Key]]\\"]=t._keys[r],i[\\"[[Value]]\\"]=t._values[r],r+=1,e[\\"[[MapNextIndex]]\\"]=r,i[\\"[[Key]]\\"]!==y){if(\\"key\\"===o)var l=i[\\"[[Key]]\\"];else if(\\"value\\"===o)var l=i[\\"[[Value]]\\"];else{if(\\"key+value\\"!==o)throw new Error;var l=[i[\\"[[Key]]\\"],i[\\"[[Value]]\\"]]}return c(l,!1)}}return e[\\"[[Map]]\\"]=undefined,c(undefined,!0)}};Object.defineProperty(v,Symbol.iterator,{configurable:!0,enumerable:!1,writable:!0,value:function(){return this}});try{Object.defineProperty(e,\\"Map\\",{configurable:!0,enumerable:!1,writable:!0,value:d})}catch(h){e.Map=d}}(this);!function(){function t(t){if(!(0 in arguments))throw new TypeError(\\"1 argument is required\\");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1}if(\\"HTMLElement\\"in this&&\\"contains\\"in HTMLElement.prototype)try{delete HTMLElement.prototype.contains}catch(e){}\\"Node\\"in this?Node.prototype.contains=t:document.contains=Element.prototype.contains=t}();!function(n){function t(e){if(r[e])return r[e].exports;var o=r[e]={exports:{},id:e,loaded:!1};return n[e].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};t.m=n,t.c=r,t.p=\\"\\",t(0)}({0:function(n,t,r){(function(n){var t=r(80);try{(n||{}).Promise=t,window.Promise=t}catch(e){}}).call(t,function(){return this}())},80:function(n,t){(function(t){!function(){\\"use strict\\";function r(){return en[B][G]||J}function e(n,t){for(var r in t)n[r]=t[r]}function o(n){return n&&\\"object\\"==typeof n}function i(n){return\\"function\\"==typeof n}function u(n,t){return n instanceof t}function c(n){return u(n,U)}function f(n,t,r){if(!t(n))throw v(r)}function s(){try{return C.apply(F,arguments)}catch(e){return nn.e=e,nn}}function a(n,t){return C=n,F=t,s}function l(n,t){function r(){for(var r=0;r<o;)t(e[r],e[r+1]),e[r++]=S,e[r++]=S;o=0,e.length>n&&(e.length=n)}var e=O(n),o=0;return function(n,t){e[o++]=n,e[o++]=t,2===o&&en.nextTick(r)}}function h(n,t){var r,e,o,c,f=0;if(!n)throw v(V);var s=n[en[B][D]];if(i(s))e=s.call(n);else{if(!i(n.next)){if(u(n,O)){for(r=n.length;f<r;)t(n[f],f++);return f}throw v(V)}e=n}for(;!(o=e.next()).done;)if((c=a(t)(o.value,f++))===nn)throw i(e[K])&&e[K](),c.e;return f}function v(n){return new TypeError(n)}function _(n){return(n?\\"\\":W)+(new U).stack}function d(n,t){var r=\\"on\\"+n.toLowerCase(),e=H[r];I&&I.listeners(n).length?n===Z?I.emit(n,t._v,t):I.emit(n,t):e?e({reason:t._v,promise:t}):en[n](t._v,t)}function p(n){return n&&n._s}function w(n){if(p(n))return new n(tn);var t,r,e;return t=new n(function(n,o){if(t)throw v();r=n,e=o}),f(r,i),f(e,i),t}function m(n,t){return function(r){A&&(n[Q]=_(!0)),t===q?T(n,r):k(n,t,r)}}function y(n,t,r,e){return i(r)&&(t._onFulfilled=r),i(e)&&(n[M]&&d(Y,n),t._onRejected=e),A&&(t._p=n),n[n._c++]=t,n._s!==z&&on(n,t),t}function j(n){if(n._umark)return!0;n._umark=!0;for(var t,r=0,e=n._c;r<e;)if(t=n[r++],t._onRejected||j(t))return!0}function x(n,t){function r(n){return e.push(n.replace(/^\\\\s+|\\\\s+$/g,\\"\\"))}var e=[];return A&&(t[Q]&&r(t[Q]),function o(n){n&&N in n&&(o(n._next),r(n[N]+\\"\\"),o(n._p))}(t)),(n&&n.stack?n.stack:n)+(\\"\\\\n\\"+e.join(\\"\\\\n\\")).replace(rn,\\"\\")}function g(n,t){return n(t)}function k(n,t,r){var e=0,o=n._c;if(n._s===z)for(n._s=t,n._v=r,t===$&&(A&&c(r)&&(r.longStack=x(r,n)),un(n));e<o;)on(n,n[e++]);return n}function T(n,t){if(t===n&&t)return k(n,$,v(X)),n;if(t!==P&&(i(t)||o(t))){var r=a(b)(t);if(r===nn)return k(n,$,r.e),n;i(r)?(A&&p(t)&&(n._next=t),p(t)?R(n,t,r):en.nextTick(function(){R(n,t,r)})):k(n,q,t)}else k(n,q,t);return n}function b(n){return n.then}function R(n,t,r){var e=a(r,t)(function(r){t&&(t=P,T(n,r))},function(r){t&&(t=P,k(n,$,r))});e===nn&&t&&(k(n,$,e.e),t=P)}var S,C,F,P=null,E=\\"object\\"==typeof window,H=E?window:t,I=H.process,L=H.console,A=!1,O=Array,U=Error,$=1,q=2,z=3,B=\\"Symbol\\",D=\\"iterator\\",G=\\"species\\",J=B+\\"(\\"+G+\\")\\",K=\\"return\\",M=\\"_uh\\",N=\\"_pt\\",Q=\\"_st\\",V=\\"Invalid argument\\",W=\\"\\\\nFrom previous \\",X=\\"Chaining cycle detected for promise\\",Y=\\"rejectionHandled\\",Z=\\"unhandledRejection\\",nn={e:P},tn=function(){},rn=/^.+\\\\/node_modules\\\\/yaku\\\\/.+\\\\n?/gm,en=n.exports=function(n){var t,r=this;if(!o(r)||r._s!==S)throw v(\\"Invalid this\\");if(r._s=z,A&&(r[N]=_()),n!==tn){if(!i(n))throw v(V);(t=a(n)(m(r,q),m(r,$)))===nn&&k(r,$,t.e)}};en[\\"default\\"]=en,e(en.prototype,{then:function(n,t){if(void 0===this._s)throw v();return y(this,w(en.speciesConstructor(this,en)),n,t)},\\"catch\\":function(n){return this.then(S,n)},\\"finally\\":function(n){function t(t){return en.resolve(n()).then(function(){return t})}return this.then(t,t)},_c:0,_p:P}),en.resolve=function(n){return p(n)?n:T(w(this),n)},en.reject=function(n){return k(w(this),$,n)},en.race=function(n){var t=this,r=w(t),e=function(n){k(r,q,n)},o=function(n){k(r,$,n)},i=a(h)(n,function(n){t.resolve(n).then(e,o)});return i===nn?t.reject(i.e):r},en.all=function(n){function t(n){k(o,$,n)}var r,e=this,o=w(e),i=[];return r=a(h)(n,function(n,u){e.resolve(n).then(function(n){i[u]=n,--r||k(o,q,i)},t)}),r===nn?e.reject(r.e):(r||k(o,q,[]),o)},en.Symbol=H[B]||{},a(function(){Object.defineProperty(en,r(),{get:function(){return this}})})(),en.speciesConstructor=function(n,t){var e=n.constructor;return e?e[r()]||t:t},en.unhandledRejection=function(n,t){L&&L.error(\\"Uncaught (in promise)\\",A?t.longStack:x(n,t))},en.rejectionHandled=tn,en.enableLongStackTrace=function(){A=!0},en.nextTick=E?function(n){setTimeout(n)}:I.nextTick,en._s=1;var on=l(999,function(n,t){var r,e;return e=n._s!==$?t._onFulfilled:t._onRejected,e===S?void k(t,n._s,n._v):(r=a(g)(e,n._v),r===nn?void k(t,$,r.e):void T(t,r))}),un=l(9,function(n){j(n)||(n[M]=1,d(Z,n))})}()}).call(t,function(){return this}())}});!function(t){function e(t){return Number.isNaN(t)?r:t}function i(t){return t===r?NaN:t}function n(t,e){var i=0;return{next:function(){for(;t._values[i]===o;)i++;return i===t._values.length?{value:void 0,done:!0}:{value:e.call(t,i++),done:!1}}}}var o=Symbol(\\"undef\\"),r=Symbol(\\"NaN\\"),s=function(){var t=arguments[0];this._values=[],this.size=this._size=0,t&&\\"function\\"==typeof t.forEach&&t.forEach(function(t){this.add.call(this,t)},this)};try{Object.defineProperty(s.prototype,\\"size\\",{get:function(){return this._size}})}catch(u){}s.prototype.add=function(t){return t=e(t),-1===this._values.indexOf(t)&&(this._values.push(t),this.size=++this._size),this},s.prototype.has=function(t){return-1!==this._values.indexOf(e(t))},s.prototype[\\"delete\\"]=function(t){var i=this._values.indexOf(e(t));return-1!==i&&(this._values[i]=o,this.size=--this._size,!0)},s.prototype.clear=function(){this._values=[],this.size=this._size=0},s.prototype[Symbol.iterator]=s.prototype.values=s.prototype.keys=function(){var t=n(this,function(t){return i(this._values[t])});return t[Symbol.iterator]=this.keys.bind(this),t},s.prototype.entries=function(){var t=n(this,function(t){return[i(this._values[t]),i(this._values[t])]});return t[Symbol.iterator]=this.entries.bind(this),t},s.prototype.forEach=function(e,i){i=i||t;for(var n=this.entries(),o=n.next();!1===o.done;)e.call(i,o.value[1],o.value[0],this),o=n.next()},s.prototype.constructor=s.prototype[Symbol.species]=s,s.prototype.constructor=s,s.name=\\"Set\\",t.Set=s}(this);String.prototype.endsWith=function(t){var n=arguments.length<2?this.length:arguments[1],e=this.lastIndexOf(t);return-1!==e&&e===n-t.length};String.prototype.startsWith=function(t){var i=arguments.length<2?0:arguments[1];return 0===this.slice(i).indexOf(t)};!function(e){\\"use strict\\";function t(t){return!!t&&(\\"Symbol\\"in e&&\\"iterator\\"in e.Symbol&&\\"function\\"==typeof t[Symbol.iterator]||!!Array.isArray(t))}function n(e){return\\"from\\"in Array?Array.from(e):Array.prototype.slice.call(e)}!function(){function r(e){var t=\\"\\",n=!0;return e.forEach(function(e){var r=encodeURIComponent(e.name),a=encodeURIComponent(e.value);n||(t+=\\"&\\"),t+=r+\\"=\\"+a,n=!1}),t.replace(/%20/g,\\"+\\")}function a(e,t){var n=e.split(\\"&\\");t&&-1===n[0].indexOf(\\"=\\")&&(n[0]=\\"=\\"+n[0]);var r=[];n.forEach(function(e){if(0!==e.length){var t=e.indexOf(\\"=\\");if(-1!==t)var n=e.substring(0,t),a=e.substring(t+1);else n=e,a=\\"\\";n=n.replace(/\\\\+/g,\\" \\"),a=a.replace(/\\\\+/g,\\" \\"),r.push({name:n,value:a})}});var a=[];return r.forEach(function(e){a.push({name:decodeURIComponent(e.name),value:decodeURIComponent(e.value)})}),a}function i(e){if(c)return new s(e);var t=document.createElement(\\"a\\");return t.href=e,t}function o(e){var i=this;this._list=[],e===undefined||null===e||(e instanceof o?this._list=a(String(e)):\\"object\\"==typeof e&&t(e)?n(e).forEach(function(e){if(!t(e))throw TypeError();var r=n(e);if(2!==r.length)throw TypeError();i._list.push({name:String(r[0]),value:String(r[1])})}):\\"object\\"==typeof e&&e?Object.keys(e).forEach(function(t){i._list.push({name:String(t),value:String(e[t])})}):(e=String(e),\\"?\\"===e.substring(0,1)&&(e=e.substring(1)),this._list=a(e))),this._url_object=null,this._setList=function(e){u||(i._list=e)};var u=!1;this._update_steps=function(){u||(u=!0,i._url_object&&(\\"about:\\"===i._url_object.protocol&&-1!==i._url_object.pathname.indexOf(\\"?\\")&&(i._url_object.pathname=i._url_object.pathname.split(\\"?\\")[0]),i._url_object.search=r(i._list),u=!1))}}function u(e,t){var n=0;this.next=function(){if(n>=e.length)return{done:!0,value:undefined};var r=e[n++];return{done:!1,value:\\"key\\"===t?r.name:\\"value\\"===t?r.value:[r.name,r.value]}}}function l(t,n){function r(){var e=l.href.replace(/#$|\\\\?$|\\\\?(?=#)/g,\\"\\");l.href!==e&&(l.href=e)}function u(){m._setList(l.search?a(l.search.substring(1)):[]),m._update_steps()}if(!(this instanceof e.URL))throw new TypeError(\\"Failed to construct 'URL': Please use the 'new' operator.\\");n&&(t=function(){if(c)return new s(t,n).href;var e;try{var r;if(\\"[object OperaMini]\\"===Object.prototype.toString.call(window.operamini)?(e=document.createElement(\\"iframe\\"),e.style.display=\\"none\\",document.documentElement.appendChild(e),r=e.contentWindow.document):document.implementation&&document.implementation.createHTMLDocument?r=document.implementation.createHTMLDocument(\\"\\"):document.implementation&&document.implementation.createDocument?(r=document.implementation.createDocument(\\"http://www.w3.org/1999/xhtml\\",\\"html\\",null),r.documentElement.appendChild(r.createElement(\\"head\\")),r.documentElement.appendChild(r.createElement(\\"body\\"))):window.ActiveXObject&&(r=new window.ActiveXObject(\\"htmlfile\\"),r.write(\\"<head></head><body></body>\\"),r.close()),!r)throw Error(\\"base not supported\\");var a=r.createElement(\\"base\\");a.href=n,r.getElementsByTagName(\\"head\\")[0].appendChild(a);var i=r.createElement(\\"a\\");return i.href=t,i.href}finally{e&&e.parentNode.removeChild(e)}}());var l=i(t||\\"\\"),f=function(){if(!(\\"defineProperties\\"in Object))return!1;try{var e={};return Object.defineProperties(e,{prop:{get:function(){return!0}}}),e.prop}catch(t){return!1}}(),h=f?this:document.createElement(\\"a\\"),m=new o(l.search?l.search.substring(1):null);return m._url_object=h,Object.defineProperties(h,{href:{get:function(){return l.href},set:function(e){l.href=e,r(),u()},enumerable:!0,configurable:!0},origin:{get:function(){return\\"origin\\"in l?l.origin:this.protocol+\\"//\\"+this.host},enumerable:!0,configurable:!0},protocol:{get:function(){return l.protocol},set:function(e){l.protocol=e},enumerable:!0,configurable:!0},username:{get:function(){return l.username},set:function(e){l.username=e},enumerable:!0,configurable:!0},password:{get:function(){return l.password},set:function(e){l.password=e},enumerable:!0,configurable:!0},host:{get:function(){var e={\\"http:\\":/:80$/,\\"https:\\":/:443$/,\\"ftp:\\":/:21$/}[l.protocol];return e?l.host.replace(e,\\"\\"):l.host},set:function(e){l.host=e},enumerable:!0,configurable:!0},hostname:{get:function(){return l.hostname},set:function(e){l.hostname=e},enumerable:!0,configurable:!0},port:{get:function(){return l.port},set:function(e){l.port=e},enumerable:!0,configurable:!0},pathname:{get:function(){return\\"/\\"!==l.pathname.charAt(0)?\\"/\\"+l.pathname:l.pathname},set:function(e){l.pathname=e},enumerable:!0,configurable:!0},search:{get:function(){return l.search},set:function(e){l.search!==e&&(l.search=e,r(),u())},enumerable:!0,configurable:!0},searchParams:{get:function(){return m},enumerable:!0,configurable:!0},hash:{get:function(){return l.hash},set:function(e){l.hash=e,r()},enumerable:!0,configurable:!0},toString:{value:function(){return l.toString()},enumerable:!1,configurable:!0},valueOf:{value:function(){return l.valueOf()},enumerable:!1,configurable:!0}}),h}var c,s=e.URL;try{if(s){if(\\"searchParams\\"in(c=new e.URL(\\"http://example.com\\")))return;\\"href\\"in c||(c=undefined)}}catch(h){}if(Object.defineProperties(o.prototype,{append:{value:function(e,t){this._list.push({name:e,value:t}),this._update_steps()},writable:!0,enumerable:!0,configurable:!0},\\"delete\\":{value:function(e){for(var t=0;t<this._list.length;)this._list[t].name===e?this._list.splice(t,1):++t;this._update_steps()},writable:!0,enumerable:!0,configurable:!0},get:{value:function(e){for(var t=0;t<this._list.length;++t)if(this._list[t].name===e)return this._list[t].value;return null},writable:!0,enumerable:!0,configurable:!0},getAll:{value:function(e){for(var t=[],n=0;n<this._list.length;++n)this._list[n].name===e&&t.push(this._list[n].value);return t},writable:!0,enumerable:!0,configurable:!0},has:{value:function(e){for(var t=0;t<this._list.length;++t)if(this._list[t].name===e)return!0;return!1},writable:!0,enumerable:!0,configurable:!0},set:{value:function(e,t){for(var n=!1,r=0;r<this._list.length;)this._list[r].name===e?n?this._list.splice(r,1):(this._list[r].value=t,n=!0,++r):++r;n||this._list.push({name:e,value:t}),this._update_steps()},writable:!0,enumerable:!0,configurable:!0},entries:{value:function(){return new u(this._list,\\"key+value\\")},writable:!0,enumerable:!0,configurable:!0},keys:{value:function(){return new u(this._list,\\"key\\")},writable:!0,enumerable:!0,configurable:!0},values:{value:function(){return new u(this._list,\\"value\\")},writable:!0,enumerable:!0,configurable:!0},forEach:{value:function(e){var t=arguments.length>1?arguments[1]:undefined;this._list.forEach(function(n,r){e.call(t,n.value,n.name)})},writable:!0,enumerable:!0,configurable:!0},toString:{value:function(){return r(this._list)},writable:!0,enumerable:!1,configurable:!0}}),\\"Symbol\\"in e&&\\"iterator\\"in e.Symbol&&(Object.defineProperty(o.prototype,e.Symbol.iterator,{value:o.prototype.entries,writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,e.Symbol.iterator,{value:function(){return this},writable:!0,enumerable:!0,configurable:!0})),s)for(var f in s)s.hasOwnProperty(f)&&\\"function\\"==typeof s[f]&&(l[f]=s[f]);e.URL=l,e.URLSearchParams=o}(),function(){if(\\"1\\"!==new e.URLSearchParams([[\\"a\\",1]]).get(\\"a\\")||\\"1\\"!==new e.URLSearchParams({a:1}).get(\\"a\\")){var r=e.URLSearchParams;e.URLSearchParams=function(e){if(e&&\\"object\\"==typeof e&&t(e)){var a=new r;return n(e).forEach(function(e){if(!t(e))throw TypeError();var r=n(e);if(2!==r.length)throw TypeError();a.append(r[0],r[1])}),a}return e&&\\"object\\"==typeof e?(a=new r,Object.keys(e).forEach(function(t){a.set(t,e[t])}),a):new r(e)}}}()}(self);!function(){function e(e){this.message=e}var t=\\"undefined\\"!=typeof exports?exports:\\"undefined\\"!=typeof self?self:$.global,r=\\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\\";e.prototype=new Error,e.prototype.name=\\"InvalidCharacterError\\",t.btoa||(t.btoa=function(t){for(var o,n,a=String(t),i=0,f=r,c=\\"\\";a.charAt(0|i)||(f=\\"=\\",i%1);c+=f.charAt(63&o>>8-i%1*8)){if((n=a.charCodeAt(i+=.75))>255)throw new e(\\"'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.\\");o=o<<8|n}return c}),t.atob||(t.atob=function(t){var o=String(t).replace(/[=]+$/,\\"\\");if(o.length%4==1)throw new e(\\"'atob' failed: The string to be decoded is not correctly encoded.\\");for(var n,a,i=0,f=0,c=\\"\\";a=o.charAt(f++);~a&&(n=i%4?64*n+a:a,i++%4)?c+=String.fromCharCode(255&n>>(-2*i&6)):0)a=r.indexOf(a);return c})}();try{Object.defineProperty(window.location,\\"origin\\",{enumerable:!0,writable:!1,value:window.location.protocol+\\"//\\"+window.location.hostname+(window.location.port?\\":\\"+window.location.port:\\"\\"),configurable:!1})}catch(e){window.location.origin=window.location.protocol+\\"//\\"+window.location.hostname+(window.location.port?\\":\\"+window.location.port:\\"\\")}!function(n){var e=Date.now();n.performance||(n.performance={}),n.performance.now=function(){return Date.now()-e}}(this);!function(n){var e;if(\\"mozRequestAnimationFrame\\"in n?e=\\"moz\\":\\"webkitRequestAnimationFrame\\"in n&&(e=\\"webkit\\"),e)n.requestAnimationFrame=function(t){return n[e+\\"RequestAnimationFrame\\"](function(){t(performance.now())})},n.cancelAnimationFrame=n[e+\\"CancelAnimationFrame\\"];else{var t=Date.now();n.requestAnimationFrame=function(n){if(\\"function\\"!=typeof n)throw new TypeError(n+\\" is not a function\\");var e=Date.now(),i=16+t-e;return i<0&&(i=0),t=e,setTimeout(function(){t=Date.now(),n(performance.now())},i)},n.cancelAnimationFrame=function(n){clearTimeout(n)}}}(this);!function(e,t){function n(e,t){var n=e.createElement(\\"p\\"),r=e.getElementsByTagName(\\"head\\")[0]||e.documentElement;return n.innerHTML=\\"x<style>\\"+t+\\"</style>\\",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=y.elements;return\\"string\\"==typeof e?e.split(\\" \\"):e}function a(e,t){var n=y.elements;\\"string\\"!=typeof n&&(n=n.join(\\" \\")),\\"string\\"!=typeof e&&(e=e.join(\\" \\")),y.elements=n+\\" \\"+e,m(t)}function o(e){var t=v[e[p]];return t||(t={},g++,e[p]=g,v[g]=t),t}function c(e,n,r){if(n||(n=t),s)return n.createElement(e);r||(r=o(n));var a;return a=r.cache[e]?r.cache[e].cloneNode():h.test(e)?(r.cache[e]=r.createElem(e)).cloneNode():r.createElem(e),!a.canHaveChildren||f.test(e)||a.tagUrn?a:r.frag.appendChild(a)}function i(e,n){if(e||(e=t),s)return e.createDocumentFragment();n=n||o(e);for(var a=n.frag.cloneNode(),c=0,i=r(),l=i.length;l>c;c++)a.createElement(i[c]);return a}function l(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return y.shivMethods?c(n,e,t):t.createElem(n)},e.createDocumentFragment=Function(\\"h,f\\",\\"return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&(\\"+r().join().replace(/[\\\\w\\\\-:]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c(\\"'+e+'\\")'})+\\");return n}\\")(y,t.frag)}function m(e){e||(e=t);var r=o(e);return!y.shivCSS||u||r.hasCSS||(r.hasCSS=!!n(e,\\"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}\\")),s||l(e,r),e}var u,s,d=e.html5||{},f=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,h=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,p=\\"_html5shiv\\",g=0,v={};!function(){try{var e=t.createElement(\\"a\\");e.innerHTML=\\"<xyz></xyz>\\",u=\\"hidden\\"in e,s=1==e.childNodes.length||function(){t.createElement(\\"a\\");var e=t.createDocumentFragment();return\\"undefined\\"==typeof e.cloneNode||\\"undefined\\"==typeof e.createDocumentFragment||\\"undefined\\"==typeof e.createElement}()}catch(n){u=!0,s=!0}}();var y={elements:d.elements||\\"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video\\",version:\\"3.7.3-pre\\",shivCSS:!1!==d.shivCSS,supportsUnknownElements:s,shivMethods:!1!==d.shivMethods,type:\\"default\\",shivDocument:m,createElement:c,createDocumentFragment:i,addElements:a};e.html5=y,m(t),\\"object\\"==typeof module&&module.exports&&(module.exports=y)}(\\"undefined\\"!=typeof window?window:this,document);Array.prototype[Symbol.iterator]=function(){return new ArrayIterator(this)};!function(){function t(t,n){for(;t;){if(Object.prototype.hasOwnProperty.call(t,n))return!0;if(\\"object\\"!=typeof t)return!1;t=Object.getPrototypeOf(t)}return!1}function n(t){return t=Number(t),isNaN(t)?0:0===t||t===Infinity||t===-Infinity?t:(t<0?-1:1)*Math.floor(Math.abs(t))}Object.defineProperty(Array.prototype,\\"copyWithin\\",{configurable:!0,enumerable:!1,writable:!0,value:function(r,e){var a=arguments[2];if(null===this||this===undefined)throw new TypeError(\\"Cannot call method on \\"+this);var i=Object(this),o=n(i.length);o<=0&&(o=0),o=o===Infinity?Math.pow(2,53)-1:Math.min(o,Math.pow(2,53)-1),o=Math.max(o,0);var h,f=n(r);h=f<0?Math.max(o+f,0):Math.min(f,o);var u,l=n(e);u=l<0?Math.max(o+l,0):Math.min(l,o);var c;c=a===undefined?o:n(a);var M;M=c<0?Math.max(o+c,0):Math.min(c,o);var m,p=Math.min(M-u,o-h);for(u<h&&h<u+p?(m=-1,u=u+p-1,h=h+p-1):m=1;p>0;){var y=String(u),b=String(h);if(t(i,y)){var v=i[y];i[b]=v}else delete i[b];u+=m,h+=m,p-=1}return i}})}();Object.defineProperty(Array.prototype,\\"entries\\",{value:function(){return new ArrayIterator(this,\\"key+value\\")}});Object.defineProperty(Array.prototype,\\"find\\",{configurable:!0,value:function(t){if(this===undefined||null===this)throw new TypeError(this+\\" is not an object\\");if(\\"function\\"!=typeof t)throw new TypeError(t+\\" is not a function\\");for(var n,i=Object(this),e=arguments[1],r=i instanceof String?i.split(\\"\\"):i,o=Math.max(Math.min(r.length,9007199254740991),0)||0,f=-1;++f<o;)if(f in r&&(n=r[f],t.call(e,n,f,i)))return n},writable:!0});Object.defineProperty(Array.prototype,\\"findIndex\\",{configurable:!0,value:function(t){if(this===undefined||null===this)throw new TypeError(this+\\" is not an object\\");if(\\"function\\"!=typeof t)throw new TypeError(t+\\" is not a function\\");for(var n=Object(this),e=arguments[1],i=n instanceof String?n.split(\\"\\"):n,r=Math.max(Math.min(i.length,9007199254740991),0)||0,o=-1;++o<r;)if(o in i&&t.call(e,i[o],o,n))return o;return-1},writable:!0});Object.defineProperty(Array.prototype,\\"keys\\",{value:function(){return new ArrayIterator(this,\\"key\\")}});Object.defineProperty(Array.prototype,\\"values\\",{value:Array.prototype[Symbol.iterator],enumerable:!1,writable:!1});!function(){var n=/^\\\\s*function\\\\s+([^\\\\(\\\\s]*)\\\\s*/,t=Function,e=t.prototype,r=e.constructor,o=function(o){var c,u;return o===t||o===r?u=\\"Function\\":o!==e&&(c=(\\"\\"+o).match(n),u=c&&c[1]),u||\\"\\"};Object.defineProperty(e,\\"name\\",{get:function(){var n=this,t=o(n);return n!==e&&Object.defineProperty(n,\\"name\\",{value:t,configurable:!0}),t},configurable:!0})}();Math.acosh=function(t){return Math.log(t+Math.sqrt(t*t-1))};Math.asinh=function(t){return t===-Infinity?t:Math.log(t+Math.sqrt(t*t+1))};Math.atanh=function(t){return Math.log((1+t)/(1-t))/2};Math.cbrt=function(t){var a=Math.pow(Math.abs(t),1/3);return t<0?-a:a};Math.clz32=function(t){var n=Number(t)>>>0;return n?32-n.toString(2).length:32};Math.cosh=function(t){var a=Math.exp(t);return(a+1/a)/2};Math.expm1=function(t){return Math.exp(t)-1};Math.hypot=function(){for(var t=arguments,n=-1,i=0;++n in t&&Math.abs(i)!==Infinity;)i+=t[n]*t[n];return Math.abs(i)===Infinity?Infinity:Math.sqrt(i)};Math.imul=function(n,r){var t=n>>>16&65535,u=65535&n,a=r>>>16&65535,i=65535&r;return u*i+(t*i+u*a<<16>>>0)|0};Math.log10=function(t){return Math.log(t)/Math.LN10};Math.log1p=function(t){return Math.log(1+t)};Math.log2=function(t){return Math.log(t)/Math.LN2};Math.sign=function(n){return(n=Number(n))?n>0?1:-1:n};Math.sinh=function(n){var t=Math.exp(n);return(t-1/t)/2};Math.tanh=function(n){var t;return n===Infinity?1:n===-Infinity?-1:((t=Math.exp(2*n))-1)/(t+1)};Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)};Object.defineProperty(Number,\\"EPSILON\\",{enumerable:!1,configurable:!1,writable:!1,value:Math.pow(2,-52)});Number.MAX_SAFE_INTEGER=Math.pow(2,53)-1;Number.MIN_SAFE_INTEGER=-(Math.pow(2,53)-1);Number.isInteger=Number.isInteger||function(e){return\\"number\\"==typeof e&&isFinite(e)&&Math.floor(e)===e};Object.defineProperty(Number,\\"isSafeInteger\\",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(\\"number\\"!=typeof e)return!1;if(isNaN(e)||e===+Infinity||e===-Infinity)return!1;var r=parseInt(e,10);return r===e&&Math.abs(r)<=Math.pow(2,53)-1}});Number.parseFloat=Number.parseFloat||parseFloat;Number.parseInt=Number.parseInt||parseInt;Object.is=function(n,t){return n===t&&(0!==n||1/n==1/t)||n!==n&&t!==t};Object.defineProperty(RegExp.prototype,\\"flags\\",{configurable:!0,enumerable:!1,get:function(){var e=this;if(\\"object\\"!=typeof e)throw new TypeError(\\"Method called on incompatible type: must be an object.\\");var t=\\"\\";!!e.global&&(t+=\\"g\\"),!!e.ignoreCase&&(t+=\\"i\\"),!!e.multiline&&(t+=\\"m\\"),!!e.unicode&&(t+=\\"u\\");var o=!!o;return o&&(t+=\\"y\\"),t}});var StringIterator=function(){var t=function(e){if(!(this instanceof t))return new t(e);e=String(e),Iterator.call(this,e),Object.defineProperty(this,\\"__length__\\",{value:e.length,configurable:!1,enumerable:!1,writable:!1})};return Object.setPrototypeOf&&Object.setPrototypeOf(t,Iterator),t.prototype=Object.create(Iterator.prototype,{constructor:{value:t,configurable:!0,enumerable:!1,writable:!0},_next:{value:function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()},configurable:!0,enumerable:!1,writable:!0},_resolve:{value:function(t){var e,r=this.__list__[t];return this.__nextIndex__===this.__length__?r:(e=r.charCodeAt(0),e>=55296&&e<=56319?r+this.__list__[this.__nextIndex__++]:r)},configurable:!0,enumerable:!1,writable:!0},toString:{value:function(){return\\"[object String Iterator]\\"},configurable:!0,enumerable:!1,writable:!0}}),t}();String.prototype[Symbol.iterator]=function(){return new StringIterator(this)};!function(){function t(t){return t=Number(t),isNaN(t)?0:0===t||t===Infinity||t===-Infinity?t:(t<0?-1:1)*Math.floor(Math.abs(t))}Object.defineProperty(String.prototype,\\"codePointAt\\",{value:function(n){var r;if(null===this||this===undefined)throw new TypeError(\\"Cannot call String.prototype.codePointAt on \\"+this);r=this;var e=String(r),i=t(n),o=e.length;if(i<0||i>=o)return undefined;var a=e.charCodeAt(i);if(a<55296||a>56319||i+1===o)return a;var f=e.charCodeAt(i+1);return f<56320||f>57343?a:1024*(a-55296)+(f-56320)+65536}})}();String.prototype.repeat=function(t){\\"use strict\\";if(this===undefined||null===this)throw new TypeError(this+\\" is not an object\\");if(t<0||t===Infinity)throw new RangeError(t+\\" is less than zero or equal to infinity\\");return new Array((parseInt(t,10)||0)+1).join(this)};Object.defineProperty(Symbol,\\"hasInstance\\",{value:Symbol(\\"hasInstance\\")});Object.defineProperty(Symbol,\\"isConcatSpreadable\\",{value:Symbol(\\"isConcatSpreadable\\")});Object.defineProperty(Symbol,\\"match\\",{value:Symbol(\\"match\\")});Object.defineProperty(Symbol,\\"replace\\",{value:Symbol(\\"replace\\")});Object.defineProperty(Symbol,\\"search\\",{value:Symbol(\\"search\\")});Object.defineProperty(Symbol,\\"split\\",{value:Symbol(\\"split\\")});Object.defineProperty(Symbol,\\"toPrimitive\\",{value:Symbol(\\"toPrimitive\\")});Object.defineProperty(Symbol,\\"unscopables\\",{value:Symbol(\\"unscopables\\")});!function(){var t=Object.defineProperty,e=Date.now()%1e9,n=function(t){this.name=\\"__st\\"+(1e9*Math.random()>>>0)+e+++\\"__\\",t&&t.forEach&&t.forEach(function(t){this.set.apply(this,t)},this)};n.prototype.set=function(e,n){if(\\"object\\"!=typeof e&&\\"function\\"!=typeof e)throw new TypeError(\\"Invalid value used as weak map key\\");var a=e[this.name];return a&&a[0]===e?a[1]=n:t(e,this.name,{value:[e,n],writable:!0}),this},n.prototype.get=function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:undefined},n.prototype[\\"delete\\"]=function(t){var e=t[this.name];return!(!e||e[0]!==t)&&(e[0]=e[1]=undefined,!0)},n.prototype.has=function(t){var e=t[this.name];return!!e&&e[0]===t},n.prototype.constructor=n,n.name=\\"WeakMap\\",this.WeakMap=n}();!function(t){var e=Date.now()%1e9,n=function(t){this.name=\\"__st\\"+(1e9*Math.random()>>>0)+e+++\\"__\\",t&&t.forEach&&t.forEach(this.add,this)};n.prototype.add=function(t){var e=this.name;return t[e]||Object.defineProperty(t,e,{value:!0,writable:!0}),this},n.prototype[\\"delete\\"]=function(t){return!!t[this.name]&&(t[this.name]=undefined,!0)},n.prototype.has=function(t){return!!t[this.name]},n.prototype.constructor=n,n.name=\\"WeakSet\\",t.WeakSet=n}(this);!function(){Object.defineProperty(Array.prototype,\\"includes\\",{configurable:!0,value:function(r){\\"use strict\\";var e=Object(this),t=parseInt(e.length)||0;if(0===t)return!1;var n,i=parseInt(arguments[1])||0;i>=0?n=i:(n=t+i)<0&&(n=0);for(var a;n<t;){if(a=e[n],r===a||r!==r&&a!==a)return!0;n++}return!1},writable:!0})}();!function(){Object.defineProperty(String.prototype,\\"padEnd\\",{configurable:!0,enumerable:!1,value:function(t){if((t|=0)<=this.length)return String(this);for(var e=String(arguments[1]||\\" \\"),n=Math.ceil((t-this.length)/e.length);n--;)e+=e;return String(this)+e.substr(0,t-this.length)},writable:!0})}();!function(){Object.defineProperty(String.prototype,\\"padStart\\",{configurable:!0,enumerable:!1,value:function(t){if((t|=0)<=this.length)return String(this);for(var e=String(arguments[1]||\\" \\"),r=Math.ceil((t-this.length)/e.length);r--;)e+=e;return e.substr(0,t-this.length)+String(this)},writable:!0})}();}).call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof global && global || {});"
`;

exports[`returns a reasonable minified response for IE 11 1`] = `
"/* Disable minification (remove \`.min\` from URL path) for more info */

(function(undefined) {!function(){function e(e){if(null===e||e===undefined)throw new TypeError(\\"Cannot call method on \\"+e);return Object(e)}Object.defineProperty(Object,\\"assign\\",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){var t=e(n);if(1===arguments.length)return t;var l,o,a,i,u=Array.prototype.slice.call(arguments,1);for(l=0;l<u.length;l++){var c=u[l];for(c===undefined||null===c?a=[]:(i=e(c),a=Object.keys(i)),o=0;o<a.length;o++){var f=a[o],b=Object.getOwnPropertyDescriptor(i,f);if(b!==undefined&&b.enumerable){var d=i[f];t[f]=d}}}return t}})}();!function(e,n,t){var r,o=0,u=\\"\\"+Math.random(),a=\\"__symbol:\\",c=a.length,l=\\"__symbol@@\\"+u,i=\\"defineProperty\\",f=\\"defineProperties\\",v=\\"getOwnPropertyNames\\",s=\\"getOwnPropertyDescriptor\\",b=\\"propertyIsEnumerable\\",y=e.prototype,h=y.hasOwnProperty,m=y[b],p=y.toString,w=Array.prototype.concat,g=\\"object\\"==typeof window?e.getOwnPropertyNames(window):[],d=e[v],P=function(e){if(\\"[object Window]\\"===p.call(e))try{return d(e)}catch(n){return w.call([],g)}return d(e)},S=e[s],O=e.create,j=e.keys,E=e.freeze||e,_=e[i],k=e[f],N=S(e,v),T=function(e,n,t){if(!h.call(e,l))try{_(e,l,{enumerable:!1,configurable:!1,writable:!1,value:{}})}catch(r){e[l]={}}e[l][\\"@@\\"+n]=t},z=function(e,n){var t=O(e);return P(n).forEach(function(e){M.call(n,e)&&G(t,e,n[e])}),t},A=function(e){var n=O(e);return n.enumerable=!1,n},D=function(){},F=function(e){return e!=l&&!h.call(x,e)},I=function(e){return e!=l&&h.call(x,e)},M=function(e){var n=\\"\\"+e;return I(n)?h.call(this,n)&&this[l][\\"@@\\"+n]:m.call(this,e)},W=function(n){var t={enumerable:!1,configurable:!0,get:D,set:function(e){r(this,n,{enumerable:!1,configurable:!0,writable:!0,value:e}),T(this,n,!0)}};try{_(y,n,t)}catch(o){y[n]=t.value}return E(x[n]=_(e(n),\\"constructor\\",B))},q=function K(e){if(this instanceof K)throw new TypeError(\\"Symbol is not a constructor\\");return W(a.concat(e||\\"\\",u,++o))},x=O(null),B={value:q},C=function(e){return x[e]},G=function(e,n,t){var o=\\"\\"+n;return I(o)?(r(e,o,t.enumerable?A(t):t),T(e,o,!!t.enumerable)):_(e,n,t),e},H=function(e){return function(n){return h.call(e,l)&&h.call(e[l],\\"@@\\"+n)}},J=function(e){return P(e).filter(e===y?H(e):I).map(C)};N.value=G,_(e,i,N),N.value=J,_(e,\\"getOwnPropertySymbols\\",N),N.value=function(e){return P(e).filter(F)},_(e,v,N),N.value=function(e,n){var t=J(n);return t.length?j(n).concat(t).forEach(function(t){M.call(n,t)&&G(e,t,n[t])}):k(e,n),e},_(e,f,N),N.value=M,_(y,b,N),N.value=q,_(t,\\"Symbol\\",N),N.value=function(e){var n=a.concat(a,e,u);return n in y?x[n]:W(n)},_(q,\\"for\\",N),N.value=function(e){if(F(e))throw new TypeError(e+\\" is not a symbol\\");return h.call(x,e)?e.slice(2*c,-u.length):void 0},_(q,\\"keyFor\\",N),N.value=function(e,n){var t=S(e,n);return t&&I(n)&&(t.enumerable=M.call(e,n)),t},_(e,s,N),N.value=function(e,n){return 1===arguments.length||void 0===n?O(e):z(e,n)},_(e,\\"create\\",N),N.value=function(){var e=p.call(this);return\\"[object String]\\"===e&&I(this)?\\"[object Symbol]\\":e},_(y,\\"toString\\",N),r=function(e,n,t){var r=S(y,n);delete y[n],_(e,n,t),e!==y&&_(y,n,r)}}(Object,0,this);Object.defineProperty(Symbol,\\"iterator\\",{value:Symbol(\\"iterator\\")});Object.defineProperty(Symbol,\\"toStringTag\\",{value:Symbol(\\"toStringTag\\")});var Iterator=function(){var e=function(){return this.length=0,this},t=function(e){if(\\"function\\"!=typeof e)throw new TypeError(e+\\" is not a function\\");return e},_=function(e,n){if(!(this instanceof _))return new _(e,n);Object.defineProperties(this,{__list__:{writable:!0,value:e},__context__:{writable:!0,value:n},__nextIndex__:{writable:!0,value:0}}),n&&(t(n.on),n.on(\\"_add\\",this._onAdd.bind(this)),n.on(\\"_delete\\",this._onDelete.bind(this)),n.on(\\"_clear\\",this._onClear.bind(this)))};return Object.defineProperties(_.prototype,Object.assign({constructor:{value:_,configurable:!0,enumerable:!1,writable:!0},_next:{value:function(){var e;if(this.__list__)return this.__redo__&&(e=this.__redo__.shift())!==undefined?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()},configurable:!0,enumerable:!1,writable:!0},next:{value:function(){return this._createResult(this._next())},configurable:!0,enumerable:!1,writable:!0},_createResult:{value:function(e){return e===undefined?{done:!0,value:undefined}:{done:!1,value:this._resolve(e)}},configurable:!0,enumerable:!1,writable:!0},_resolve:{value:function(e){return this.__list__[e]},configurable:!0,enumerable:!1,writable:!0},_unBind:{value:function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off(\\"_add\\",this._onAdd.bind(this)),this.__context__.off(\\"_delete\\",this._onDelete.bind(this)),this.__context__.off(\\"_clear\\",this._onClear.bind(this)),this.__context__=null)},configurable:!0,enumerable:!1,writable:!0},toString:{value:function(){return\\"[object Iterator]\\"},configurable:!0,enumerable:!1,writable:!0}},{_onAdd:{value:function(e){if(!(e>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__)return void Object.defineProperty(this,\\"__redo__\\",{value:[e],configurable:!0,enumerable:!1,writable:!1});this.__redo__.forEach(function(t,_){t>=e&&(this.__redo__[_]=++t)},this),this.__redo__.push(e)}},configurable:!0,enumerable:!1,writable:!0},_onDelete:{value:function(e){var t;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(t=this.__redo__.indexOf(e),-1!==t&&this.__redo__.splice(t,1),this.__redo__.forEach(function(t,_){t>e&&(this.__redo__[_]=--t)},this)))},configurable:!0,enumerable:!1,writable:!0},_onClear:{value:function(){this.__redo__&&e.call(this.__redo__),this.__nextIndex__=0},configurable:!0,enumerable:!1,writable:!0}})),Object.defineProperty(_.prototype,Symbol.iterator,{value:function(){return this},configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(_.prototype,Symbol.toStringTag,{value:\\"Iterator\\",configurable:!1,enumerable:!1,writable:!0}),_}();!function(){if(!Object.setPrototypeOf){var t,e,o=Object.getOwnPropertyNames,r=Object.getOwnPropertyDescriptor,n=Object.create,c=Object.defineProperty,_=Object.getPrototypeOf,f=Object.prototype,O=function(t,e){return o(e).forEach(function(o){c(t,o,r(e,o))}),t},p=function(t,e){return O(n(e),t)};try{t=r(f,\\"__proto__\\").set,t.call({},null),e=function(e,o){return t.call(e,o),e}}catch(u){t={__proto__:null},t instanceof Object?e=p:(t.__proto__=f,e=t instanceof Object?function(t,e){return t.__proto__=e,t}:function(t,e){return _(t)?(t.__proto__=e,t):p(t,e)})}Object.setPrototypeOf=e}}();String.prototype.includes=function(t,e){if(\\"object\\"==typeof t&&t instanceof RegExp)throw new TypeError(\\"First argument to String.prototype.includes must not be a regular expression\\");return-1!==this.indexOf(t,e)};String.prototype.contains=String.prototype.includes;var ArrayIterator=function(){var e=function(t,r){if(!(this instanceof e))return new e(t,r);Iterator.call(this,t),r=r?String.prototype.contains.call(r,\\"key+value\\")?\\"key+value\\":String.prototype.contains.call(r,\\"key\\")?\\"key\\":\\"value\\":\\"value\\",Object.defineProperty(this,\\"__kind__\\",{value:r,configurable:!1,enumerable:!1,writable:!1})};return Object.setPrototypeOf&&Object.setPrototypeOf(e,Iterator.prototype),e.prototype=Object.create(Iterator.prototype,{constructor:{value:e,configurable:!0,enumerable:!1,writable:!0},_resolve:{value:function(e){return\\"value\\"===this.__kind__?this.__list__[e]:\\"key+value\\"===this.__kind__?[e,this.__list__[e]]:e},configurable:!0,enumerable:!1,writable:!0},toString:{value:function(){return\\"[object Array Iterator]\\"},configurable:!0,enumerable:!1,writable:!0}}),e}();Number.isFinite=Number.isFinite||function(i){return\\"number\\"==typeof i&&isFinite(i)};Number.isNaN=Number.isNaN||function(N){return\\"number\\"==typeof N&&isNaN(N)};!function(){\\"use strict\\";function t(t){var e=Number(t);return r(e)*Math.floor(Math.abs(Math.min(Math.max(e||0,0),9007199254740991)))}function r(t){return t>=0?1:-1}function e(t){return\\"string\\"==typeof t||\\"object\\"==typeof t&&(y?i(t):f.call(t)===l)}function n(t){if(!t)return!1;if(\\"function\\"!=typeof t&&\\"object\\"!=typeof t)return!1;if(y)return s(t);if(b(t))return!1;var r=f.call(t);return r===g||r===d}var o,a,u=Object.prototype.hasOwnProperty,c=String.prototype.valueOf,i=function(t){try{return c.call(t),!0}catch(r){return!1}},f=Object.prototype.toString,l=\\"[object String]\\",p=\\"function\\"==typeof Symbol,y=p&&\\"toStringTag\\"in Symbol,v=Function.prototype.toString,h=/^\\\\s*class /,b=function(t){try{var r=v.call(t),e=r.replace(/\\\\/\\\\/.*\\\\n/g,\\"\\"),n=e.replace(/\\\\/\\\\*[.\\\\s\\\\S]*\\\\*\\\\//g,\\"\\"),o=n.replace(/\\\\n/gm,\\" \\").replace(/ {2}/g,\\" \\");return h.test(o)}catch(a){return!1}},s=function(t){try{return!b(t)&&(v.call(t),!0)}catch(r){return!1}},g=\\"[object Function]\\",d=\\"[object GeneratorFunction]\\",S=Array.isArray,j=function(t){var r,e=!1,n=[];if(t&&\\"function\\"==typeof t.next)for(;!e;){if(r=t.next(),!u.call(r,\\"value\\")||!u.call(r,\\"done\\")){if(!0===r.done){e=!0;break}break}if(!0===r.done){e=!0;break}if(!1!==r.done)break;n.push(r.value)}return!!e&&n},m=\\"function\\"==typeof Set,w=\\"function\\"==typeof Map;if(p)o=Symbol.iterator;else{var F;try{F=Function(\\"iterable\\",\\"var arr = []; for (var value of iterable) arr.push(value); return arr;\\")}catch(q){}if(function(){try{var t=!1;return F({\\"@@iterator\\":function(){return{next:function(){return t=!0,{done:!0,value:undefined}}}}}),t}catch(q){return!1}}())o=\\"@@iterator\\";else if(\\"function\\"==typeof Set){var O=new Set;O.add(0);try{1===F(O).length&&(a=F)}catch(q){}}}var D;if(m){var M=Object.getOwnPropertyDescriptor(Set.prototype,\\"size\\").get;D=function(t){try{return M.call(t),!0}catch(q){return!1}}}var x;if(w){var A=Object.getOwnPropertyDescriptor(Map.prototype,\\"size\\").get;x=function(t){try{return A.call(t),!0}catch(q){return!1}}}var k=m&&Set.prototype.forEach,P=w&&Map.prototype.forEach,E=function(t){var r=[];return u.call(t,o)?t[o]():k&&D(t)?(k.call(t,function(t){r.push(t)}),{next:function(){return 0===r.length?{done:!0}:{value:r.splice(0,1)[0],done:!1}}}):P&&x(t)?(P.call(t,function(t,e){r.push([e,t])}),{next:function(){return 0===r.length?{done:!0}:{value:r.splice(0,1)[0],done:!1}}}):t},T=String.prototype.match,z=function(t){var r=j(E(t));if(!r)if(e(t))r=T.call(t,/[\\\\uD800-\\\\uDBFF][\\\\uDC00-\\\\uDFFF]?|[^\\\\uD800-\\\\uDFFF]|./g)||[];else if(a&&!S(t))try{r=a(t)}catch(q){}return r||t};Object.defineProperty(Array,\\"from\\",{configurable:!0,value:function(r){var e=this;if(null===r||void 0===r)throw new TypeError(\\"\`Array.from\` requires an array-like object, not \`null\` or \`undefined\`\\");var o,a;if(\\"undefined\\"!=typeof arguments[1]){if(o=arguments[1],!n(o))throw new TypeError(\\"When provided, the second argument to \`Array.from\` must be a function\\");arguments.length>2&&(a=arguments[2])}for(var u,c,i=Object(z(r)),f=t(i.length),l=n(e)?Object(new e(f)):new Array(f),p=0;p<f;)u=i[p],c=o?void 0===a?o(u,p):o.apply(a,[u,p]):u,Object.defineProperty(l,p,{configurable:!0,enumerable:!0,value:c,writable:!0}),p+=1;return l.length=f,l},writable:!0})}();!function(){\\"use strict\\";var r=function(){try{var r={},e=Object.defineProperty,n=e(r,r,r)&&e}catch(t){}return n}(),e=function(r){try{return!!new r}catch(e){return!1}},n=function(){for(var n,t=arguments,a=t.length,u=this,c=e(u)?new u(a):new Array(a),i=0;i<a;)n=t[i],r?r(c,i,{value:n,writable:!0,enumerable:!0,configurable:!0}):c[i]=n,i+=1;return c.length=a,c};r?r(Array,\\"of\\",{value:n,configurable:!0,writable:!0}):Array.of=n}();Object.defineProperty(Array.prototype,\\"fill\\",{configurable:!0,value:function(t){if(this===undefined||null===this)throw new TypeError(this+\\" is not an object\\");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,r=1 in arguments?parseInt(Number(arguments[1]),10)||0:0;r=r<0?Math.max(n+r,0):Math.min(r,n);var a=2 in arguments&&arguments[2]!==undefined?parseInt(Number(arguments[2]),10)||0:n;for(a=a<0?Math.max(n+arguments[2],0):Math.min(a,n);r<a;)e[r]=t,++r;return e},writable:!0});!function(){function e(e,t){for(var n=-1,o=e.length;++n<o;)if(n in e&&e[n]===t)return n;return-1}var t={click:1,dblclick:1,keyup:1,keypress:1,keydown:1,mousedown:1,mouseup:1,mousemove:1,mouseover:1,mouseenter:1,mouseleave:1,mouseout:1,storage:1,storagecommit:1,textinput:1};if(\\"undefined\\"!=typeof document&&\\"undefined\\"!=typeof window){var n=window.Event&&window.Event.prototype||null;window.Event=Window.prototype.Event=function(e,t){if(!e)throw new Error(\\"Not enough arguments\\");var n;if(\\"createEvent\\"in document){n=document.createEvent(\\"Event\\");var o=!(!t||t.bubbles===undefined)&&t.bubbles,i=!(!t||t.cancelable===undefined)&&t.cancelable;return n.initEvent(e,o,i),n}return n=document.createEventObject(),n.type=e,n.bubbles=!(!t||t.bubbles===undefined)&&t.bubbles,n.cancelable=!(!t||t.cancelable===undefined)&&t.cancelable,n},n&&Object.defineProperty(window.Event,\\"prototype\\",{configurable:!1,enumerable:!1,writable:!0,value:n}),\\"createEvent\\"in document||(window.addEventListener=Window.prototype.addEventListener=Document.prototype.addEventListener=Element.prototype.addEventListener=function(){var n=this,o=arguments[0],i=arguments[1];if(n===window&&o in t)throw new Error(\\"In IE8 the event: \\"+o+\\" is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.\\");n._events||(n._events={}),n._events[o]||(n._events[o]=function(t){var o,i=n._events[t.type].list,r=i.slice(),c=-1,a=r.length;for(t.preventDefault=function(){!1!==t.cancelable&&(t.returnValue=!1)},t.stopPropagation=function(){t.cancelBubble=!0},t.stopImmediatePropagation=function(){t.cancelBubble=!0,t.cancelImmediate=!0},t.currentTarget=n,t.relatedTarget=t.fromElement||null,t.target=t.target||t.srcElement||n,t.timeStamp=(new Date).getTime(),t.clientX&&(t.pageX=t.clientX+document.documentElement.scrollLeft,t.pageY=t.clientY+document.documentElement.scrollTop);++c<a&&!t.cancelImmediate;)c in r&&(o=r[c],-1!==e(i,o)&&\\"function\\"==typeof o&&o.call(n,t))},n._events[o].list=[],n.attachEvent&&n.attachEvent(\\"on\\"+o,n._events[o])),n._events[o].list.push(i)},window.removeEventListener=Window.prototype.removeEventListener=Document.prototype.removeEventListener=Element.prototype.removeEventListener=function(){var t,n=this,o=arguments[0],i=arguments[1];n._events&&n._events[o]&&n._events[o].list&&-1!==(t=e(n._events[o].list,i))&&(n._events[o].list.splice(t,1),n._events[o].list.length||(n.detachEvent&&n.detachEvent(\\"on\\"+o,n._events[o]),delete n._events[o]))},window.dispatchEvent=Window.prototype.dispatchEvent=Document.prototype.dispatchEvent=Element.prototype.dispatchEvent=function(e){if(!arguments.length)throw new Error(\\"Not enough arguments\\");if(!e||\\"string\\"!=typeof e.type)throw new Error(\\"DOM Events Exception 0\\");var t=this,n=e.type;try{if(!e.bubbles){e.cancelBubble=!0;var o=function(e){e.cancelBubble=!0,(t||window).detachEvent(\\"on\\"+n,o)};this.attachEvent(\\"on\\"+n,o)}this.fireEvent(\\"on\\"+n,e)}catch(i){e.target=t;do{e.currentTarget=t,\\"_events\\"in t&&\\"function\\"==typeof t._events[n]&&t._events[n].call(t,e),\\"function\\"==typeof t[\\"on\\"+n]&&t[\\"on\\"+n].call(t,e),t=9===t.nodeType?t.parentWindow:t.parentNode}while(t&&!e.cancelBubble)}return!0},document.attachEvent(\\"onreadystatechange\\",function(){\\"complete\\"===document.readyState&&document.dispatchEvent(new Event(\\"DOMContentLoaded\\",{bubbles:!0}))}))}}();this.CustomEvent=function(e,t){if(!e)throw Error('TypeError: Failed to construct \\"CustomEvent\\": An event name must be provided.');var n;if(t=t||{bubbles:!1,cancelable:!1,detail:null},\\"createEvent\\"in document)try{n=document.createEvent(\\"CustomEvent\\"),n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail)}catch(l){n=document.createEvent(\\"Event\\"),n.initEvent(e,t.bubbles,t.cancelable),n.detail=t.detail}else n=new Event(e,t),n.detail=t&&t.detail||null;return n},CustomEvent.prototype=Event.prototype;var _DOMTokenList=function(){var n=!0,t=function(t,e,r,o){Object.defineProperty?Object.defineProperty(t,e,{configurable:!1===n||!!o,get:r}):t.__defineGetter__(e,r)};try{t({},\\"support\\")}catch(e){n=!1}return function(n,e){var r=this,o=[],i={},a=0,c=0,f=function(n){t(r,n,function(){return u(),o[n]},!1)},l=function(){if(a>=c)for(;c<a;++c)f(c)},u=function(){var t,r,c=arguments,f=/\\\\s+/;if(c.length)for(r=0;r<c.length;++r)if(f.test(c[r]))throw t=new SyntaxError('String \\"'+c[r]+'\\" contains an invalid character'),t.code=5,t.name=\\"InvalidCharacterError\\",t;for(o=\\"object\\"==typeof n[e]?(\\"\\"+n[e].baseVal).replace(/^\\\\s+|\\\\s+$/g,\\"\\").split(f):(\\"\\"+n[e]).replace(/^\\\\s+|\\\\s+$/g,\\"\\").split(f),\\"\\"===o[0]&&(o=[]),i={},r=0;r<o.length;++r)i[o[r]]=!0;a=o.length,l()};return u(),t(r,\\"length\\",function(){return u(),a}),r.toLocaleString=r.toString=function(){return u(),o.join(\\" \\")},r.item=function(n){return u(),o[n]},r.contains=function(n){return u(),!!i[n]},r.add=function(){u.apply(r,t=arguments);for(var t,c,f=0,g=t.length;f<g;++f)c=t[f],i[c]||(o.push(c),i[c]=!0);a!==o.length&&(a=o.length>>>0,\\"object\\"==typeof n[e]?n[e].baseVal=o.join(\\" \\"):n[e]=o.join(\\" \\"),l())},r.remove=function(){u.apply(r,t=arguments);for(var t,c={},f=0,g=[];f<t.length;++f)c[t[f]]=!0,delete i[t[f]];for(f=0;f<o.length;++f)c[o[f]]||g.push(o[f]);o=g,a=g.length>>>0,\\"object\\"==typeof n[e]?n[e].baseVal=o.join(\\" \\"):n[e]=o.join(\\" \\"),l()},r.toggle=function(n,t){return u.apply(r,[n]),undefined!==t?t?(r.add(n),!0):(r.remove(n),!1):i[n]?(r.remove(n),!1):(r.add(n),!0)},r}}();!function(t){\\"DOMTokenList\\"in t&&t.DOMTokenList&&(!document.createElementNS||!document.createElementNS(\\"http://www.w3.org/2000/svg\\",\\"svg\\")||document.createElementNS(\\"http://www.w3.org/2000/svg\\",\\"svg\\").classList instanceof DOMTokenList)||(t.DOMTokenList=_DOMTokenList),function(){var t=document.createElement(\\"span\\");\\"classList\\"in t&&(t.classList.toggle(\\"x\\",!1),t.classList.contains(\\"x\\")&&(t.classList.constructor.prototype.toggle=function(t){var s=arguments[1];if(s===undefined){var e=!this.contains(t);return this[e?\\"add\\":\\"remove\\"](t),e}return s=!!s,this[s?\\"add\\":\\"remove\\"](t),s}))}(),function(){var t=document.createElement(\\"span\\");if(\\"classList\\"in t&&(t.classList.add(\\"a\\",\\"b\\"),!t.classList.contains(\\"b\\"))){var s=t.classList.constructor.prototype.add;t.classList.constructor.prototype.add=function(){for(var t=arguments,e=arguments.length,n=0;n<e;n++)s.call(this,t[n])}}}(),function(){var t=document.createElement(\\"span\\");if(\\"classList\\"in t&&(t.classList.add(\\"a\\"),t.classList.add(\\"b\\"),t.classList.remove(\\"a\\",\\"b\\"),t.classList.contains(\\"b\\"))){var s=t.classList.constructor.prototype.remove;t.classList.constructor.prototype.remove=function(){for(var t=arguments,e=arguments.length,n=0;n<e;n++)s.call(this,t[n])}}}()}(this);var _mutation=function(){function e(e){return\\"function\\"==typeof Node?e instanceof Node:e&&\\"object\\"==typeof e&&e.nodeName&&e.nodeType>=1&&e.nodeType<=12}return function(n){if(1===n.length)return e(n[0])?n[0]:document.createTextNode(n[0]+\\"\\");for(var t=document.createDocumentFragment(),o=0;o<n.length;o++)t.appendChild(e(n[o])?n[o]:document.createTextNode(n[o]+\\"\\"));return t}}();DocumentFragment.prototype.append=function(){this.appendChild(_mutation(arguments))};DocumentFragment.prototype.prepend=function(){this.insertBefore(_mutation(arguments),this.firstChild)};Document.prototype.after=Element.prototype.after=function(){if(this.parentNode){for(var t=Array.prototype.slice.call(arguments),e=this.nextSibling,o=e?t.indexOf(e):-1;-1!==o&&(e=e.nextSibling);)o=t.indexOf(e);this.parentNode.insertBefore(_mutation(arguments),e)}},\\"Text\\"in this&&(Text.prototype.after=Element.prototype.after);Document.prototype.append=Element.prototype.append=function(){this.appendChild(_mutation(arguments))};Document.prototype.before=Element.prototype.before=function(){if(this.parentNode){for(var e=Array.prototype.slice.call(arguments),t=this.previousSibling,o=t?e.indexOf(t):-1;-1!==o&&(t=t.previousSibling);)o=e.indexOf(t);this.parentNode.insertBefore(_mutation(arguments),t?t.nextSibling:this.parentNode.firstChild)}},\\"Text\\"in this&&(Text.prototype.before=Element.prototype.before);!function(e){var t=!0,r=function(e,r,n,i){Object.defineProperty?Object.defineProperty(e,r,{configurable:!1===t||!!i,get:n}):e.__defineGetter__(r,n)};try{r({},\\"support\\")}catch(i){t=!1}var n=function(e,i,l){r(e.prototype,i,function(){var e,c=this,s=\\"__defineGetter__DEFINE_PROPERTY\\"+i;if(c[s])return e;if(c[s]=!0,!1===t){for(var o,a=n.mirror||document.createElement(\\"div\\"),f=a.childNodes,d=f.length,m=0;m<d;++m)if(f[m]._R===c){o=f[m];break}o||(o=a.appendChild(document.createElement(\\"div\\"))),e=DOMTokenList.call(o,c,l)}else e=new DOMTokenList(c,l);return r(c,i,function(){return e}),delete c[s],e},!0)};n(e.Element,\\"classList\\",\\"className\\"),n(e.HTMLElement,\\"classList\\",\\"className\\"),n(e.HTMLLinkElement,\\"relList\\",\\"rel\\"),n(e.HTMLAnchorElement,\\"relList\\",\\"rel\\"),n(e.HTMLAreaElement,\\"relList\\",\\"rel\\")}(this);Element.prototype.matches=Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||function(e){for(var t=this,o=(t.document||t.ownerDocument).querySelectorAll(e),r=0;o[r]&&o[r]!==t;)++r;return!!o[r]};Element.prototype.closest=function(e){for(var n=this;n;){if(n.matches(e))return n;n=\\"SVGElement\\"in window&&n instanceof SVGElement?n.parentNode:n.parentElement}return null};Document.prototype.prepend=Element.prototype.prepend=function(){this.insertBefore(_mutation(arguments),this.firstChild)};Document.prototype.remove=Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)},\\"Text\\"in this&&(Text.prototype.remove=Element.prototype.remove);Document.prototype.replaceWith=Element.prototype.replaceWith=function(){this.parentNode&&this.parentNode.replaceChild(_mutation(arguments),this)},\\"Text\\"in this&&(Text.prototype.replaceWith=Element.prototype.replaceWith);Object.defineProperty(Symbol,\\"species\\",{value:Symbol(\\"species\\")});!function(e){function t(e,t){var r=e[t];if(null===r||r===undefined)return undefined;if(\\"function\\"!=typeof r)throw new TypeError(\\"Method not callable: \\"+t);return r}function r(e){if(!(1 in arguments))var r=t(e,Symbol.iterator);var o=r.call(e);if(\\"object\\"!=typeof o)throw new TypeError(\\"bad iterator\\");var n=o.next,a=Object.create(null);return a[\\"[[Iterator]]\\"]=o,a[\\"[[NextMethod]]\\"]=n,a[\\"[[Done]]\\"]=!1,a}function o(e){if(1 in arguments)var t=e[\\"[[NextMethod]]\\"].call(e[\\"[[Iterator]]\\"],arguments[1]);else var t=e[\\"[[NextMethod]]\\"].call(e[\\"[[Iterator]]\\"]);if(\\"object\\"!=typeof t)throw new TypeError(\\"bad iterator\\");return t}function n(e){if(\\"object\\"!=typeof e)throw new Error(Object.prototype.toString.call(e)+\\"is not an Object.\\");return Boolean(e.done)}function a(e){if(\\"object\\"!=typeof e)throw new Error(Object.prototype.toString.call(e)+\\"is not an Object.\\");return e.value}function i(e){var t=o(e);return!0!==n(t)&&t}function l(e,r){if(\\"object\\"!=typeof e[\\"[[Iterator]]\\"])throw new Error(Object.prototype.toString.call(e[\\"[[Iterator]]\\"])+\\"is not an Object.\\");var o=e[\\"[[Iterator]]\\"],n=t(o,\\"return\\");if(n===undefined)return r;try{var a=n.call(o)}catch(l){var i=l}if(r)return r;if(i)throw i;if(\\"object\\"==typeof a)throw new TypeError(\\"Iterator's return method returned a non-object.\\");return r}function c(e,t){if(\\"boolean\\"!=typeof t)throw new Error;var r={};return r.value=e,r.done=t,r}function p(e,t){if(\\"object\\"!=typeof e)throw new TypeError(\\"createMapIterator called on incompatible receiver \\"+Object.prototype.toString.call(e));if(!0!==e._es6Map)throw new TypeError(\\"createMapIterator called on incompatible receiver \\"+Object.prototype.toString.call(e));var r=Object.create(v);return Object.defineProperty(r,\\"[[Map]]\\",{configurable:!0,enumerable:!1,writable:!0,value:e}),Object.defineProperty(r,\\"[[MapNextIndex]]\\",{configurable:!0,enumerable:!1,writable:!0,value:0}),Object.defineProperty(r,\\"[[MapIterationKind]]\\",{configurable:!0,enumerable:!1,writable:!0,value:t}),r}var u=function(e,t){return typeof e==typeof t&&(\\"number\\"==typeof e?!(!isNaN(e)||!isNaN(t))||(0===e&&-0===t||(-0===e&&0===t||e===t)):e===t)},f=function(e,t){var r=arguments[2]||{},o=Object.getPrototypeOf(e),n=Object.create(o);for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&Object.defineProperty(n,a,{configurable:!0,enumerable:!1,writable:!0,value:r[a]});return n},y=Symbol(\\"undef\\"),b=function(){try{var e={};return Object.defineProperty(e,\\"t\\",{configurable:!0,enumerable:!1,get:function(){return!0},set:undefined}),!!e.t}catch(t){return!1}}(),s=function(e){return\\"function\\"==typeof e},d=function w(){if(!(this instanceof w))throw new TypeError('Constructor Map requires \\"new\\"');var e=f(this,\\"%MapPrototype%\\",{_keys:[],_values:[],_size:0,_es6Map:!0});b||Object.defineProperty(e,\\"size\\",{configurable:!0,enumerable:!1,writable:!0,value:0});var t=arguments[0]||undefined;if(null===t||t===undefined)return e;var o=e.set;if(!s(o))throw new TypeError(\\"Map.prototype.set is not a function\\");try{for(var n=r(t);;){var c=i(n);if(!1===c)return e;var p=a(c);if(\\"object\\"!=typeof p)try{throw new TypeError(\\"Iterator value \\"+p+\\" is not an entry object\\")}catch(h){return l(n,h)}try{var u=p[0],y=p[1];o.call(e,u,y)}catch(j){return l(n,j)}}}catch(j){if(Array.isArray(t)||\\"[object Arguments]\\"===Object.prototype.toString.call(t)||t.callee){var d,v=t.length;for(d=0;d<v;d++)o.call(e,t[d][0],t[d][1])}}return e};Object.defineProperty(d,\\"prototype\\",{configurable:!1,enumerable:!1,writable:!1,value:{}}),b?Object.defineProperty(d,Symbol.species,{configurable:!0,enumerable:!1,get:function(){return this},set:undefined}):Object.defineProperty(d,Symbol.species,{configurable:!0,enumerable:!1,writable:!0,value:d}),Object.defineProperty(d.prototype,\\"clear\\",{configurable:!0,enumerable:!1,writable:!0,value:function(){var e=this;if(\\"object\\"!=typeof e)throw new TypeError(\\"Method Map.prototype.clear called on incompatible receiver \\"+Object.prototype.toString.call(e));if(!0!==e._es6Map)throw new TypeError(\\"Method Map.prototype.clear called on incompatible receiver \\"+Object.prototype.toString.call(e));for(var t=e._keys,r=0;r<t.length;r++)e._keys[r]=y,e._values[r]=y;return this._size=0,b||(this.size=this._size),undefined}}),Object.defineProperty(d.prototype,\\"constructor\\",{configurable:!0,enumerable:!1,writable:!0,value:d}),Object.defineProperty(d.prototype,\\"delete\\",{configurable:!0,enumerable:!1,writable:!0,value:function(e){var t=this;if(\\"object\\"!=typeof t)throw new TypeError(\\"Method Map.prototype.clear called on incompatible receiver \\"+Object.prototype.toString.call(t));if(!0!==t._es6Map)throw new TypeError(\\"Method Map.prototype.clear called on incompatible receiver \\"+Object.prototype.toString.call(t));for(var r=t._keys,o=0;o<r.length;o++)if(t._keys[o]!==y&&u(t._keys[o],e))return this._keys[o]=y,this._values[o]=y,--this._size,b||(this.size=this._size),!0;return!1}}),Object.defineProperty(d.prototype,\\"entries\\",{configurable:!0,enumerable:!1,writable:!0,value:function(){return p(this,\\"key+value\\")}}),Object.defineProperty(d.prototype,\\"forEach\\",{configurable:!0,enumerable:!1,writable:!0,value:function(e){var t=this;if(\\"object\\"!=typeof t)throw new TypeError(\\"Method Map.prototype.forEach called on incompatible receiver \\"+Object.prototype.toString.call(t));if(!0!==t._es6Map)throw new TypeError(\\"Method Map.prototype.forEach called on incompatible receiver \\"+Object.prototype.toString.call(t));if(!s(e))throw new TypeError(Object.prototype.toString.call(e)+\\" is not a function.\\");if(arguments[1])var r=arguments[1];for(var o=t._keys,n=0;n<o.length;n++)t._keys[n]!==y&&t._values[n]!==y&&e.call(r,t._values[n],t._keys[n],t);return undefined}}),Object.defineProperty(d.prototype,\\"get\\",{configurable:!0,enumerable:!1,writable:!0,value:function(e){var t=this;if(\\"object\\"!=typeof t)throw new TypeError(\\"Method Map.prototype.get called on incompatible receiver \\"+Object.prototype.toString.call(t));if(!0!==t._es6Map)throw new TypeError(\\"Method Map.prototype.get called on incompatible receiver \\"+Object.prototype.toString.call(t));for(var r=t._keys,o=0;o<r.length;o++)if(t._keys[o]!==y&&u(t._keys[o],e))return t._values[o];return undefined}}),Object.defineProperty(d.prototype,\\"has\\",{configurable:!0,enumerable:!1,writable:!0,value:function(e){var t=this;if(\\"object\\"!=typeof t)throw new TypeError(\\"Method Map.prototype.has called on incompatible receiver \\"+Object.prototype.toString.call(t));if(!0!==t._es6Map)throw new TypeError(\\"Method Map.prototype.has called on incompatible receiver \\"+Object.prototype.toString.call(t));for(var r=t._keys,o=0;o<r.length;o++)if(t._keys[o]!==y&&u(t._keys[o],e))return!0;return!1}}),Object.defineProperty(d.prototype,\\"keys\\",{configurable:!0,enumerable:!1,writable:!0,value:function(){return p(this,\\"key\\")}}),Object.defineProperty(d.prototype,\\"set\\",{configurable:!0,enumerable:!1,writable:!0,value:function(e,t){var r=this;if(\\"object\\"!=typeof r)throw new TypeError(\\"Method Map.prototype.set called on incompatible receiver \\"+Object.prototype.toString.call(r));if(!0!==r._es6Map)throw new TypeError(\\"Method Map.prototype.set called on incompatible receiver \\"+Object.prototype.toString.call(r));for(var o=r._keys,n=0;n<o.length;n++)if(r._keys[n]!==y&&u(r._keys[n],e))return r._values[n]=t,r;-0===e&&(e=0);var a={};return a[\\"[[Key]]\\"]=e,a[\\"[[Value]]\\"]=t,r._keys.push(a[\\"[[Key]]\\"]),r._values.push(a[\\"[[Value]]\\"]),++r._size,b||(r.size=r._size),r}}),b&&Object.defineProperty(d.prototype,\\"size\\",{configurable:!0,enumerable:!1,get:function(){var e=this;if(\\"object\\"!=typeof e)throw new TypeError(\\"Method Map.prototype.size called on incompatible receiver \\"+Object.prototype.toString.call(e));if(!0!==e._es6Map)throw new TypeError(\\"Method Map.prototype.size called on incompatible receiver \\"+Object.prototype.toString.call(e));for(var t=e._keys,r=0,o=0;o<t.length;o++)e._keys[o]!==y&&(r+=1);return r},set:undefined}),Object.defineProperty(d.prototype,\\"values\\",{configurable:!0,enumerable:!1,writable:!0,value:function(){return p(this,\\"value\\")}}),Object.defineProperty(d.prototype,Symbol.iterator,{configurable:!0,enumerable:!1,writable:!0,value:d.prototype.entries}),\\"name\\"in d||Object.defineProperty(d,\\"name\\",{configurable:!0,enumerable:!1,writable:!1,value:\\"Map\\"});var v={isMapIterator:!0,next:function(){var e=this;if(\\"object\\"!=typeof e)throw new TypeError(\\"Method %MapIteratorPrototype%.next called on incompatible receiver \\"+Object.prototype.toString.call(e));if(!e.isMapIterator)throw new TypeError(\\"Method %MapIteratorPrototype%.next called on incompatible receiver \\"+Object.prototype.toString.call(e));var t=e[\\"[[Map]]\\"],r=e[\\"[[MapNextIndex]]\\"],o=e[\\"[[MapIterationKind]]\\"];if(t===undefined)return c(undefined,!0);if(!t._es6Map)throw new Error;for(var n=t._keys,a=n.length;r<a;){var i=Object.create(null);if(i[\\"[[Key]]\\"]=t._keys[r],i[\\"[[Value]]\\"]=t._values[r],r+=1,e[\\"[[MapNextIndex]]\\"]=r,i[\\"[[Key]]\\"]!==y){if(\\"key\\"===o)var l=i[\\"[[Key]]\\"];else if(\\"value\\"===o)var l=i[\\"[[Value]]\\"];else{if(\\"key+value\\"!==o)throw new Error;var l=[i[\\"[[Key]]\\"],i[\\"[[Value]]\\"]]}return c(l,!1)}}return e[\\"[[Map]]\\"]=undefined,c(undefined,!0)}};Object.defineProperty(v,Symbol.iterator,{configurable:!0,enumerable:!1,writable:!0,value:function(){return this}});try{Object.defineProperty(e,\\"Map\\",{configurable:!0,enumerable:!1,writable:!0,value:d})}catch(h){e.Map=d}}(this);!function(){function t(t){if(!(0 in arguments))throw new TypeError(\\"1 argument is required\\");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1}if(\\"HTMLElement\\"in this&&\\"contains\\"in HTMLElement.prototype)try{delete HTMLElement.prototype.contains}catch(e){}\\"Node\\"in this?Node.prototype.contains=t:document.contains=Element.prototype.contains=t}();!function(n){function t(e){if(r[e])return r[e].exports;var o=r[e]={exports:{},id:e,loaded:!1};return n[e].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};t.m=n,t.c=r,t.p=\\"\\",t(0)}({0:function(n,t,r){(function(n){var t=r(80);try{(n||{}).Promise=t,window.Promise=t}catch(e){}}).call(t,function(){return this}())},80:function(n,t){(function(t){!function(){\\"use strict\\";function r(){return en[B][G]||J}function e(n,t){for(var r in t)n[r]=t[r]}function o(n){return n&&\\"object\\"==typeof n}function i(n){return\\"function\\"==typeof n}function u(n,t){return n instanceof t}function c(n){return u(n,U)}function f(n,t,r){if(!t(n))throw v(r)}function s(){try{return C.apply(F,arguments)}catch(e){return nn.e=e,nn}}function a(n,t){return C=n,F=t,s}function l(n,t){function r(){for(var r=0;r<o;)t(e[r],e[r+1]),e[r++]=S,e[r++]=S;o=0,e.length>n&&(e.length=n)}var e=O(n),o=0;return function(n,t){e[o++]=n,e[o++]=t,2===o&&en.nextTick(r)}}function h(n,t){var r,e,o,c,f=0;if(!n)throw v(V);var s=n[en[B][D]];if(i(s))e=s.call(n);else{if(!i(n.next)){if(u(n,O)){for(r=n.length;f<r;)t(n[f],f++);return f}throw v(V)}e=n}for(;!(o=e.next()).done;)if((c=a(t)(o.value,f++))===nn)throw i(e[K])&&e[K](),c.e;return f}function v(n){return new TypeError(n)}function _(n){return(n?\\"\\":W)+(new U).stack}function d(n,t){var r=\\"on\\"+n.toLowerCase(),e=H[r];I&&I.listeners(n).length?n===Z?I.emit(n,t._v,t):I.emit(n,t):e?e({reason:t._v,promise:t}):en[n](t._v,t)}function p(n){return n&&n._s}function w(n){if(p(n))return new n(tn);var t,r,e;return t=new n(function(n,o){if(t)throw v();r=n,e=o}),f(r,i),f(e,i),t}function m(n,t){return function(r){A&&(n[Q]=_(!0)),t===q?T(n,r):k(n,t,r)}}function y(n,t,r,e){return i(r)&&(t._onFulfilled=r),i(e)&&(n[M]&&d(Y,n),t._onRejected=e),A&&(t._p=n),n[n._c++]=t,n._s!==z&&on(n,t),t}function j(n){if(n._umark)return!0;n._umark=!0;for(var t,r=0,e=n._c;r<e;)if(t=n[r++],t._onRejected||j(t))return!0}function x(n,t){function r(n){return e.push(n.replace(/^\\\\s+|\\\\s+$/g,\\"\\"))}var e=[];return A&&(t[Q]&&r(t[Q]),function o(n){n&&N in n&&(o(n._next),r(n[N]+\\"\\"),o(n._p))}(t)),(n&&n.stack?n.stack:n)+(\\"\\\\n\\"+e.join(\\"\\\\n\\")).replace(rn,\\"\\")}function g(n,t){return n(t)}function k(n,t,r){var e=0,o=n._c;if(n._s===z)for(n._s=t,n._v=r,t===$&&(A&&c(r)&&(r.longStack=x(r,n)),un(n));e<o;)on(n,n[e++]);return n}function T(n,t){if(t===n&&t)return k(n,$,v(X)),n;if(t!==P&&(i(t)||o(t))){var r=a(b)(t);if(r===nn)return k(n,$,r.e),n;i(r)?(A&&p(t)&&(n._next=t),p(t)?R(n,t,r):en.nextTick(function(){R(n,t,r)})):k(n,q,t)}else k(n,q,t);return n}function b(n){return n.then}function R(n,t,r){var e=a(r,t)(function(r){t&&(t=P,T(n,r))},function(r){t&&(t=P,k(n,$,r))});e===nn&&t&&(k(n,$,e.e),t=P)}var S,C,F,P=null,E=\\"object\\"==typeof window,H=E?window:t,I=H.process,L=H.console,A=!1,O=Array,U=Error,$=1,q=2,z=3,B=\\"Symbol\\",D=\\"iterator\\",G=\\"species\\",J=B+\\"(\\"+G+\\")\\",K=\\"return\\",M=\\"_uh\\",N=\\"_pt\\",Q=\\"_st\\",V=\\"Invalid argument\\",W=\\"\\\\nFrom previous \\",X=\\"Chaining cycle detected for promise\\",Y=\\"rejectionHandled\\",Z=\\"unhandledRejection\\",nn={e:P},tn=function(){},rn=/^.+\\\\/node_modules\\\\/yaku\\\\/.+\\\\n?/gm,en=n.exports=function(n){var t,r=this;if(!o(r)||r._s!==S)throw v(\\"Invalid this\\");if(r._s=z,A&&(r[N]=_()),n!==tn){if(!i(n))throw v(V);(t=a(n)(m(r,q),m(r,$)))===nn&&k(r,$,t.e)}};en[\\"default\\"]=en,e(en.prototype,{then:function(n,t){if(void 0===this._s)throw v();return y(this,w(en.speciesConstructor(this,en)),n,t)},\\"catch\\":function(n){return this.then(S,n)},\\"finally\\":function(n){function t(t){return en.resolve(n()).then(function(){return t})}return this.then(t,t)},_c:0,_p:P}),en.resolve=function(n){return p(n)?n:T(w(this),n)},en.reject=function(n){return k(w(this),$,n)},en.race=function(n){var t=this,r=w(t),e=function(n){k(r,q,n)},o=function(n){k(r,$,n)},i=a(h)(n,function(n){t.resolve(n).then(e,o)});return i===nn?t.reject(i.e):r},en.all=function(n){function t(n){k(o,$,n)}var r,e=this,o=w(e),i=[];return r=a(h)(n,function(n,u){e.resolve(n).then(function(n){i[u]=n,--r||k(o,q,i)},t)}),r===nn?e.reject(r.e):(r||k(o,q,[]),o)},en.Symbol=H[B]||{},a(function(){Object.defineProperty(en,r(),{get:function(){return this}})})(),en.speciesConstructor=function(n,t){var e=n.constructor;return e?e[r()]||t:t},en.unhandledRejection=function(n,t){L&&L.error(\\"Uncaught (in promise)\\",A?t.longStack:x(n,t))},en.rejectionHandled=tn,en.enableLongStackTrace=function(){A=!0},en.nextTick=E?function(n){setTimeout(n)}:I.nextTick,en._s=1;var on=l(999,function(n,t){var r,e;return e=n._s!==$?t._onFulfilled:t._onRejected,e===S?void k(t,n._s,n._v):(r=a(g)(e,n._v),r===nn?void k(t,$,r.e):void T(t,r))}),un=l(9,function(n){j(n)||(n[M]=1,d(Z,n))})}()}).call(t,function(){return this}())}});!function(t){function e(t){return Number.isNaN(t)?r:t}function i(t){return t===r?NaN:t}function n(t,e){var i=0;return{next:function(){for(;t._values[i]===o;)i++;return i===t._values.length?{value:void 0,done:!0}:{value:e.call(t,i++),done:!1}}}}var o=Symbol(\\"undef\\"),r=Symbol(\\"NaN\\"),s=function(){var t=arguments[0];this._values=[],this.size=this._size=0,t&&\\"function\\"==typeof t.forEach&&t.forEach(function(t){this.add.call(this,t)},this)};try{Object.defineProperty(s.prototype,\\"size\\",{get:function(){return this._size}})}catch(u){}s.prototype.add=function(t){return t=e(t),-1===this._values.indexOf(t)&&(this._values.push(t),this.size=++this._size),this},s.prototype.has=function(t){return-1!==this._values.indexOf(e(t))},s.prototype[\\"delete\\"]=function(t){var i=this._values.indexOf(e(t));return-1!==i&&(this._values[i]=o,this.size=--this._size,!0)},s.prototype.clear=function(){this._values=[],this.size=this._size=0},s.prototype[Symbol.iterator]=s.prototype.values=s.prototype.keys=function(){var t=n(this,function(t){return i(this._values[t])});return t[Symbol.iterator]=this.keys.bind(this),t},s.prototype.entries=function(){var t=n(this,function(t){return[i(this._values[t]),i(this._values[t])]});return t[Symbol.iterator]=this.entries.bind(this),t},s.prototype.forEach=function(e,i){i=i||t;for(var n=this.entries(),o=n.next();!1===o.done;)e.call(i,o.value[1],o.value[0],this),o=n.next()},s.prototype.constructor=s.prototype[Symbol.species]=s,s.prototype.constructor=s,s.name=\\"Set\\",t.Set=s}(this);String.prototype.endsWith=function(t){var n=arguments.length<2?this.length:arguments[1],e=this.lastIndexOf(t);return-1!==e&&e===n-t.length};String.prototype.startsWith=function(t){var i=arguments.length<2?0:arguments[1];return 0===this.slice(i).indexOf(t)};!function(e){\\"use strict\\";function t(t){return!!t&&(\\"Symbol\\"in e&&\\"iterator\\"in e.Symbol&&\\"function\\"==typeof t[Symbol.iterator]||!!Array.isArray(t))}function n(e){return\\"from\\"in Array?Array.from(e):Array.prototype.slice.call(e)}!function(){function r(e){var t=\\"\\",n=!0;return e.forEach(function(e){var r=encodeURIComponent(e.name),a=encodeURIComponent(e.value);n||(t+=\\"&\\"),t+=r+\\"=\\"+a,n=!1}),t.replace(/%20/g,\\"+\\")}function a(e,t){var n=e.split(\\"&\\");t&&-1===n[0].indexOf(\\"=\\")&&(n[0]=\\"=\\"+n[0]);var r=[];n.forEach(function(e){if(0!==e.length){var t=e.indexOf(\\"=\\");if(-1!==t)var n=e.substring(0,t),a=e.substring(t+1);else n=e,a=\\"\\";n=n.replace(/\\\\+/g,\\" \\"),a=a.replace(/\\\\+/g,\\" \\"),r.push({name:n,value:a})}});var a=[];return r.forEach(function(e){a.push({name:decodeURIComponent(e.name),value:decodeURIComponent(e.value)})}),a}function i(e){if(c)return new s(e);var t=document.createElement(\\"a\\");return t.href=e,t}function o(e){var i=this;this._list=[],e===undefined||null===e||(e instanceof o?this._list=a(String(e)):\\"object\\"==typeof e&&t(e)?n(e).forEach(function(e){if(!t(e))throw TypeError();var r=n(e);if(2!==r.length)throw TypeError();i._list.push({name:String(r[0]),value:String(r[1])})}):\\"object\\"==typeof e&&e?Object.keys(e).forEach(function(t){i._list.push({name:String(t),value:String(e[t])})}):(e=String(e),\\"?\\"===e.substring(0,1)&&(e=e.substring(1)),this._list=a(e))),this._url_object=null,this._setList=function(e){u||(i._list=e)};var u=!1;this._update_steps=function(){u||(u=!0,i._url_object&&(\\"about:\\"===i._url_object.protocol&&-1!==i._url_object.pathname.indexOf(\\"?\\")&&(i._url_object.pathname=i._url_object.pathname.split(\\"?\\")[0]),i._url_object.search=r(i._list),u=!1))}}function u(e,t){var n=0;this.next=function(){if(n>=e.length)return{done:!0,value:undefined};var r=e[n++];return{done:!1,value:\\"key\\"===t?r.name:\\"value\\"===t?r.value:[r.name,r.value]}}}function l(t,n){function r(){var e=l.href.replace(/#$|\\\\?$|\\\\?(?=#)/g,\\"\\");l.href!==e&&(l.href=e)}function u(){m._setList(l.search?a(l.search.substring(1)):[]),m._update_steps()}if(!(this instanceof e.URL))throw new TypeError(\\"Failed to construct 'URL': Please use the 'new' operator.\\");n&&(t=function(){if(c)return new s(t,n).href;var e;try{var r;if(\\"[object OperaMini]\\"===Object.prototype.toString.call(window.operamini)?(e=document.createElement(\\"iframe\\"),e.style.display=\\"none\\",document.documentElement.appendChild(e),r=e.contentWindow.document):document.implementation&&document.implementation.createHTMLDocument?r=document.implementation.createHTMLDocument(\\"\\"):document.implementation&&document.implementation.createDocument?(r=document.implementation.createDocument(\\"http://www.w3.org/1999/xhtml\\",\\"html\\",null),r.documentElement.appendChild(r.createElement(\\"head\\")),r.documentElement.appendChild(r.createElement(\\"body\\"))):window.ActiveXObject&&(r=new window.ActiveXObject(\\"htmlfile\\"),r.write(\\"<head></head><body></body>\\"),r.close()),!r)throw Error(\\"base not supported\\");var a=r.createElement(\\"base\\");a.href=n,r.getElementsByTagName(\\"head\\")[0].appendChild(a);var i=r.createElement(\\"a\\");return i.href=t,i.href}finally{e&&e.parentNode.removeChild(e)}}());var l=i(t||\\"\\"),f=function(){if(!(\\"defineProperties\\"in Object))return!1;try{var e={};return Object.defineProperties(e,{prop:{get:function(){return!0}}}),e.prop}catch(t){return!1}}(),h=f?this:document.createElement(\\"a\\"),m=new o(l.search?l.search.substring(1):null);return m._url_object=h,Object.defineProperties(h,{href:{get:function(){return l.href},set:function(e){l.href=e,r(),u()},enumerable:!0,configurable:!0},origin:{get:function(){return\\"origin\\"in l?l.origin:this.protocol+\\"//\\"+this.host},enumerable:!0,configurable:!0},protocol:{get:function(){return l.protocol},set:function(e){l.protocol=e},enumerable:!0,configurable:!0},username:{get:function(){return l.username},set:function(e){l.username=e},enumerable:!0,configurable:!0},password:{get:function(){return l.password},set:function(e){l.password=e},enumerable:!0,configurable:!0},host:{get:function(){var e={\\"http:\\":/:80$/,\\"https:\\":/:443$/,\\"ftp:\\":/:21$/}[l.protocol];return e?l.host.replace(e,\\"\\"):l.host},set:function(e){l.host=e},enumerable:!0,configurable:!0},hostname:{get:function(){return l.hostname},set:function(e){l.hostname=e},enumerable:!0,configurable:!0},port:{get:function(){return l.port},set:function(e){l.port=e},enumerable:!0,configurable:!0},pathname:{get:function(){return\\"/\\"!==l.pathname.charAt(0)?\\"/\\"+l.pathname:l.pathname},set:function(e){l.pathname=e},enumerable:!0,configurable:!0},search:{get:function(){return l.search},set:function(e){l.search!==e&&(l.search=e,r(),u())},enumerable:!0,configurable:!0},searchParams:{get:function(){return m},enumerable:!0,configurable:!0},hash:{get:function(){return l.hash},set:function(e){l.hash=e,r()},enumerable:!0,configurable:!0},toString:{value:function(){return l.toString()},enumerable:!1,configurable:!0},valueOf:{value:function(){return l.valueOf()},enumerable:!1,configurable:!0}}),h}var c,s=e.URL;try{if(s){if(\\"searchParams\\"in(c=new e.URL(\\"http://example.com\\")))return;\\"href\\"in c||(c=undefined)}}catch(h){}if(Object.defineProperties(o.prototype,{append:{value:function(e,t){this._list.push({name:e,value:t}),this._update_steps()},writable:!0,enumerable:!0,configurable:!0},\\"delete\\":{value:function(e){for(var t=0;t<this._list.length;)this._list[t].name===e?this._list.splice(t,1):++t;this._update_steps()},writable:!0,enumerable:!0,configurable:!0},get:{value:function(e){for(var t=0;t<this._list.length;++t)if(this._list[t].name===e)return this._list[t].value;return null},writable:!0,enumerable:!0,configurable:!0},getAll:{value:function(e){for(var t=[],n=0;n<this._list.length;++n)this._list[n].name===e&&t.push(this._list[n].value);return t},writable:!0,enumerable:!0,configurable:!0},has:{value:function(e){for(var t=0;t<this._list.length;++t)if(this._list[t].name===e)return!0;return!1},writable:!0,enumerable:!0,configurable:!0},set:{value:function(e,t){for(var n=!1,r=0;r<this._list.length;)this._list[r].name===e?n?this._list.splice(r,1):(this._list[r].value=t,n=!0,++r):++r;n||this._list.push({name:e,value:t}),this._update_steps()},writable:!0,enumerable:!0,configurable:!0},entries:{value:function(){return new u(this._list,\\"key+value\\")},writable:!0,enumerable:!0,configurable:!0},keys:{value:function(){return new u(this._list,\\"key\\")},writable:!0,enumerable:!0,configurable:!0},values:{value:function(){return new u(this._list,\\"value\\")},writable:!0,enumerable:!0,configurable:!0},forEach:{value:function(e){var t=arguments.length>1?arguments[1]:undefined;this._list.forEach(function(n,r){e.call(t,n.value,n.name)})},writable:!0,enumerable:!0,configurable:!0},toString:{value:function(){return r(this._list)},writable:!0,enumerable:!1,configurable:!0}}),\\"Symbol\\"in e&&\\"iterator\\"in e.Symbol&&(Object.defineProperty(o.prototype,e.Symbol.iterator,{value:o.prototype.entries,writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,e.Symbol.iterator,{value:function(){return this},writable:!0,enumerable:!0,configurable:!0})),s)for(var f in s)s.hasOwnProperty(f)&&\\"function\\"==typeof s[f]&&(l[f]=s[f]);e.URL=l,e.URLSearchParams=o}(),function(){if(\\"1\\"!==new e.URLSearchParams([[\\"a\\",1]]).get(\\"a\\")||\\"1\\"!==new e.URLSearchParams({a:1}).get(\\"a\\")){var r=e.URLSearchParams;e.URLSearchParams=function(e){if(e&&\\"object\\"==typeof e&&t(e)){var a=new r;return n(e).forEach(function(e){if(!t(e))throw TypeError();var r=n(e);if(2!==r.length)throw TypeError();a.append(r[0],r[1])}),a}return e&&\\"object\\"==typeof e?(a=new r,Object.keys(e).forEach(function(t){a.set(t,e[t])}),a):new r(e)}}}()}(self);Array.prototype[Symbol.iterator]=function(){return new ArrayIterator(this)};!function(){function t(t,n){for(;t;){if(Object.prototype.hasOwnProperty.call(t,n))return!0;if(\\"object\\"!=typeof t)return!1;t=Object.getPrototypeOf(t)}return!1}function n(t){return t=Number(t),isNaN(t)?0:0===t||t===Infinity||t===-Infinity?t:(t<0?-1:1)*Math.floor(Math.abs(t))}Object.defineProperty(Array.prototype,\\"copyWithin\\",{configurable:!0,enumerable:!1,writable:!0,value:function(r,e){var a=arguments[2];if(null===this||this===undefined)throw new TypeError(\\"Cannot call method on \\"+this);var i=Object(this),o=n(i.length);o<=0&&(o=0),o=o===Infinity?Math.pow(2,53)-1:Math.min(o,Math.pow(2,53)-1),o=Math.max(o,0);var h,f=n(r);h=f<0?Math.max(o+f,0):Math.min(f,o);var u,l=n(e);u=l<0?Math.max(o+l,0):Math.min(l,o);var c;c=a===undefined?o:n(a);var M;M=c<0?Math.max(o+c,0):Math.min(c,o);var m,p=Math.min(M-u,o-h);for(u<h&&h<u+p?(m=-1,u=u+p-1,h=h+p-1):m=1;p>0;){var y=String(u),b=String(h);if(t(i,y)){var v=i[y];i[b]=v}else delete i[b];u+=m,h+=m,p-=1}return i}})}();Object.defineProperty(Array.prototype,\\"entries\\",{value:function(){return new ArrayIterator(this,\\"key+value\\")}});Object.defineProperty(Array.prototype,\\"find\\",{configurable:!0,value:function(t){if(this===undefined||null===this)throw new TypeError(this+\\" is not an object\\");if(\\"function\\"!=typeof t)throw new TypeError(t+\\" is not a function\\");for(var n,i=Object(this),e=arguments[1],r=i instanceof String?i.split(\\"\\"):i,o=Math.max(Math.min(r.length,9007199254740991),0)||0,f=-1;++f<o;)if(f in r&&(n=r[f],t.call(e,n,f,i)))return n},writable:!0});Object.defineProperty(Array.prototype,\\"findIndex\\",{configurable:!0,value:function(t){if(this===undefined||null===this)throw new TypeError(this+\\" is not an object\\");if(\\"function\\"!=typeof t)throw new TypeError(t+\\" is not a function\\");for(var n=Object(this),e=arguments[1],i=n instanceof String?n.split(\\"\\"):n,r=Math.max(Math.min(i.length,9007199254740991),0)||0,o=-1;++o<r;)if(o in i&&t.call(e,i[o],o,n))return o;return-1},writable:!0});Object.defineProperty(Array.prototype,\\"keys\\",{value:function(){return new ArrayIterator(this,\\"key\\")}});Object.defineProperty(Array.prototype,\\"values\\",{value:Array.prototype[Symbol.iterator],enumerable:!1,writable:!1});!function(){var n=/^\\\\s*function\\\\s+([^\\\\(\\\\s]*)\\\\s*/,t=Function,e=t.prototype,r=e.constructor,o=function(o){var c,u;return o===t||o===r?u=\\"Function\\":o!==e&&(c=(\\"\\"+o).match(n),u=c&&c[1]),u||\\"\\"};Object.defineProperty(e,\\"name\\",{get:function(){var n=this,t=o(n);return n!==e&&Object.defineProperty(n,\\"name\\",{value:t,configurable:!0}),t},configurable:!0})}();Math.acosh=function(t){return Math.log(t+Math.sqrt(t*t-1))};Math.asinh=function(t){return t===-Infinity?t:Math.log(t+Math.sqrt(t*t+1))};Math.atanh=function(t){return Math.log((1+t)/(1-t))/2};Math.cbrt=function(t){var a=Math.pow(Math.abs(t),1/3);return t<0?-a:a};Math.clz32=function(t){var n=Number(t)>>>0;return n?32-n.toString(2).length:32};Math.cosh=function(t){var a=Math.exp(t);return(a+1/a)/2};Math.expm1=function(t){return Math.exp(t)-1};Math.hypot=function(){for(var t=arguments,n=-1,i=0;++n in t&&Math.abs(i)!==Infinity;)i+=t[n]*t[n];return Math.abs(i)===Infinity?Infinity:Math.sqrt(i)};Math.imul=function(n,r){var t=n>>>16&65535,u=65535&n,a=r>>>16&65535,i=65535&r;return u*i+(t*i+u*a<<16>>>0)|0};Math.log10=function(t){return Math.log(t)/Math.LN10};Math.log1p=function(t){return Math.log(1+t)};Math.log2=function(t){return Math.log(t)/Math.LN2};Math.sign=function(n){return(n=Number(n))?n>0?1:-1:n};Math.sinh=function(n){var t=Math.exp(n);return(t-1/t)/2};Math.tanh=function(n){var t;return n===Infinity?1:n===-Infinity?-1:((t=Math.exp(2*n))-1)/(t+1)};Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)};Object.defineProperty(Number,\\"EPSILON\\",{enumerable:!1,configurable:!1,writable:!1,value:Math.pow(2,-52)});Number.MAX_SAFE_INTEGER=Math.pow(2,53)-1;Number.MIN_SAFE_INTEGER=-(Math.pow(2,53)-1);Number.isInteger=Number.isInteger||function(e){return\\"number\\"==typeof e&&isFinite(e)&&Math.floor(e)===e};Object.defineProperty(Number,\\"isSafeInteger\\",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(\\"number\\"!=typeof e)return!1;if(isNaN(e)||e===+Infinity||e===-Infinity)return!1;var r=parseInt(e,10);return r===e&&Math.abs(r)<=Math.pow(2,53)-1}});Number.parseFloat=Number.parseFloat||parseFloat;Number.parseInt=Number.parseInt||parseInt;Object.is=function(n,t){return n===t&&(0!==n||1/n==1/t)||n!==n&&t!==t};Object.defineProperty(RegExp.prototype,\\"flags\\",{configurable:!0,enumerable:!1,get:function(){var e=this;if(\\"object\\"!=typeof e)throw new TypeError(\\"Method called on incompatible type: must be an object.\\");var t=\\"\\";!!e.global&&(t+=\\"g\\"),!!e.ignoreCase&&(t+=\\"i\\"),!!e.multiline&&(t+=\\"m\\"),!!e.unicode&&(t+=\\"u\\");var o=!!o;return o&&(t+=\\"y\\"),t}});var StringIterator=function(){var t=function(e){if(!(this instanceof t))return new t(e);e=String(e),Iterator.call(this,e),Object.defineProperty(this,\\"__length__\\",{value:e.length,configurable:!1,enumerable:!1,writable:!1})};return Object.setPrototypeOf&&Object.setPrototypeOf(t,Iterator),t.prototype=Object.create(Iterator.prototype,{constructor:{value:t,configurable:!0,enumerable:!1,writable:!0},_next:{value:function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()},configurable:!0,enumerable:!1,writable:!0},_resolve:{value:function(t){var e,r=this.__list__[t];return this.__nextIndex__===this.__length__?r:(e=r.charCodeAt(0),e>=55296&&e<=56319?r+this.__list__[this.__nextIndex__++]:r)},configurable:!0,enumerable:!1,writable:!0},toString:{value:function(){return\\"[object String Iterator]\\"},configurable:!0,enumerable:!1,writable:!0}}),t}();String.prototype[Symbol.iterator]=function(){return new StringIterator(this)};!function(){function t(t){return t=Number(t),isNaN(t)?0:0===t||t===Infinity||t===-Infinity?t:(t<0?-1:1)*Math.floor(Math.abs(t))}Object.defineProperty(String.prototype,\\"codePointAt\\",{value:function(n){var r;if(null===this||this===undefined)throw new TypeError(\\"Cannot call String.prototype.codePointAt on \\"+this);r=this;var e=String(r),i=t(n),o=e.length;if(i<0||i>=o)return undefined;var a=e.charCodeAt(i);if(a<55296||a>56319||i+1===o)return a;var f=e.charCodeAt(i+1);return f<56320||f>57343?a:1024*(a-55296)+(f-56320)+65536}})}();String.prototype.repeat=function(t){\\"use strict\\";if(this===undefined||null===this)throw new TypeError(this+\\" is not an object\\");if(t<0||t===Infinity)throw new RangeError(t+\\" is less than zero or equal to infinity\\");return new Array((parseInt(t,10)||0)+1).join(this)};Object.defineProperty(Symbol,\\"hasInstance\\",{value:Symbol(\\"hasInstance\\")});Object.defineProperty(Symbol,\\"isConcatSpreadable\\",{value:Symbol(\\"isConcatSpreadable\\")});Object.defineProperty(Symbol,\\"match\\",{value:Symbol(\\"match\\")});Object.defineProperty(Symbol,\\"replace\\",{value:Symbol(\\"replace\\")});Object.defineProperty(Symbol,\\"search\\",{value:Symbol(\\"search\\")});Object.defineProperty(Symbol,\\"split\\",{value:Symbol(\\"split\\")});Object.defineProperty(Symbol,\\"toPrimitive\\",{value:Symbol(\\"toPrimitive\\")});Object.defineProperty(Symbol,\\"unscopables\\",{value:Symbol(\\"unscopables\\")});!function(){var t=Object.defineProperty,e=Date.now()%1e9,n=function(t){this.name=\\"__st\\"+(1e9*Math.random()>>>0)+e+++\\"__\\",t&&t.forEach&&t.forEach(function(t){this.set.apply(this,t)},this)};n.prototype.set=function(e,n){if(\\"object\\"!=typeof e&&\\"function\\"!=typeof e)throw new TypeError(\\"Invalid value used as weak map key\\");var a=e[this.name];return a&&a[0]===e?a[1]=n:t(e,this.name,{value:[e,n],writable:!0}),this},n.prototype.get=function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:undefined},n.prototype[\\"delete\\"]=function(t){var e=t[this.name];return!(!e||e[0]!==t)&&(e[0]=e[1]=undefined,!0)},n.prototype.has=function(t){var e=t[this.name];return!!e&&e[0]===t},n.prototype.constructor=n,n.name=\\"WeakMap\\",this.WeakMap=n}();!function(t){var e=Date.now()%1e9,n=function(t){this.name=\\"__st\\"+(1e9*Math.random()>>>0)+e+++\\"__\\",t&&t.forEach&&t.forEach(this.add,this)};n.prototype.add=function(t){var e=this.name;return t[e]||Object.defineProperty(t,e,{value:!0,writable:!0}),this},n.prototype[\\"delete\\"]=function(t){return!!t[this.name]&&(t[this.name]=undefined,!0)},n.prototype.has=function(t){return!!t[this.name]},n.prototype.constructor=n,n.name=\\"WeakSet\\",t.WeakSet=n}(this);!function(){Object.defineProperty(Array.prototype,\\"includes\\",{configurable:!0,value:function(r){\\"use strict\\";var e=Object(this),t=parseInt(e.length)||0;if(0===t)return!1;var n,i=parseInt(arguments[1])||0;i>=0?n=i:(n=t+i)<0&&(n=0);for(var a;n<t;){if(a=e[n],r===a||r!==r&&a!==a)return!0;n++}return!1},writable:!0})}();!function(){Object.defineProperty(String.prototype,\\"padEnd\\",{configurable:!0,enumerable:!1,value:function(t){if((t|=0)<=this.length)return String(this);for(var e=String(arguments[1]||\\" \\"),n=Math.ceil((t-this.length)/e.length);n--;)e+=e;return String(this)+e.substr(0,t-this.length)},writable:!0})}();!function(){Object.defineProperty(String.prototype,\\"padStart\\",{configurable:!0,enumerable:!1,value:function(t){if((t|=0)<=this.length)return String(this);for(var e=String(arguments[1]||\\" \\"),r=Math.ceil((t-this.length)/e.length);r--;)e+=e;return e.substr(0,t-this.length)+String(this)},writable:!0})}();}).call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof global && global || {});"
`;

exports[`returns a reasonable minified response for Safari 9 1`] = `
"/* Disable minification (remove \`.min\` from URL path) for more info */

(function(undefined) {var _mutation=function(){function e(e){return\\"function\\"==typeof Node?e instanceof Node:e&&\\"object\\"==typeof e&&e.nodeName&&e.nodeType>=1&&e.nodeType<=12}return function(n){if(1===n.length)return e(n[0])?n[0]:document.createTextNode(n[0]+\\"\\");for(var t=document.createDocumentFragment(),o=0;o<n.length;o++)t.appendChild(e(n[o])?n[o]:document.createTextNode(n[o]+\\"\\"));return t}}();DocumentFragment.prototype.append=function(){this.appendChild(_mutation(arguments))};DocumentFragment.prototype.prepend=function(){this.insertBefore(_mutation(arguments),this.firstChild)};Document.prototype.after=Element.prototype.after=function(){if(this.parentNode){for(var t=Array.prototype.slice.call(arguments),e=this.nextSibling,o=e?t.indexOf(e):-1;-1!==o&&(e=e.nextSibling);)o=t.indexOf(e);this.parentNode.insertBefore(_mutation(arguments),e)}},\\"Text\\"in this&&(Text.prototype.after=Element.prototype.after);Document.prototype.append=Element.prototype.append=function(){this.appendChild(_mutation(arguments))};Document.prototype.before=Element.prototype.before=function(){if(this.parentNode){for(var e=Array.prototype.slice.call(arguments),t=this.previousSibling,o=t?e.indexOf(t):-1;-1!==o&&(t=t.previousSibling);)o=e.indexOf(t);this.parentNode.insertBefore(_mutation(arguments),t?t.nextSibling:this.parentNode.firstChild)}},\\"Text\\"in this&&(Text.prototype.before=Element.prototype.before);Document.prototype.prepend=Element.prototype.prepend=function(){this.insertBefore(_mutation(arguments),this.firstChild)};Document.prototype.replaceWith=Element.prototype.replaceWith=function(){this.parentNode&&this.parentNode.replaceChild(_mutation(arguments),this)},\\"Text\\"in this&&(Text.prototype.replaceWith=Element.prototype.replaceWith);!function(n){function h(){a!==n.location.hash&&(a=n.location.hash,n.dispatchEvent(new Event(\\"hashchange\\"))),setTimeout(h,500)}var a=n.location.hash;n.onhashchange=function(){},h()}(this);!function(e){\\"use strict\\";function t(t){return!!t&&(\\"Symbol\\"in e&&\\"iterator\\"in e.Symbol&&\\"function\\"==typeof t[Symbol.iterator]||!!Array.isArray(t))}function n(e){return\\"from\\"in Array?Array.from(e):Array.prototype.slice.call(e)}!function(){function r(e){var t=\\"\\",n=!0;return e.forEach(function(e){var r=encodeURIComponent(e.name),a=encodeURIComponent(e.value);n||(t+=\\"&\\"),t+=r+\\"=\\"+a,n=!1}),t.replace(/%20/g,\\"+\\")}function a(e,t){var n=e.split(\\"&\\");t&&-1===n[0].indexOf(\\"=\\")&&(n[0]=\\"=\\"+n[0]);var r=[];n.forEach(function(e){if(0!==e.length){var t=e.indexOf(\\"=\\");if(-1!==t)var n=e.substring(0,t),a=e.substring(t+1);else n=e,a=\\"\\";n=n.replace(/\\\\+/g,\\" \\"),a=a.replace(/\\\\+/g,\\" \\"),r.push({name:n,value:a})}});var a=[];return r.forEach(function(e){a.push({name:decodeURIComponent(e.name),value:decodeURIComponent(e.value)})}),a}function i(e){if(c)return new s(e);var t=document.createElement(\\"a\\");return t.href=e,t}function o(e){var i=this;this._list=[],e===undefined||null===e||(e instanceof o?this._list=a(String(e)):\\"object\\"==typeof e&&t(e)?n(e).forEach(function(e){if(!t(e))throw TypeError();var r=n(e);if(2!==r.length)throw TypeError();i._list.push({name:String(r[0]),value:String(r[1])})}):\\"object\\"==typeof e&&e?Object.keys(e).forEach(function(t){i._list.push({name:String(t),value:String(e[t])})}):(e=String(e),\\"?\\"===e.substring(0,1)&&(e=e.substring(1)),this._list=a(e))),this._url_object=null,this._setList=function(e){u||(i._list=e)};var u=!1;this._update_steps=function(){u||(u=!0,i._url_object&&(\\"about:\\"===i._url_object.protocol&&-1!==i._url_object.pathname.indexOf(\\"?\\")&&(i._url_object.pathname=i._url_object.pathname.split(\\"?\\")[0]),i._url_object.search=r(i._list),u=!1))}}function u(e,t){var n=0;this.next=function(){if(n>=e.length)return{done:!0,value:undefined};var r=e[n++];return{done:!1,value:\\"key\\"===t?r.name:\\"value\\"===t?r.value:[r.name,r.value]}}}function l(t,n){function r(){var e=l.href.replace(/#$|\\\\?$|\\\\?(?=#)/g,\\"\\");l.href!==e&&(l.href=e)}function u(){m._setList(l.search?a(l.search.substring(1)):[]),m._update_steps()}if(!(this instanceof e.URL))throw new TypeError(\\"Failed to construct 'URL': Please use the 'new' operator.\\");n&&(t=function(){if(c)return new s(t,n).href;var e;try{var r;if(\\"[object OperaMini]\\"===Object.prototype.toString.call(window.operamini)?(e=document.createElement(\\"iframe\\"),e.style.display=\\"none\\",document.documentElement.appendChild(e),r=e.contentWindow.document):document.implementation&&document.implementation.createHTMLDocument?r=document.implementation.createHTMLDocument(\\"\\"):document.implementation&&document.implementation.createDocument?(r=document.implementation.createDocument(\\"http://www.w3.org/1999/xhtml\\",\\"html\\",null),r.documentElement.appendChild(r.createElement(\\"head\\")),r.documentElement.appendChild(r.createElement(\\"body\\"))):window.ActiveXObject&&(r=new window.ActiveXObject(\\"htmlfile\\"),r.write(\\"<head></head><body></body>\\"),r.close()),!r)throw Error(\\"base not supported\\");var a=r.createElement(\\"base\\");a.href=n,r.getElementsByTagName(\\"head\\")[0].appendChild(a);var i=r.createElement(\\"a\\");return i.href=t,i.href}finally{e&&e.parentNode.removeChild(e)}}());var l=i(t||\\"\\"),f=function(){if(!(\\"defineProperties\\"in Object))return!1;try{var e={};return Object.defineProperties(e,{prop:{get:function(){return!0}}}),e.prop}catch(t){return!1}}(),h=f?this:document.createElement(\\"a\\"),m=new o(l.search?l.search.substring(1):null);return m._url_object=h,Object.defineProperties(h,{href:{get:function(){return l.href},set:function(e){l.href=e,r(),u()},enumerable:!0,configurable:!0},origin:{get:function(){return\\"origin\\"in l?l.origin:this.protocol+\\"//\\"+this.host},enumerable:!0,configurable:!0},protocol:{get:function(){return l.protocol},set:function(e){l.protocol=e},enumerable:!0,configurable:!0},username:{get:function(){return l.username},set:function(e){l.username=e},enumerable:!0,configurable:!0},password:{get:function(){return l.password},set:function(e){l.password=e},enumerable:!0,configurable:!0},host:{get:function(){var e={\\"http:\\":/:80$/,\\"https:\\":/:443$/,\\"ftp:\\":/:21$/}[l.protocol];return e?l.host.replace(e,\\"\\"):l.host},set:function(e){l.host=e},enumerable:!0,configurable:!0},hostname:{get:function(){return l.hostname},set:function(e){l.hostname=e},enumerable:!0,configurable:!0},port:{get:function(){return l.port},set:function(e){l.port=e},enumerable:!0,configurable:!0},pathname:{get:function(){return\\"/\\"!==l.pathname.charAt(0)?\\"/\\"+l.pathname:l.pathname},set:function(e){l.pathname=e},enumerable:!0,configurable:!0},search:{get:function(){return l.search},set:function(e){l.search!==e&&(l.search=e,r(),u())},enumerable:!0,configurable:!0},searchParams:{get:function(){return m},enumerable:!0,configurable:!0},hash:{get:function(){return l.hash},set:function(e){l.hash=e,r()},enumerable:!0,configurable:!0},toString:{value:function(){return l.toString()},enumerable:!1,configurable:!0},valueOf:{value:function(){return l.valueOf()},enumerable:!1,configurable:!0}}),h}var c,s=e.URL;try{if(s){if(\\"searchParams\\"in(c=new e.URL(\\"http://example.com\\")))return;\\"href\\"in c||(c=undefined)}}catch(h){}if(Object.defineProperties(o.prototype,{append:{value:function(e,t){this._list.push({name:e,value:t}),this._update_steps()},writable:!0,enumerable:!0,configurable:!0},\\"delete\\":{value:function(e){for(var t=0;t<this._list.length;)this._list[t].name===e?this._list.splice(t,1):++t;this._update_steps()},writable:!0,enumerable:!0,configurable:!0},get:{value:function(e){for(var t=0;t<this._list.length;++t)if(this._list[t].name===e)return this._list[t].value;return null},writable:!0,enumerable:!0,configurable:!0},getAll:{value:function(e){for(var t=[],n=0;n<this._list.length;++n)this._list[n].name===e&&t.push(this._list[n].value);return t},writable:!0,enumerable:!0,configurable:!0},has:{value:function(e){for(var t=0;t<this._list.length;++t)if(this._list[t].name===e)return!0;return!1},writable:!0,enumerable:!0,configurable:!0},set:{value:function(e,t){for(var n=!1,r=0;r<this._list.length;)this._list[r].name===e?n?this._list.splice(r,1):(this._list[r].value=t,n=!0,++r):++r;n||this._list.push({name:e,value:t}),this._update_steps()},writable:!0,enumerable:!0,configurable:!0},entries:{value:function(){return new u(this._list,\\"key+value\\")},writable:!0,enumerable:!0,configurable:!0},keys:{value:function(){return new u(this._list,\\"key\\")},writable:!0,enumerable:!0,configurable:!0},values:{value:function(){return new u(this._list,\\"value\\")},writable:!0,enumerable:!0,configurable:!0},forEach:{value:function(e){var t=arguments.length>1?arguments[1]:undefined;this._list.forEach(function(n,r){e.call(t,n.value,n.name)})},writable:!0,enumerable:!0,configurable:!0},toString:{value:function(){return r(this._list)},writable:!0,enumerable:!1,configurable:!0}}),\\"Symbol\\"in e&&\\"iterator\\"in e.Symbol&&(Object.defineProperty(o.prototype,e.Symbol.iterator,{value:o.prototype.entries,writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,e.Symbol.iterator,{value:function(){return this},writable:!0,enumerable:!0,configurable:!0})),s)for(var f in s)s.hasOwnProperty(f)&&\\"function\\"==typeof s[f]&&(l[f]=s[f]);e.URL=l,e.URLSearchParams=o}(),function(){if(\\"1\\"!==new e.URLSearchParams([[\\"a\\",1]]).get(\\"a\\")||\\"1\\"!==new e.URLSearchParams({a:1}).get(\\"a\\")){var r=e.URLSearchParams;e.URLSearchParams=function(e){if(e&&\\"object\\"==typeof e&&t(e)){var a=new r;return n(e).forEach(function(e){if(!t(e))throw TypeError();var r=n(e);if(2!==r.length)throw TypeError();a.append(r[0],r[1])}),a}return e&&\\"object\\"==typeof e?(a=new r,Object.keys(e).forEach(function(t){a.set(t,e[t])}),a):new r(e)}}}()}(self);Math.clz32=function(t){var n=Number(t)>>>0;return n?32-n.toString(2).length:32};Math.sign=function(n){return(n=Number(n))?n>0?1:-1:n};Object.defineProperty(Number,\\"isSafeInteger\\",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(\\"number\\"!=typeof e)return!1;if(isNaN(e)||e===+Infinity||e===-Infinity)return!1;var r=parseInt(e,10);return r===e&&Math.abs(r)<=Math.pow(2,53)-1}});Object.is=function(n,t){return n===t&&(0!==n||1/n==1/t)||n!==n&&t!==t};String.prototype.repeat=function(t){\\"use strict\\";if(this===undefined||null===this)throw new TypeError(this+\\" is not an object\\");if(t<0||t===Infinity)throw new RangeError(t+\\" is less than zero or equal to infinity\\");return new Array((parseInt(t,10)||0)+1).join(this)};Object.defineProperty(Symbol,\\"hasInstance\\",{value:Symbol(\\"hasInstance\\")});Object.defineProperty(Symbol,\\"isConcatSpreadable\\",{value:Symbol(\\"isConcatSpreadable\\")});Object.defineProperty(Symbol,\\"match\\",{value:Symbol(\\"match\\")});Object.defineProperty(Symbol,\\"replace\\",{value:Symbol(\\"replace\\")});Object.defineProperty(Symbol,\\"search\\",{value:Symbol(\\"search\\")});Object.defineProperty(Symbol,\\"species\\",{value:Symbol(\\"species\\")});Object.defineProperty(Symbol,\\"split\\",{value:Symbol(\\"split\\")});Object.defineProperty(Symbol,\\"toPrimitive\\",{value:Symbol(\\"toPrimitive\\")});Object.defineProperty(Symbol,\\"toStringTag\\",{value:Symbol(\\"toStringTag\\")});!function(){Object.defineProperty(String.prototype,\\"padEnd\\",{configurable:!0,enumerable:!1,value:function(t){if((t|=0)<=this.length)return String(this);for(var e=String(arguments[1]||\\" \\"),n=Math.ceil((t-this.length)/e.length);n--;)e+=e;return String(this)+e.substr(0,t-this.length)},writable:!0})}();!function(){Object.defineProperty(String.prototype,\\"padStart\\",{configurable:!0,enumerable:!1,value:function(t){if((t|=0)<=this.length)return String(this);for(var e=String(arguments[1]||\\" \\"),r=Math.ceil((t-this.length)/e.length);r--;)e+=e;return e.substr(0,t-this.length)+String(this)},writable:!0})}();Object.freeze=function(e){return e};}).call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof global && global || {});"
`;

exports[`returns a reasonable response for Chrome 63 1`] = `
"/* Polyfill service DEVELOPMENT MODE - for live use set NODE_ENV to 'production'
 * For detailed credits and licence information see https://github.com/financial-times/polyfill-service.
 * 
 * UA detected: chrome/63.0.0
 * Features requested: default-3.6,es6,es7
 * 
 * - Array.prototype.values, License: MIT (required by \\"es6\\")
 * - _Iterator, License: MIT (required by \\"_ArrayIterator\\", \\"Array.prototype.@@iterator\\", \\"Array.prototype.values\\", \\"es6\\")
 * - String.prototype.contains, License: CC0 (required by \\"_ArrayIterator\\", \\"Array.prototype.@@iterator\\", \\"Array.prototype.values\\", \\"es6\\")
 * - _ArrayIterator, License: MIT (required by \\"Array.prototype.@@iterator\\", \\"Array.prototype.values\\", \\"es6\\") */

(function(undefined) {

// Array.prototype.values
/* global Symbol */
Object.defineProperty(Array.prototype, 'values', {
	value: Array.prototype[Symbol.iterator],
	enumerable: false,
	writable: false
});

// _Iterator
// A modification of https://github.com/medikoo/es6-iterator
// Copyright (C) 2013-2015 Mariusz Nowak (www.medikoo.com)

var Iterator = (function () { // eslint-disable-line no-unused-vars
	var clear = function () {
		this.length = 0;
		return this;
	};
	var callable = function (fn) {
		if (typeof fn !== 'function') throw new TypeError(fn + \\" is not a function\\");
		return fn;
	};

	var Iterator = function (list, context) {
		if (!(this instanceof Iterator)) {
			return new Iterator(list, context);
		}
		Object.defineProperties(this, {
			__list__: {
				writable: true,
				value: list
			},
			__context__: {
				writable: true,
				value: context
			},
			__nextIndex__: {
				writable: true,
				value: 0
			}
		});
		if (!context) return;
		callable(context.on);
		context.on('_add', this._onAdd.bind(this));
		context.on('_delete', this._onDelete.bind(this));
		context.on('_clear', this._onClear.bind(this));
	};

	Object.defineProperties(Iterator.prototype, Object.assign({
		constructor: {
			value: Iterator,
			configurable: true,
			enumerable: false,
			writable: true
		},
		_next: {
			value: function () {
				var i;
				if (!this.__list__) return;
				if (this.__redo__) {
					i = this.__redo__.shift();
					if (i !== undefined) return i;
				}
				if (this.__nextIndex__ < this.__list__.length) return this.__nextIndex__++;
				this._unBind();
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		next: {
			value: function () {
				return this._createResult(this._next());
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		_createResult: {
			value: function (i) {
				if (i === undefined) return {
					done: true,
					value: undefined
				};
				return {
					done: false,
					value: this._resolve(i)
				};
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		_resolve: {
			value: function (i) {
				return this.__list__[i];
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		_unBind: {
			value: function () {
				this.__list__ = null;
				delete this.__redo__;
				if (!this.__context__) return;
				this.__context__.off('_add', this._onAdd.bind(this));
				this.__context__.off('_delete', this._onDelete.bind(this));
				this.__context__.off('_clear', this._onClear.bind(this));
				this.__context__ = null;
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		toString: {
			value: function () {
				return '[object Iterator]';
			},
			configurable: true,
			enumerable: false,
			writable: true
		}
	}, {
		_onAdd: {
			value: function (index) {
				if (index >= this.__nextIndex__) return;
				++this.__nextIndex__;
				if (!this.__redo__) {
					Object.defineProperty(this, '__redo__', {
						value: [index],
						configurable: true,
						enumerable: false,
						writable: false
					});
					return;
				}
				this.__redo__.forEach(function (redo, i) {
					if (redo >= index) this.__redo__[i] = ++redo;
				}, this);
				this.__redo__.push(index);
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		_onDelete: {
			value: function (index) {
				var i;
				if (index >= this.__nextIndex__) return;
				--this.__nextIndex__;
				if (!this.__redo__) return;
				i = this.__redo__.indexOf(index);
				if (i !== -1) this.__redo__.splice(i, 1);
				this.__redo__.forEach(function (redo, i) {
					if (redo > index) this.__redo__[i] = --redo;
				}, this);
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		_onClear: {
			value: function () {
				if (this.__redo__) clear.call(this.__redo__);
				this.__nextIndex__ = 0;
			},
			configurable: true,
			enumerable: false,
			writable: true
		}
	}));

	Object.defineProperty(Iterator.prototype, Symbol.iterator, {
		value: function () {
			return this;
		},
		configurable: true,
		enumerable: false,
		writable: true
	});
	Object.defineProperty(Iterator.prototype, Symbol.toStringTag, {
		value: 'Iterator',
		configurable: false,
		enumerable: false,
		writable: true
	});

	return Iterator;
}());

// String.prototype.contains
String.prototype.contains = String.prototype.includes;

// _ArrayIterator
// A modification of https://github.com/medikoo/es6-iterator
// Copyright (C) 2013-2015 Mariusz Nowak (www.medikoo.com)

var ArrayIterator = (function() { // eslint-disable-line no-unused-vars

	var ArrayIterator = function(arr, kind) {
		if (!(this instanceof ArrayIterator)) return new ArrayIterator(arr, kind);
		Iterator.call(this, arr);
		if (!kind) kind = 'value';
		else if (String.prototype.contains.call(kind, 'key+value')) kind = 'key+value';
		else if (String.prototype.contains.call(kind, 'key')) kind = 'key';
		else kind = 'value';
		Object.defineProperty(this, '__kind__', {
			value: kind,
			configurable: false,
			enumerable: false,
			writable: false
		});
	};
	if (Object.setPrototypeOf) Object.setPrototypeOf(ArrayIterator, Iterator.prototype);

	ArrayIterator.prototype = Object.create(Iterator.prototype, {
		constructor: {
			value: ArrayIterator,
			configurable: true,
			enumerable: false,
			writable: true
		},
		_resolve: {
			value: function(i) {
				if (this.__kind__ === 'value') return this.__list__[i];
				if (this.__kind__ === 'key+value') return [i, this.__list__[i]];
				return i;
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		toString: {
			value: function() {
				return '[object Array Iterator]';
			},
			configurable: true,
			enumerable: false,
			writable: true
		}
	});

	return ArrayIterator;
}());
})
.call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof global && global || {});
"
`;

exports[`returns a reasonable response for Edge 25 1`] = `
"/* Polyfill service DEVELOPMENT MODE - for live use set NODE_ENV to 'production'
 * For detailed credits and licence information see https://github.com/financial-times/polyfill-service.
 * 
 * UA detected: ie/13.10586.0
 * Features requested: default-3.6,es6,es7
 * 
 * - Array.of, License: MIT (required by \\"default-3.6\\", \\"es6\\")
 * - CustomEvent, License: CC0 (required by \\"default-3.6\\")
 * - _DOMTokenList, License: ISC (required by \\"DOMTokenList\\", \\"default-3.6\\")
 * - DOMTokenList, License: CC0 (required by \\"default-3.6\\")
 * - _mutation, License: CC0 (required by \\"DocumentFragment.prototype.append\\", \\"default-3.6\\", \\"DocumentFragment.prototype.prepend\\", \\"Element.prototype.after\\", \\"Element.prototype.append\\", \\"Element.prototype.before\\", \\"Element.prototype.prepend\\", \\"Element.prototype.remove\\", \\"Element.prototype.replaceWith\\")
 * - DocumentFragment.prototype.append, License: CC0 (required by \\"default-3.6\\")
 * - DocumentFragment.prototype.prepend, License: CC0 (required by \\"default-3.6\\")
 * - Element.prototype.after, License: CC0 (required by \\"default-3.6\\")
 * - Element.prototype.append, License: CC0 (required by \\"default-3.6\\")
 * - Element.prototype.before, License: CC0 (required by \\"default-3.6\\")
 * - Element.prototype.matches, License: CC0 (required by \\"default-3.6\\", \\"Element.prototype.closest\\")
 * - Element.prototype.closest, License: CC0 (required by \\"default-3.6\\")
 * - Element.prototype.prepend, License: CC0 (required by \\"default-3.6\\")
 * - Element.prototype.remove, License: CC0 (required by \\"default-3.6\\")
 * - Element.prototype.replaceWith, License: CC0 (required by \\"default-3.6\\")
 * - Node.prototype.contains, License: CC0 (required by \\"default-3.6\\")
 * - Number.isNaN, License: MIT (required by \\"default-3.6\\", \\"es6\\")
 * - String.prototype.endsWith, License: CC0 (required by \\"default-3.6\\", \\"es6\\")
 * - String.prototype.includes, License: CC0 (required by \\"default-3.6\\", \\"es6\\")
 * - String.prototype.startsWith, License: CC0 (required by \\"default-3.6\\", \\"es6\\")
 * - URL, License: CC0 (required by \\"default-3.6\\")
 * - Array.prototype.find, License: CC0 (required by \\"es6\\")
 * - Array.prototype.findIndex, License: CC0 (required by \\"es6\\")
 * - Math.acosh, License: CC0 (required by \\"es6\\")
 * - Math.asinh, License: CC0 (required by \\"es6\\")
 * - Math.atanh, License: CC0 (required by \\"es6\\")
 * - Math.cbrt, License: CC0 (required by \\"es6\\")
 * - Math.clz32, License: CC0 (required by \\"es6\\")
 * - Math.cosh, License: CC0 (required by \\"es6\\")
 * - Math.expm1, License: CC0 (required by \\"es6\\")
 * - Math.hypot, License: CC0 (required by \\"es6\\")
 * - Math.imul, License: CC0 (required by \\"es6\\")
 * - Math.log10, License: CC0 (required by \\"es6\\")
 * - Math.log1p, License: CC0 (required by \\"es6\\")
 * - Math.log2, License: CC0 (required by \\"es6\\")
 * - Math.sign, License: CC0 (required by \\"es6\\")
 * - Math.sinh, License: CC0 (required by \\"es6\\")
 * - Math.tanh, License: CC0 (required by \\"es6\\")
 * - Math.trunc, License: CC0 (required by \\"es6\\")
 * - Number.isFinite, License: MIT (required by \\"es6\\")
 * - Object.is, License: CC0 (required by \\"es6\\")
 * - String.prototype.repeat, License: CC0 (required by \\"es6\\")
 * - Array.prototype.includes, License: CC0 (required by \\"es7\\")
 * - String.prototype.padEnd, License: CC0 (required by \\"es7\\")
 * - String.prototype.padStart, License: CC0 (required by \\"es7\\") */

(function(undefined) {

// Array.of
/*! https://mths.be/array-of v0.1.0 by @mathias */
(function () {
	'use strict';
	var defineProperty = (function () {
		// IE 8 only supports \`Object.defineProperty\` on DOM elements
		try {
			var object = {};
			var $defineProperty = Object.defineProperty;
			var result = $defineProperty(object, object, object) && $defineProperty;
		} catch (error) { /**/ }
		return result;
	}());
	var isConstructor = function isConstructor(Constructor) {
		try {
			return !!new Constructor();
		} catch (_) {
			return false;
		}
	};
	var of = function of() {
		var items = arguments;
		var length = items.length;
		var Me = this;
		var result = isConstructor(Me) ? new Me(length) : new Array(length);
		var index = 0;
		var value;
		while (index < length) {
			value = items[index];
			if (defineProperty) {
				defineProperty(result, index, {
					'value': value,
					'writable': true,
					'enumerable': true,
					'configurable': true
				});
			} else {
				result[index] = value;
			}
			index += 1;
		}
		result.length = length;
		return result;
	};
	if (defineProperty) {
		defineProperty(Array, 'of', {
			'value': of,
			'configurable': true,
			'writable': true
		});
	} else {
		Array.of = of;
	}
}());

// CustomEvent
this.CustomEvent = function CustomEvent(type, eventInitDict) {
	if (!type) {
		throw Error('TypeError: Failed to construct \\"CustomEvent\\": An event name must be provided.');
	}

	var event;
	eventInitDict = eventInitDict || {bubbles: false, cancelable: false, detail: null};

	if ('createEvent' in document) {
		try {
			event = document.createEvent('CustomEvent');
			event.initCustomEvent(type, eventInitDict.bubbles, eventInitDict.cancelable, eventInitDict.detail);
		} catch (error) {
			// for browsers which don't support CustomEvent at all, we use a regular event instead
			event = document.createEvent('Event');
			event.initEvent(type, eventInitDict.bubbles, eventInitDict.cancelable);
			event.detail = eventInitDict.detail;
		}
	} else {

		// IE8
		event = new Event(type, eventInitDict);
		event.detail = eventInitDict && eventInitDict.detail || null;
	}
	return event;
};

CustomEvent.prototype = Event.prototype;

// _DOMTokenList
/*
Copyright (c) 2016, John Gardner

Permission to use, copy, modify, and/or distribute this software for any purpose with or without fee is hereby granted, provided that the above copyright notice and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED \\"AS IS\\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
*/
var _DOMTokenList = (function() { // eslint-disable-line no-unused-vars
	var dpSupport = true;
	var defineGetter = function (object, name, fn, configurable) {
		if (Object.defineProperty)
			Object.defineProperty(object, name, {
				configurable: false === dpSupport ? true : !!configurable,
				get: fn
			});

		else object.__defineGetter__(name, fn);
	};

	/** Ensure the browser allows Object.defineProperty to be used on native JavaScript objects. */
	try {
		defineGetter({}, \\"support\\");
	}
	catch (e) {
		dpSupport = false;
	}


	var _DOMTokenList = function (el, prop) {
		var that = this;
		var tokens = [];
		var tokenMap = {};
		var length = 0;
		var maxLength = 0;
		var addIndexGetter = function (i) {
			defineGetter(that, i, function () {
				preop();
				return tokens[i];
			}, false);

		};
		var reindex = function () {

			/** Define getter functions for array-like access to the tokenList's contents. */
			if (length >= maxLength)
				for (; maxLength < length; ++maxLength) {
					addIndexGetter(maxLength);
				}
		};

		/** Helper function called at the start of each class method. Internal use only. */
		var preop = function () {
			var error;
			var i;
			var args = arguments;
			var rSpace = /\\\\s+/;

			/** Validate the token/s passed to an instance method, if any. */
			if (args.length)
				for (i = 0; i < args.length; ++i)
					if (rSpace.test(args[i])) {
						error = new SyntaxError('String \\"' + args[i] + '\\" ' + \\"contains\\" + ' an invalid character');
						error.code = 5;
						error.name = \\"InvalidCharacterError\\";
						throw error;
					}


			/** Split the new value apart by whitespace*/
			if (typeof el[prop] === \\"object\\") {
				tokens = (\\"\\" + el[prop].baseVal).replace(/^\\\\s+|\\\\s+$/g, \\"\\").split(rSpace);
			} else {
				tokens = (\\"\\" + el[prop]).replace(/^\\\\s+|\\\\s+$/g, \\"\\").split(rSpace);
			}

			/** Avoid treating blank strings as single-item token lists */
			if (\\"\\" === tokens[0]) tokens = [];

			/** Repopulate the internal token lists */
			tokenMap = {};
			for (i = 0; i < tokens.length; ++i)
				tokenMap[tokens[i]] = true;
			length = tokens.length;
			reindex();
		};

		/** Populate our internal token list if the targeted attribute of the subject element isn't empty. */
		preop();

		/** Return the number of tokens in the underlying string. Read-only. */
		defineGetter(that, \\"length\\", function () {
			preop();
			return length;
		});

		/** Override the default toString/toLocaleString methods to return a space-delimited list of tokens when typecast. */
		that.toLocaleString =
			that.toString = function () {
				preop();
				return tokens.join(\\" \\");
			};

		that.item = function (idx) {
			preop();
			return tokens[idx];
		};

		that.contains = function (token) {
			preop();
			return !!tokenMap[token];
		};

		that.add = function () {
			preop.apply(that, args = arguments);

			for (var args, token, i = 0, l = args.length; i < l; ++i) {
				token = args[i];
				if (!tokenMap[token]) {
					tokens.push(token);
					tokenMap[token] = true;
				}
			}

			/** Update the targeted attribute of the attached element if the token list's changed. */
			if (length !== tokens.length) {
				length = tokens.length >>> 0;
				if (typeof el[prop] === \\"object\\") {
					el[prop].baseVal = tokens.join(\\" \\");
				} else {
					el[prop] = tokens.join(\\" \\");
				}
				reindex();
			}
		};

		that.remove = function () {
			preop.apply(that, args = arguments);

			/** Build a hash of token names to compare against when recollecting our token list. */
			for (var args, ignore = {}, i = 0, t = []; i < args.length; ++i) {
				ignore[args[i]] = true;
				delete tokenMap[args[i]];
			}

			/** Run through our tokens list and reassign only those that aren't defined in the hash declared above. */
			for (i = 0; i < tokens.length; ++i)
				if (!ignore[tokens[i]]) t.push(tokens[i]);

			tokens = t;
			length = t.length >>> 0;

			/** Update the targeted attribute of the attached element. */
			if (typeof el[prop] === \\"object\\") {
				el[prop].baseVal = tokens.join(\\" \\");
			} else {
				el[prop] = tokens.join(\\" \\");
			}
			reindex();
		};

		that.toggle = function (token, force) {
			preop.apply(that, [token]);

			/** Token state's being forced. */
			if (undefined !== force) {
				if (force) {
					that.add(token);
					return true;
				} else {
					that.remove(token);
					return false;
				}
			}

			/** Token already exists in tokenList. Remove it, and return FALSE. */
			if (tokenMap[token]) {
				that.remove(token);
				return false;
			}

			/** Otherwise, add the token and return TRUE. */
			that.add(token);
			return true;
		};

		return that;
	};

	return _DOMTokenList;
}());

// DOMTokenList
(function (global) {
	var nativeImpl = \\"DOMTokenList\\" in global && global.DOMTokenList;

	if (
			!nativeImpl ||
			(
				!!document.createElementNS &&
				!!document.createElementNS('http://www.w3.org/2000/svg', 'svg') &&
				!(document.createElementNS(\\"http://www.w3.org/2000/svg\\", \\"svg\\").classList instanceof DOMTokenList)
			)
		) {
		global.DOMTokenList = _DOMTokenList;
	}

	// Add second argument to native DOMTokenList.toggle() if necessary
	(function () {
		var e = document.createElement('span');
		if (!('classList' in e)) return;
		e.classList.toggle('x', false);
		if (!e.classList.contains('x')) return;
		e.classList.constructor.prototype.toggle = function toggle(token /*, force*/) {
			var force = arguments[1];
			if (force === undefined) {
				var add = !this.contains(token);
				this[add ? 'add' : 'remove'](token);
				return add;
			}
			force = !!force;
			this[force ? 'add' : 'remove'](token);
			return force;
		};
	}());

	// Add multiple arguments to native DOMTokenList.add() if necessary
	(function () {
		var e = document.createElement('span');
		if (!('classList' in e)) return;
		e.classList.add('a', 'b');
		if (e.classList.contains('b')) return;
		var native = e.classList.constructor.prototype.add;
		e.classList.constructor.prototype.add = function () {
			var args = arguments;
			var l = arguments.length;
			for (var i = 0; i < l; i++) {
				native.call(this, args[i]);
			}
		};
	}());

	// Add multiple arguments to native DOMTokenList.remove() if necessary
	(function () {
		var e = document.createElement('span');
		if (!('classList' in e)) return;
		e.classList.add('a');
		e.classList.add('b');
		e.classList.remove('a', 'b');
		if (!e.classList.contains('b')) return;
		var native = e.classList.constructor.prototype.remove;
		e.classList.constructor.prototype.remove = function () {
			var args = arguments;
			var l = arguments.length;
			for (var i = 0; i < l; i++) {
				native.call(this, args[i]);
			}
		};
	}());

}(this));

// _mutation
var _mutation = (function () { // eslint-disable-line no-unused-vars

	function isNode(object) {
		// DOM, Level2
		if (typeof Node === 'function') {
			return object instanceof Node;
		}
		// Older browsers, check if it looks like a Node instance)
		return object &&
			typeof object === \\"object\\" && 
			object.nodeName && 
			object.nodeType >= 1 &&
			object.nodeType <= 12;
	}

	// http://dom.spec.whatwg.org/#mutation-method-macro
	return function mutation(nodes) {
		if (nodes.length === 1) {
			return isNode(nodes[0]) ? nodes[0] : document.createTextNode(nodes[0] + '');
		}

		var fragment = document.createDocumentFragment();
		for (var i = 0; i < nodes.length; i++) {
			fragment.appendChild(isNode(nodes[i]) ? nodes[i] : document.createTextNode(nodes[i] + ''));

		}
		return fragment;
	};
}());

// DocumentFragment.prototype.append
DocumentFragment.prototype.append = function append() {
	this.appendChild(_mutation(arguments));
};

// DocumentFragment.prototype.prepend
DocumentFragment.prototype.prepend = function prepend() {
	this.insertBefore(_mutation(arguments), this.firstChild);
};

// Element.prototype.after
Document.prototype.after = Element.prototype.after = function after() {
	if (this.parentNode) {
		var args = Array.prototype.slice.call(arguments),
				viableNextSibling = this.nextSibling,
				idx = viableNextSibling ? args.indexOf(viableNextSibling) : -1;

		while (idx !== -1) {
			viableNextSibling = viableNextSibling.nextSibling;
			if (!viableNextSibling) {
				break;
			}
			idx = args.indexOf(viableNextSibling);
		}
		
		this.parentNode.insertBefore(_mutation(arguments), viableNextSibling);
	}
};

// Not all UAs support the Text constructor.  Polyfill on the Text constructor only where it exists
// TODO: Add a polyfill for the Text constructor, and make it a dependency of this polyfill.
if (\\"Text\\" in this) {
	Text.prototype.after = Element.prototype.after;
}

// Element.prototype.append
Document.prototype.append = Element.prototype.append = function append() {
	this.appendChild(_mutation(arguments));
};

// Element.prototype.before
Document.prototype.before = Element.prototype.before = function before() {
	if (this.parentNode) {
		var args = Array.prototype.slice.call(arguments),
			viablePreviousSibling = this.previousSibling,
			idx = viablePreviousSibling ? args.indexOf(viablePreviousSibling) : -1;

		while (idx !== -1) {
			viablePreviousSibling = viablePreviousSibling.previousSibling;
			if (!viablePreviousSibling) {
				break;
			}
			idx = args.indexOf(viablePreviousSibling);
		}

		this.parentNode.insertBefore(
			_mutation(arguments),
			viablePreviousSibling ? viablePreviousSibling.nextSibling : this.parentNode.firstChild
		);
	}
};

// Not all UAs support the Text constructor.  Polyfill on the Text constructor only where it exists
// TODO: Add a polyfill for the Text constructor, and make it a dependency of this polyfill.
if (\\"Text\\" in this) {
	Text.prototype.before = Element.prototype.before;
}

// Element.prototype.matches
Element.prototype.matches = Element.prototype.webkitMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.mozMatchesSelector || function matches(selector) {

	var element = this;
	var elements = (element.document || element.ownerDocument).querySelectorAll(selector);
	var index = 0;

	while (elements[index] && elements[index] !== element) {
		++index;
	}

	return !!elements[index];
};

// Element.prototype.closest
Element.prototype.closest = function closest(selector) {
	var node = this;

	while (node) {
		if (node.matches(selector)) return node;
		else node = 'SVGElement' in window && node instanceof SVGElement ? node.parentNode : node.parentElement;
	}

	return null;
};

// Element.prototype.prepend
Document.prototype.prepend = Element.prototype.prepend = function prepend() {
	this.insertBefore(_mutation(arguments), this.firstChild);
};

// Element.prototype.remove
Document.prototype.remove = Element.prototype.remove = function remove() {
	if (this.parentNode) {
		this.parentNode.removeChild(this);
	}
};

// Not all UAs support the Text constructor.  Polyfill on the Text constructor only where it exists
// TODO: Add a polyfill for the Text constructor, and make it a dependency of this polyfill.
if (\\"Text\\" in this) {
	Text.prototype.remove = Element.prototype.remove;
}

// Element.prototype.replaceWith
Document.prototype.replaceWith = Element.prototype.replaceWith = function replaceWith() {
	if (this.parentNode) {
		this.parentNode.replaceChild(_mutation(arguments), this);
	}
};

// Not all UAs support the Text constructor.  Polyfill on the Text constructor only where it exists
// TODO: Add a polyfill for the Text constructor, and make it a dependency of this polyfill.
if ('Text' in this) {
	Text.prototype.replaceWith = Element.prototype.replaceWith;
}

// Node.prototype.contains
(function() {

	function contains(node) {
		if (!(0 in arguments)) {
			throw new TypeError('1 argument is required');
		}

		do {
			if (this === node) {
				return true;
			}
		} while (node = node && node.parentNode);

		return false;
	}

	// IE
	if ('HTMLElement' in this && 'contains' in HTMLElement.prototype) {
		try {
			delete HTMLElement.prototype.contains;
		} catch (e) {}
	}

	if ('Node' in this) {
		Node.prototype.contains = contains;
	} else {
		document.contains = Element.prototype.contains = contains;
	}

}());

// Number.isNaN
Number.isNaN = Number.isNaN || function(value) {
    return typeof value === \\"number\\" && isNaN(value);
};

// String.prototype.endsWith
String.prototype.endsWith = function (string) {
	var index = arguments.length < 2 ? this.length : arguments[1];
	var foundIndex = this.lastIndexOf(string);
	return foundIndex !== -1 && foundIndex === index - string.length;
};

// String.prototype.includes
String.prototype.includes = function (string, index) {
	if (typeof string === 'object' && string instanceof RegExp) throw new TypeError(\\"First argument to String.prototype.includes must not be a regular expression\\");
	return this.indexOf(string, index) !== -1;
};

// String.prototype.startsWith
String.prototype.startsWith = function (string) {
	var index = arguments.length < 2 ? 0 : arguments[1];

	return this.slice(index).indexOf(string) === 0;
};

// URL
// URL Polyfill
// Draft specification: https://url.spec.whatwg.org

// Notes:
// - Primarily useful for parsing URLs and modifying query parameters
// - Should work in IE8+ and everything more modern, with es5.js polyfills

(function (global) {
  'use strict';

  function isSequence(o) {
    if (!o) return false;
    if ('Symbol' in global && 'iterator' in global.Symbol &&
        typeof o[Symbol.iterator] === 'function') return true;
    if (Array.isArray(o)) return true;
    return false;
  }

  function toArray(iter) {
    return ('from' in Array) ? Array.from(iter) : Array.prototype.slice.call(iter);
  }

  (function() {

    // Browsers may have:
    // * No global URL object
    // * URL with static methods only - may have a dummy constructor
    // * URL with members except searchParams
    // * Full URL API support
    var origURL = global.URL;
    var nativeURL;
    try {
      if (origURL) {
        nativeURL = new global.URL('http://example.com');
        if ('searchParams' in nativeURL)
          return;
        if (!('href' in nativeURL))
          nativeURL = undefined;
      }
    } catch (_) {}

    // NOTE: Doesn't do the encoding/decoding dance
    function urlencoded_serialize(pairs) {
      var output = '', first = true;
      pairs.forEach(function (pair) {
        var name = encodeURIComponent(pair.name);
        var value = encodeURIComponent(pair.value);
        if (!first) output += '&';
        output += name + '=' + value;
        first = false;
      });
      return output.replace(/%20/g, '+');
    }

    // NOTE: Doesn't do the encoding/decoding dance
    function urlencoded_parse(input, isindex) {
      var sequences = input.split('&');
      if (isindex && sequences[0].indexOf('=') === -1)
        sequences[0] = '=' + sequences[0];
      var pairs = [];
      sequences.forEach(function (bytes) {
        if (bytes.length === 0) return;
        var index = bytes.indexOf('=');
        if (index !== -1) {
          var name = bytes.substring(0, index);
          var value = bytes.substring(index + 1);
        } else {
          name = bytes;
          value = '';
        }
        name = name.replace(/\\\\+/g, ' ');
        value = value.replace(/\\\\+/g, ' ');
        pairs.push({ name: name, value: value });
      });
      var output = [];
      pairs.forEach(function (pair) {
        output.push({
          name: decodeURIComponent(pair.name),
          value: decodeURIComponent(pair.value)
        });
      });
      return output;
    }

    function URLUtils(url) {
      if (nativeURL)
        return new origURL(url);
      var anchor = document.createElement('a');
      anchor.href = url;
      return anchor;
    }

    function URLSearchParams(init) {
      var $this = this;
      this._list = [];

      if (init === undefined || init === null) {
        // no-op
      } else if (init instanceof URLSearchParams) {
        // In ES6 init would be a sequence, but special case for ES5.
        this._list = urlencoded_parse(String(init));
      } else if (typeof init === 'object' && isSequence(init)) {
        toArray(init).forEach(function(e) {
          if (!isSequence(e)) throw TypeError();
          var nv = toArray(e);
          if (nv.length !== 2) throw TypeError();
          $this._list.push({name: String(nv[0]), value: String(nv[1])});
        });
      } else if (typeof init === 'object' && init) {
        Object.keys(init).forEach(function(key) {
          $this._list.push({name: String(key), value: String(init[key])});
        });
      } else {
        init = String(init);
        if (init.substring(0, 1) === '?')
          init = init.substring(1);
        this._list = urlencoded_parse(init);
      }

      this._url_object = null;
      this._setList = function (list) { if (!updating) $this._list = list; };

      var updating = false;
      this._update_steps = function() {
        if (updating) return;
        updating = true;

        if (!$this._url_object) return;

        // Partial workaround for IE issue with 'about:'
        if ($this._url_object.protocol === 'about:' &&
            $this._url_object.pathname.indexOf('?') !== -1) {
          $this._url_object.pathname = $this._url_object.pathname.split('?')[0];
        }

        $this._url_object.search = urlencoded_serialize($this._list);

        updating = false;
      };
    }


    Object.defineProperties(URLSearchParams.prototype, {
      append: {
        value: function (name, value) {
          this._list.push({ name: name, value: value });
          this._update_steps();
        }, writable: true, enumerable: true, configurable: true
      },

      'delete': {
        value: function (name) {
          for (var i = 0; i < this._list.length;) {
            if (this._list[i].name === name)
              this._list.splice(i, 1);
            else
              ++i;
          }
          this._update_steps();
        }, writable: true, enumerable: true, configurable: true
      },

      get: {
        value: function (name) {
          for (var i = 0; i < this._list.length; ++i) {
            if (this._list[i].name === name)
              return this._list[i].value;
          }
          return null;
        }, writable: true, enumerable: true, configurable: true
      },

      getAll: {
        value: function (name) {
          var result = [];
          for (var i = 0; i < this._list.length; ++i) {
            if (this._list[i].name === name)
              result.push(this._list[i].value);
          }
          return result;
        }, writable: true, enumerable: true, configurable: true
      },

      has: {
        value: function (name) {
          for (var i = 0; i < this._list.length; ++i) {
            if (this._list[i].name === name)
              return true;
          }
          return false;
        }, writable: true, enumerable: true, configurable: true
      },

      set: {
        value: function (name, value) {
          var found = false;
          for (var i = 0; i < this._list.length;) {
            if (this._list[i].name === name) {
              if (!found) {
                this._list[i].value = value;
                found = true;
                ++i;
              } else {
                this._list.splice(i, 1);
              }
            } else {
              ++i;
            }
          }

          if (!found)
            this._list.push({ name: name, value: value });

          this._update_steps();
        }, writable: true, enumerable: true, configurable: true
      },

      entries: {
        value: function() { return new Iterator(this._list, 'key+value'); },
        writable: true, enumerable: true, configurable: true
      },

      keys: {
        value: function() { return new Iterator(this._list, 'key'); },
        writable: true, enumerable: true, configurable: true
      },

      values: {
        value: function() { return new Iterator(this._list, 'value'); },
        writable: true, enumerable: true, configurable: true
      },

      forEach: {
        value: function(callback) {
          var thisArg = (arguments.length > 1) ? arguments[1] : undefined;
          this._list.forEach(function(pair, index) {
            callback.call(thisArg, pair.value, pair.name);
          });

        }, writable: true, enumerable: true, configurable: true
      },

      toString: {
        value: function () {
          return urlencoded_serialize(this._list);
        }, writable: true, enumerable: false, configurable: true
      }
    });

    function Iterator(source, kind) {
      var index = 0;
      this['next'] = function() {
        if (index >= source.length)
          return {done: true, value: undefined};
        var pair = source[index++];
        return {done: false, value:
                kind === 'key' ? pair.name :
                kind === 'value' ? pair.value :
                [pair.name, pair.value]};
      };
    }

    if ('Symbol' in global && 'iterator' in global.Symbol) {
      Object.defineProperty(URLSearchParams.prototype, global.Symbol.iterator, {
        value: URLSearchParams.prototype.entries,
        writable: true, enumerable: true, configurable: true});
      Object.defineProperty(Iterator.prototype, global.Symbol.iterator, {
        value: function() { return this; },
        writable: true, enumerable: true, configurable: true});
    }

    function URL(url, base) {
      if (!(this instanceof global.URL))
        throw new TypeError(\\"Failed to construct 'URL': Please use the 'new' operator.\\");

      if (base) {
        url = (function () {
          if (nativeURL) return new origURL(url, base).href;
          var iframe;
          try {
            var doc;
            // Use another document/base tag/anchor for relative URL resolution, if possible
            if (Object.prototype.toString.call(window.operamini) === \\"[object OperaMini]\\") {
              iframe = document.createElement('iframe');
              iframe.style.display = 'none';
              document.documentElement.appendChild(iframe);
              doc = iframe.contentWindow.document;
            } else if (document.implementation && document.implementation.createHTMLDocument) {
              doc = document.implementation.createHTMLDocument('');
            } else if (document.implementation && document.implementation.createDocument) {
              doc = document.implementation.createDocument('http://www.w3.org/1999/xhtml', 'html', null);
              doc.documentElement.appendChild(doc.createElement('head'));
              doc.documentElement.appendChild(doc.createElement('body'));
            } else if (window.ActiveXObject) {
              doc = new window.ActiveXObject('htmlfile');
              doc.write('<head><\\\\/head><body><\\\\/body>');
              doc.close();
            }

            if (!doc) throw Error('base not supported');

            var baseTag = doc.createElement('base');
            baseTag.href = base;
            doc.getElementsByTagName('head')[0].appendChild(baseTag);
            var anchor = doc.createElement('a');
            anchor.href = url;
            return anchor.href;
          } finally {
            if (iframe)
              iframe.parentNode.removeChild(iframe);
          }
        }());
      }

      // An inner object implementing URLUtils (either a native URL
      // object or an HTMLAnchorElement instance) is used to perform the
      // URL algorithms. With full ES5 getter/setter support, return a
      // regular object For IE8's limited getter/setter support, a
      // different HTMLAnchorElement is returned with properties
      // overridden

      var instance = URLUtils(url || '');

      // Detect for ES5 getter/setter support
      // (an Object.defineProperties polyfill that doesn't support getters/setters may throw)
      var ES5_GET_SET = (function() {
        if (!('defineProperties' in Object)) return false;
        try {
          var obj = {};
          Object.defineProperties(obj, { prop: { 'get': function () { return true; } } });
          return obj.prop;
        } catch (_) {
          return false;
        }
      })();

      var self = ES5_GET_SET ? this : document.createElement('a');



      var query_object = new URLSearchParams(
        instance.search ? instance.search.substring(1) : null);
      query_object._url_object = self;

      Object.defineProperties(self, {
        href: {
          get: function () { return instance.href; },
          set: function (v) { instance.href = v; tidy_instance(); update_steps(); },
          enumerable: true, configurable: true
        },
        origin: {
          get: function () {
            if ('origin' in instance) return instance.origin;
            return this.protocol + '//' + this.host;
          },
          enumerable: true, configurable: true
        },
        protocol: {
          get: function () { return instance.protocol; },
          set: function (v) { instance.protocol = v; },
          enumerable: true, configurable: true
        },
        username: {
          get: function () { return instance.username; },
          set: function (v) { instance.username = v; },
          enumerable: true, configurable: true
        },
        password: {
          get: function () { return instance.password; },
          set: function (v) { instance.password = v; },
          enumerable: true, configurable: true
        },
        host: {
          get: function () {
            // IE returns default port in |host|
            var re = {'http:': /:80$/, 'https:': /:443$/, 'ftp:': /:21$/}[instance.protocol];
            return re ? instance.host.replace(re, '') : instance.host;
          },
          set: function (v) { instance.host = v; },
          enumerable: true, configurable: true
        },
        hostname: {
          get: function () { return instance.hostname; },
          set: function (v) { instance.hostname = v; },
          enumerable: true, configurable: true
        },
        port: {
          get: function () { return instance.port; },
          set: function (v) { instance.port = v; },
          enumerable: true, configurable: true
        },
        pathname: {
          get: function () {
            // IE does not include leading '/' in |pathname|
            if (instance.pathname.charAt(0) !== '/') return '/' + instance.pathname;
            return instance.pathname;
          },
          set: function (v) { instance.pathname = v; },
          enumerable: true, configurable: true
        },
        search: {
          get: function () { return instance.search; },
          set: function (v) {
            if (instance.search === v) return;
            instance.search = v; tidy_instance(); update_steps();
          },
          enumerable: true, configurable: true
        },
        searchParams: {
          get: function () { return query_object; },
          enumerable: true, configurable: true
        },
        hash: {
          get: function () { return instance.hash; },
          set: function (v) { instance.hash = v; tidy_instance(); },
          enumerable: true, configurable: true
        },
        toString: {
          value: function() { return instance.toString(); },
          enumerable: false, configurable: true
        },
        valueOf: {
          value: function() { return instance.valueOf(); },
          enumerable: false, configurable: true
        }
      });

      function tidy_instance() {
        var href = instance.href.replace(/#$|\\\\?$|\\\\?(?=#)/g, '');
        if (instance.href !== href)
          instance.href = href;
      }

      function update_steps() {
        query_object._setList(instance.search ? urlencoded_parse(instance.search.substring(1)) : []);
        query_object._update_steps();
      };

      return self;
    }

    if (origURL) {
      for (var i in origURL) {
        if (origURL.hasOwnProperty(i) && typeof origURL[i] === 'function')
          URL[i] = origURL[i];
      }
    }

    global.URL = URL;
    global.URLSearchParams = URLSearchParams;
  }());

  // Patch native URLSearchParams constructor to handle sequences/records
  // if necessary.
  (function() {
    if (new global.URLSearchParams([['a', 1]]).get('a') === '1' &&
        new global.URLSearchParams({a: 1}).get('a') === '1')
      return;
    var orig = global.URLSearchParams;
    global.URLSearchParams = function(init) {
      if (init && typeof init === 'object' && isSequence(init)) {
        var o = new orig();
        toArray(init).forEach(function(e) {
          if (!isSequence(e)) throw TypeError();
          var nv = toArray(e);
          if (nv.length !== 2) throw TypeError();
          o.append(nv[0], nv[1]);
        });
        return o;
      } else if (init && typeof init === 'object') {
        o = new orig();
        Object.keys(init).forEach(function(key) {
          o.set(key, init[key]);
        });
        return o;
      } else {
        return new orig(init);
      }
    };
  }());

}(self));

// Array.prototype.find
Object.defineProperty(Array.prototype, 'find', {
	configurable: true,
	value: function find(callback) {
		if (this === undefined || this === null) {
			throw new TypeError(this + ' is not an object');
		}

		if (typeof callback !== 'function') {
			throw new TypeError(callback + ' is not a function');
		}

		var
		object = Object(this),
		scope = arguments[1],
		arraylike = object instanceof String ? object.split('') : object,
		length = Math.max(Math.min(arraylike.length, 9007199254740991), 0) || 0,
		index = -1,
		element;

		while (++index < length) {
			if (index in arraylike) {
				element = arraylike[index];

				if (callback.call(scope, element, index, object)) {
					return element;
				}
			}
		}
	},
	writable: true
});

// Array.prototype.findIndex
Object.defineProperty(Array.prototype, 'findIndex', {
	configurable: true,
	value: function findIndex(callback) {
		if (this === undefined || this === null) {
			throw new TypeError(this + ' is not an object');
		}

		if (typeof callback !== 'function') {
			throw new TypeError(callback + ' is not a function');
		}

		var
		object = Object(this),
		scope = arguments[1],
		arraylike = object instanceof String ? object.split('') : object,
		length = Math.max(Math.min(arraylike.length, 9007199254740991), 0) || 0,
		index = -1;

		while (++index < length) {
			if (index in arraylike) {
				if (callback.call(scope, arraylike[index], index, object)) {
					return index;
				}
			}
		}

		return -1;
	},
	writable: true
});

// Math.acosh
Math.acosh = function (x) {
  return Math.log(x + Math.sqrt(x * x - 1));
};
// Math.asinh
Math.asinh = function asinh(x) {
	return x === -Infinity ? x : Math.log(x + Math.sqrt(x * x + 1));
};

// Math.atanh
Math.atanh = function atanh(x) {
	return Math.log((1 + x) / (1 - x)) / 2;
};

// Math.cbrt
Math.cbrt = function cbrt(x) {
	var y = Math.pow(Math.abs(x), 1 / 3);

	return x < 0 ? -y : y;
};

// Math.clz32
Math.clz32 = function clz32(x) {
	var value = Number(x) >>> 0;

	return value ? 32 - value.toString(2).length : 32;
};

// Math.cosh
Math.cosh = function cosh(x) {
	var y = Math.exp(x);

	return (y + 1 / y) / 2;
};

// Math.expm1
Math.expm1 = function expm1(x) {
	return Math.exp(x) - 1;
};

// Math.hypot
Math.hypot = function hypot() {
	var args = arguments, index = -1, y = 0;

	while (++index in args && Math.abs(y) !== Infinity) {
		y += args[index] * args[index];
	}

	return Math.abs(y) === Infinity ? Infinity : Math.sqrt(y);
};

// Math.imul
Math.imul = function imul(a, b) {
	var
	ah = (a >>> 16) & 0xffff,
	al = a & 0xffff,
	bh = (b >>> 16) & 0xffff,
	bl = b & 0xffff;

	return ((al * bl) + (((ah * bl + al * bh) << 16) >>> 0) | 0);
};

// Math.log10
Math.log10 = function log10(x) {
	return Math.log(x) / Math.LN10;
};

// Math.log1p
Math.log1p = function log1p(x) {
	return Math.log(1 + x);
};

// Math.log2
Math.log2 = function log2(x) {
	return Math.log(x) / Math.LN2;
};

// Math.sign
Math.sign = function sign(x) {
	return !(x = Number(x)) ? x : x > 0 ? 1 : -1;
};

// Math.sinh
Math.sinh = function sinh(x) {
	var y = Math.exp(x);

	return (y - 1 / y) / 2;
};

// Math.tanh
Math.tanh = function tanh(x) {
	var y;

	return x === Infinity ? 1 : x === -Infinity ? -1 : (y = Math.exp(2 * x), (y - 1) / (y + 1));
};

// Math.trunc
Math.trunc = function trunc(x) {
	return x < 0 ? Math.ceil(x) : Math.floor(x);
};

// Number.isFinite
Number.isFinite = Number.isFinite || function(value) {
    return typeof value === \\"number\\" && isFinite(value);
};

// Object.is
Object.is = function is(a, b) {
	return (a === b && (a !== 0 || 1 / a === 1 / b)) || (a !== a && b !== b);
};

// String.prototype.repeat
String.prototype.repeat = function repeat(count) {
	'use strict';

	if (this === undefined || this === null) {
		throw new TypeError(this + ' is not an object');
	}

	if (count < 0 || count === Infinity) {
		throw new RangeError(count + ' is less than zero or equal to infinity');
	}

	return new Array((parseInt(count, 10) || 0) + 1).join(this);
};

// Array.prototype.includes
(function () {
	Object.defineProperty(Array.prototype, 'includes', {
		configurable: true,
		value: function includes (searchElement /*, fromIndex*/) {
			'use strict';
			var O = Object(this);
			var len = parseInt(O.length) || 0;
			if (len === 0) {
				return false;
			}
			var n = parseInt(arguments[1]) || 0;
			var k;
			if (n >= 0) {
				k = n;
			} else {
				k = len + n;
				if (k < 0) {
					k = 0;
				}
			}
			var currentElement;
			while (k < len) {
				currentElement = O[k];
				if (searchElement === currentElement ||
					(searchElement !== searchElement && currentElement !== currentElement)) {
					return true;
				}
				k++;
			}
			return false;
		},
		writable: true
	});
}());

// String.prototype.padEnd
(function () {
	Object.defineProperty(String.prototype, 'padEnd', {
		configurable: true,
		enumerable: false,
		value: function padEnd (targetLength) {
			targetLength = targetLength | 0;
			if (targetLength <= this.length) return String(this);
			var padString = String(arguments[1] || \\" \\");
			var repeat = Math.ceil((targetLength - this.length) / padString.length);
			while (repeat--) {
				padString += padString;
			}
			return String(this) + padString.substr(0, targetLength - this.length);
		},
		writable: true
	});
}());

// String.prototype.padStart
(function () {
	Object.defineProperty(String.prototype, 'padStart', {
		configurable: true,
		enumerable: false,
		value: function padStart (targetLength) {
			targetLength = targetLength | 0;
			if (targetLength <= this.length) return String(this);
			var padString = String(arguments[1] || \\" \\");
			var repeat = Math.ceil((targetLength - this.length) / padString.length);
			while (repeat--) {
				padString += padString;
			}
			return padString.substr(0, targetLength - this.length) + String(this);
		},
		writable: true
	});
}());
})
.call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof global && global || {});
"
`;

exports[`returns a reasonable response for Firefox 56 1`] = `
"/* Polyfill service DEVELOPMENT MODE - for live use set NODE_ENV to 'production'
 * For detailed credits and licence information see https://github.com/financial-times/polyfill-service.
 * 
 * UA detected: firefox/56.0.0
 * Features requested: default-3.6,es6,es7
 * 
 * - Array.prototype.values, License: MIT (required by \\"es6\\")
 * - _Iterator, License: MIT (required by \\"_ArrayIterator\\", \\"Array.prototype.@@iterator\\", \\"Array.prototype.values\\", \\"es6\\")
 * - _ArrayIterator, License: MIT (required by \\"Array.prototype.@@iterator\\", \\"Array.prototype.values\\", \\"es6\\") */

(function(undefined) {

// Array.prototype.values
/* global Symbol */
Object.defineProperty(Array.prototype, 'values', {
	value: Array.prototype[Symbol.iterator],
	enumerable: false,
	writable: false
});

// _Iterator
// A modification of https://github.com/medikoo/es6-iterator
// Copyright (C) 2013-2015 Mariusz Nowak (www.medikoo.com)

var Iterator = (function () { // eslint-disable-line no-unused-vars
	var clear = function () {
		this.length = 0;
		return this;
	};
	var callable = function (fn) {
		if (typeof fn !== 'function') throw new TypeError(fn + \\" is not a function\\");
		return fn;
	};

	var Iterator = function (list, context) {
		if (!(this instanceof Iterator)) {
			return new Iterator(list, context);
		}
		Object.defineProperties(this, {
			__list__: {
				writable: true,
				value: list
			},
			__context__: {
				writable: true,
				value: context
			},
			__nextIndex__: {
				writable: true,
				value: 0
			}
		});
		if (!context) return;
		callable(context.on);
		context.on('_add', this._onAdd.bind(this));
		context.on('_delete', this._onDelete.bind(this));
		context.on('_clear', this._onClear.bind(this));
	};

	Object.defineProperties(Iterator.prototype, Object.assign({
		constructor: {
			value: Iterator,
			configurable: true,
			enumerable: false,
			writable: true
		},
		_next: {
			value: function () {
				var i;
				if (!this.__list__) return;
				if (this.__redo__) {
					i = this.__redo__.shift();
					if (i !== undefined) return i;
				}
				if (this.__nextIndex__ < this.__list__.length) return this.__nextIndex__++;
				this._unBind();
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		next: {
			value: function () {
				return this._createResult(this._next());
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		_createResult: {
			value: function (i) {
				if (i === undefined) return {
					done: true,
					value: undefined
				};
				return {
					done: false,
					value: this._resolve(i)
				};
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		_resolve: {
			value: function (i) {
				return this.__list__[i];
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		_unBind: {
			value: function () {
				this.__list__ = null;
				delete this.__redo__;
				if (!this.__context__) return;
				this.__context__.off('_add', this._onAdd.bind(this));
				this.__context__.off('_delete', this._onDelete.bind(this));
				this.__context__.off('_clear', this._onClear.bind(this));
				this.__context__ = null;
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		toString: {
			value: function () {
				return '[object Iterator]';
			},
			configurable: true,
			enumerable: false,
			writable: true
		}
	}, {
		_onAdd: {
			value: function (index) {
				if (index >= this.__nextIndex__) return;
				++this.__nextIndex__;
				if (!this.__redo__) {
					Object.defineProperty(this, '__redo__', {
						value: [index],
						configurable: true,
						enumerable: false,
						writable: false
					});
					return;
				}
				this.__redo__.forEach(function (redo, i) {
					if (redo >= index) this.__redo__[i] = ++redo;
				}, this);
				this.__redo__.push(index);
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		_onDelete: {
			value: function (index) {
				var i;
				if (index >= this.__nextIndex__) return;
				--this.__nextIndex__;
				if (!this.__redo__) return;
				i = this.__redo__.indexOf(index);
				if (i !== -1) this.__redo__.splice(i, 1);
				this.__redo__.forEach(function (redo, i) {
					if (redo > index) this.__redo__[i] = --redo;
				}, this);
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		_onClear: {
			value: function () {
				if (this.__redo__) clear.call(this.__redo__);
				this.__nextIndex__ = 0;
			},
			configurable: true,
			enumerable: false,
			writable: true
		}
	}));

	Object.defineProperty(Iterator.prototype, Symbol.iterator, {
		value: function () {
			return this;
		},
		configurable: true,
		enumerable: false,
		writable: true
	});
	Object.defineProperty(Iterator.prototype, Symbol.toStringTag, {
		value: 'Iterator',
		configurable: false,
		enumerable: false,
		writable: true
	});

	return Iterator;
}());

// _ArrayIterator
// A modification of https://github.com/medikoo/es6-iterator
// Copyright (C) 2013-2015 Mariusz Nowak (www.medikoo.com)

var ArrayIterator = (function() { // eslint-disable-line no-unused-vars

	var ArrayIterator = function(arr, kind) {
		if (!(this instanceof ArrayIterator)) return new ArrayIterator(arr, kind);
		Iterator.call(this, arr);
		if (!kind) kind = 'value';
		else if (String.prototype.contains.call(kind, 'key+value')) kind = 'key+value';
		else if (String.prototype.contains.call(kind, 'key')) kind = 'key';
		else kind = 'value';
		Object.defineProperty(this, '__kind__', {
			value: kind,
			configurable: false,
			enumerable: false,
			writable: false
		});
	};
	if (Object.setPrototypeOf) Object.setPrototypeOf(ArrayIterator, Iterator.prototype);

	ArrayIterator.prototype = Object.create(Iterator.prototype, {
		constructor: {
			value: ArrayIterator,
			configurable: true,
			enumerable: false,
			writable: true
		},
		_resolve: {
			value: function(i) {
				if (this.__kind__ === 'value') return this.__list__[i];
				if (this.__kind__ === 'key+value') return [i, this.__list__[i]];
				return i;
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		toString: {
			value: function() {
				return '[object Array Iterator]';
			},
			configurable: true,
			enumerable: false,
			writable: true
		}
	});

	return ArrayIterator;
}());
})
.call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof global && global || {});
"
`;

exports[`returns a reasonable response for IE 9 1`] = `
"/* Polyfill service DEVELOPMENT MODE - for live use set NODE_ENV to 'production'
 * For detailed credits and licence information see https://github.com/financial-times/polyfill-service.
 * 
 * UA detected: ie/9.0.0
 * Features requested: default-3.6,es6,es7
 * 
 * - Object.keys, License: MIT (required by \\"default-3.6\\", \\"Object.assign\\", \\"es6\\", \\"Symbol\\", \\"Map\\", \\"Set\\", \\"Symbol.hasInstance\\", \\"Symbol.isConcatSpreadable\\", \\"Symbol.iterator\\", \\"Array.prototype.@@iterator\\", \\"Array.prototype.entries\\", \\"Array.prototype.keys\\", \\"Array.prototype.values\\", \\"String.prototype.@@iterator\\", \\"Symbol.match\\", \\"Symbol.replace\\", \\"Symbol.search\\", \\"Symbol.species\\", \\"Symbol.split\\", \\"Symbol.toPrimitive\\", \\"Symbol.toStringTag\\", \\"Symbol.unscopables\\")
 * - Object.assign, License: CC0 (required by \\"default-3.6\\", \\"es6\\", \\"_Iterator\\", \\"_ArrayIterator\\", \\"Array.from\\", \\"Array.prototype.@@iterator\\", \\"Array.prototype.entries\\", \\"Array.prototype.keys\\", \\"_StringIterator\\", \\"String.prototype.@@iterator\\")
 * - Symbol, License: MIT (required by \\"es6\\", \\"Map\\", \\"default-3.6\\", \\"Set\\", \\"Symbol.hasInstance\\", \\"Symbol.isConcatSpreadable\\", \\"Symbol.iterator\\", \\"Array.prototype.@@iterator\\", \\"Array.prototype.entries\\", \\"Array.prototype.keys\\", \\"Array.prototype.values\\", \\"String.prototype.@@iterator\\", \\"Symbol.match\\", \\"Symbol.replace\\", \\"Symbol.search\\", \\"Symbol.species\\", \\"Symbol.split\\", \\"Symbol.toPrimitive\\", \\"Symbol.toStringTag\\", \\"Symbol.unscopables\\", \\"_Iterator\\", \\"_ArrayIterator\\", \\"Array.from\\", \\"_StringIterator\\")
 * - Symbol.iterator, License: MIT (required by \\"es6\\", \\"Map\\", \\"default-3.6\\", \\"Set\\", \\"Array.prototype.@@iterator\\", \\"Array.prototype.entries\\", \\"Array.prototype.keys\\", \\"Array.prototype.values\\", \\"String.prototype.@@iterator\\", \\"_Iterator\\", \\"_ArrayIterator\\", \\"Array.from\\", \\"_StringIterator\\")
 * - Symbol.toStringTag, License: MIT (required by \\"es6\\", \\"_Iterator\\", \\"_ArrayIterator\\", \\"Array.from\\", \\"default-3.6\\", \\"Array.prototype.@@iterator\\", \\"Array.prototype.entries\\", \\"Array.prototype.keys\\", \\"_StringIterator\\", \\"String.prototype.@@iterator\\")
 * - _Iterator, License: MIT (required by \\"_ArrayIterator\\", \\"Array.from\\", \\"default-3.6\\", \\"es6\\", \\"Array.prototype.@@iterator\\", \\"Array.prototype.entries\\", \\"Array.prototype.keys\\", \\"_StringIterator\\", \\"String.prototype.@@iterator\\")
 * - Object.setPrototypeOf, License: MIT (required by \\"es6\\", \\"_ArrayIterator\\", \\"Array.from\\", \\"default-3.6\\", \\"Array.prototype.@@iterator\\", \\"Array.prototype.entries\\", \\"Array.prototype.keys\\", \\"_StringIterator\\", \\"String.prototype.@@iterator\\")
 * - String.prototype.includes, License: CC0 (required by \\"default-3.6\\", \\"es6\\", \\"String.prototype.contains\\", \\"_ArrayIterator\\", \\"Array.from\\", \\"Array.prototype.@@iterator\\", \\"Array.prototype.entries\\", \\"Array.prototype.keys\\")
 * - String.prototype.contains, License: CC0 (required by \\"_ArrayIterator\\", \\"Array.from\\", \\"default-3.6\\", \\"es6\\", \\"Array.prototype.@@iterator\\", \\"Array.prototype.entries\\", \\"Array.prototype.keys\\")
 * - _ArrayIterator, License: MIT (required by \\"Array.from\\", \\"default-3.6\\", \\"es6\\", \\"Array.prototype.@@iterator\\", \\"Array.prototype.entries\\", \\"Array.prototype.keys\\")
 * - Number.isFinite, License: MIT (required by \\"es6\\", \\"Array.from\\", \\"default-3.6\\")
 * - Number.isNaN, License: MIT (required by \\"default-3.6\\", \\"es6\\", \\"Array.from\\", \\"Map\\", \\"Set\\")
 * - Array.from, License: CC0 (required by \\"default-3.6\\", \\"es6\\")
 * - Array.of, License: MIT (required by \\"default-3.6\\", \\"es6\\")
 * - Array.prototype.fill, License: CC0 (required by \\"default-3.6\\", \\"es6\\")
 * - Event, License: CC0 (required by \\"default-3.6\\", \\"CustomEvent\\")
 * - CustomEvent, License: CC0 (required by \\"default-3.6\\")
 * - _DOMTokenList, License: ISC (required by \\"DOMTokenList\\", \\"default-3.6\\")
 * - DOMTokenList, License: CC0 (required by \\"default-3.6\\", \\"Element.prototype.classList\\")
 * - DocumentFragment, License: CC0 (required by \\"DocumentFragment.prototype.append\\", \\"default-3.6\\", \\"DocumentFragment.prototype.prepend\\")
 * - _mutation, License: CC0 (required by \\"DocumentFragment.prototype.append\\", \\"default-3.6\\", \\"DocumentFragment.prototype.prepend\\", \\"Element.prototype.after\\", \\"Element.prototype.append\\", \\"Element.prototype.before\\", \\"Element.prototype.prepend\\", \\"Element.prototype.remove\\", \\"Element.prototype.replaceWith\\")
 * - DocumentFragment.prototype.append, License: CC0 (required by \\"default-3.6\\")
 * - DocumentFragment.prototype.prepend, License: CC0 (required by \\"default-3.6\\")
 * - Element.prototype.after, License: CC0 (required by \\"default-3.6\\")
 * - Element.prototype.append, License: CC0 (required by \\"default-3.6\\")
 * - Element.prototype.before, License: CC0 (required by \\"default-3.6\\")
 * - Element.prototype.classList, License: ISC (required by \\"default-3.6\\")
 * - Element.prototype.matches, License: CC0 (required by \\"default-3.6\\", \\"Element.prototype.closest\\")
 * - Element.prototype.closest, License: CC0 (required by \\"default-3.6\\")
 * - Element.prototype.prepend, License: CC0 (required by \\"default-3.6\\")
 * - Element.prototype.remove, License: CC0 (required by \\"default-3.6\\")
 * - Element.prototype.replaceWith, License: CC0 (required by \\"default-3.6\\")
 * - Symbol.species, License: MIT (required by \\"es6\\", \\"Map\\", \\"default-3.6\\", \\"Set\\")
 * - Map, License: CC0 (required by \\"default-3.6\\", \\"es6\\")
 * - Node.prototype.contains, License: CC0 (required by \\"default-3.6\\")
 * - Promise, License: MIT (required by \\"default-3.6\\", \\"es6\\")
 * - Set, License: CC0 (required by \\"default-3.6\\", \\"es6\\")
 * - String.prototype.endsWith, License: CC0 (required by \\"default-3.6\\", \\"es6\\")
 * - String.prototype.startsWith, License: CC0 (required by \\"default-3.6\\", \\"es6\\")
 * - URL, License: CC0 (required by \\"default-3.6\\")
 * - atob, License: MIT (required by \\"default-3.6\\")
 * - location.origin, License: CC0 (required by \\"default-3.6\\")
 * - performance.now, License: CC0 (required by \\"requestAnimationFrame\\", \\"default-3.6\\")
 * - requestAnimationFrame, License: MIT (required by \\"default-3.6\\")
 * - ~html5-elements, License: MIT (required by \\"default-3.6\\")
 * - Array.prototype.@@iterator, License: CC0 (required by \\"es6\\", \\"Array.prototype.values\\")
 * - Array.prototype.copyWithin, License: MIT (required by \\"es6\\")
 * - Array.prototype.entries, License: CC0 (required by \\"es6\\")
 * - Array.prototype.find, License: CC0 (required by \\"es6\\")
 * - Array.prototype.findIndex, License: CC0 (required by \\"es6\\")
 * - Array.prototype.keys, License: CC0 (required by \\"es6\\")
 * - Array.prototype.values, License: MIT (required by \\"es6\\")
 * - Function.name, License: MIT (required by \\"es6\\")
 * - Math.acosh, License: CC0 (required by \\"es6\\")
 * - Math.asinh, License: CC0 (required by \\"es6\\")
 * - Math.atanh, License: CC0 (required by \\"es6\\")
 * - Math.cbrt, License: CC0 (required by \\"es6\\")
 * - Math.clz32, License: CC0 (required by \\"es6\\")
 * - Math.cosh, License: CC0 (required by \\"es6\\")
 * - Math.expm1, License: CC0 (required by \\"es6\\")
 * - Math.hypot, License: CC0 (required by \\"es6\\")
 * - Math.imul, License: CC0 (required by \\"es6\\")
 * - Math.log10, License: CC0 (required by \\"es6\\")
 * - Math.log1p, License: CC0 (required by \\"es6\\")
 * - Math.log2, License: CC0 (required by \\"es6\\")
 * - Math.sign, License: CC0 (required by \\"es6\\")
 * - Math.sinh, License: CC0 (required by \\"es6\\")
 * - Math.tanh, License: CC0 (required by \\"es6\\")
 * - Math.trunc, License: CC0 (required by \\"es6\\")
 * - Number.Epsilon, License: MIT (required by \\"es6\\")
 * - Number.MAX_SAFE_INTEGER, License: MIT (required by \\"es6\\")
 * - Number.MIN_SAFE_INTEGER, License: MIT (required by \\"es6\\")
 * - Number.isInteger, License: MIT (required by \\"es6\\")
 * - Number.isSafeInteger, License: MIT (required by \\"es6\\")
 * - Number.parseFloat, License: MIT (required by \\"es6\\")
 * - Number.parseInt, License: MIT (required by \\"es6\\")
 * - Object.is, License: CC0 (required by \\"es6\\")
 * - RegExp.prototype.flags, License: MIT (required by \\"es6\\")
 * - _StringIterator, License: MIT (required by \\"String.prototype.@@iterator\\", \\"es6\\")
 * - String.prototype.@@iterator, License: CC0 (required by \\"es6\\")
 * - String.prototype.codePointAt, License: MIT (required by \\"es6\\")
 * - String.prototype.repeat, License: CC0 (required by \\"es6\\")
 * - Symbol.hasInstance, License: MIT (required by \\"es6\\")
 * - Symbol.isConcatSpreadable, License: MIT (required by \\"es6\\")
 * - Symbol.match, License: MIT (required by \\"es6\\")
 * - Symbol.replace, License: MIT (required by \\"es6\\")
 * - Symbol.search, License: MIT (required by \\"es6\\")
 * - Symbol.split, License: MIT (required by \\"es6\\")
 * - Symbol.toPrimitive, License: MIT (required by \\"es6\\")
 * - Symbol.unscopables, License: MIT (required by \\"es6\\")
 * - WeakMap, License: https://github.com/webcomponents/webcomponentsjs/blob/master/LICENSE.md (required by \\"es6\\")
 * - WeakSet, License: https://github.com/webcomponents/webcomponentsjs/blob/master/LICENSE.md (required by \\"es6\\")
 * - Array.prototype.includes, License: CC0 (required by \\"es7\\")
 * - String.prototype.padEnd, License: CC0 (required by \\"es7\\")
 * - String.prototype.padStart, License: CC0 (required by \\"es7\\") */

(function(undefined) {

// Object.keys
Object.keys = (function() {
	'use strict';

	// modified from https://github.com/es-shims/object-keys

	var has = Object.prototype.hasOwnProperty;
	var toStr = Object.prototype.toString;
	var isEnumerable = Object.prototype.propertyIsEnumerable;
	var hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');
	var hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');
	var dontEnums = [
		'toString',
		'toLocaleString',
		'valueOf',
		'hasOwnProperty',
		'isPrototypeOf',
		'propertyIsEnumerable',
		'constructor'
	];
	var equalsConstructorPrototype = function (o) {
		var ctor = o.constructor;
		return ctor && ctor.prototype === o;
	};
	var excludedKeys = {
		$console: true,
		$external: true,
		$frame: true,
		$frameElement: true,
		$frames: true,
		$innerHeight: true,
		$innerWidth: true,
		$outerHeight: true,
		$outerWidth: true,
		$pageXOffset: true,
		$pageYOffset: true,
		$parent: true,
		$scrollLeft: true,
		$scrollTop: true,
		$scrollX: true,
		$scrollY: true,
		$self: true,
		$webkitIndexedDB: true,
		$webkitStorageInfo: true,
		$window: true
	};
	var hasAutomationEqualityBug = (function () {
		/* global window */
		if (typeof window === 'undefined') { return false; }
		for (var k in window) {
			try {
				if (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {
					try {
						equalsConstructorPrototype(window[k]);
					} catch (e) {
						return true;
					}
				}
			} catch (e) {
				return true;
			}
		}
		return false;
	}());
	var equalsConstructorPrototypeIfNotBuggy = function (o) {
		/* global window */
		if (typeof window === 'undefined' || !hasAutomationEqualityBug) {
			return equalsConstructorPrototype(o);
		}
		try {
			return equalsConstructorPrototype(o);
		} catch (e) {
			return false;
		}
	};

	function isArgumentsObject(value) {
		var str = toStr.call(value);
		var isArgs = str === '[object Arguments]';
		if (!isArgs) {
			isArgs = str !== '[object Array]' &&
				value !== null &&
				typeof value === 'object' &&
				typeof value.length === 'number' &&
				value.length >= 0 &&
				toStr.call(value.callee) === '[object Function]';
		}
		return isArgs;
	};

	return function keys(object) {
		var isFunction = toStr.call(object) === '[object Function]';
		var isArguments = isArgumentsObject(object);
		var isString = toStr.call(object) === '[object String]';
		var theKeys = [];

		if (object === undefined || object === null) {
			throw new TypeError('Cannot convert undefined or null to object');
		}

		var skipProto = hasProtoEnumBug && isFunction;
		if (isString && object.length > 0 && !has.call(object, 0)) {
			for (var i = 0; i < object.length; ++i) {
				theKeys.push(String(i));
			}
		}

		if (isArguments && object.length > 0) {
			for (var j = 0; j < object.length; ++j) {
				theKeys.push(String(j));
			}
		} else {
			for (var name in object) {
				if (!(skipProto && name === 'prototype') && has.call(object, name)) {
					theKeys.push(String(name));
				}
			}
		}

		if (hasDontEnumBug) {
			var skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);

			for (var k = 0; k < dontEnums.length; ++k) {
				if (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {
					theKeys.push(dontEnums[k]);
				}
			}
		}
		return theKeys;
	};
}());

// Object.assign
(function() {

	// 7.1.13 ToObject ( argument )
	function toObject(argument) {
    if (argument === null || argument === undefined) {
			throw new TypeError('Cannot call method on ' + argument);
		}
    return Object(argument);
  }

	Object.defineProperty(Object, 'assign', {
		enumerable: false,
		configurable: true,
		writable: true,
		// 19.1.2.1 Object.assign ( target, ...sources )
		value: function assign(target, source) { // eslint-disable-line no-unused-vars

			// 1. Let to be ? ToObject(target).
			var to = toObject(target);

			// 2. If only one argument was passed, return to.
			if (arguments.length === 1) {
				return to;
			}

			// 3. Let sources be the List of argument values starting with the second argument
			var sources = Array.prototype.slice.call(arguments, 1);

			// 4. For each element nextSource of sources, in ascending index order, do
			var index1;
			var index2;
			var keys;
			var key;
			var from;
			for (index1 = 0; index1 < sources.length; index1++) {
				var nextSource = sources[index1];
				// 4a. If nextSource is undefined or null, let keys be a new empty List.
				if (nextSource === undefined || nextSource === null) {
					keys = [];
					// 4b. Else,
				} else {
					// 4bi. Let from be ! ToObject(nextSource).
					from = toObject(nextSource);
					// 4bii. Let keys be ? from.[[OwnPropertyKeys]]().
					/*
						This step in our polyfill is not complying with the specification.
						[[OwnPropertyKeys]] is meant to return ALL keys, including non-enumerable and symbols.
						TODO: When we have Reflect.ownKeys, use that instead as it is the userland equivalent of [[OwnPropertyKeys]].
					*/
					keys = Object.keys(from);
				}

				// 4c. For each element nextKey of keys in List order, do
				for (index2 = 0; index2 < keys.length; index2++) {
					var nextKey = keys[index2];
					// 4ci. Let desc be ? from.[[GetOwnProperty]](nextKey).
					var desc = Object.getOwnPropertyDescriptor(from, nextKey);
					// 4cii. If desc is not undefined and desc.[[Enumerable]] is true, then
					if (desc !== undefined && desc.enumerable) {
						// 4cii1. Let propValue be ? Get(from, nextKey).
						var propValue = from[nextKey];
						// 4cii2. Perform ? Set(to, nextKey, propValue, true).
						to[nextKey] = propValue;
					}
				}
			}
			// 5. Return to.
			return to;
		}
	});
}());

// Symbol
// A modification of https://github.com/WebReflection/get-own-property-symbols
// (C) Andrea Giammarchi - MIT Licensed

(function (Object, GOPS, global) {

	var	setDescriptor;
	var id = 0;
	var random = '' + Math.random();
	var prefix = '__\\\\x01symbol:';
	var prefixLength = prefix.length;
	var internalSymbol = '__\\\\x01symbol@@' + random;
	var DP = 'defineProperty';
	var DPies = 'defineProperties';
	var GOPN = 'getOwnPropertyNames';
	var GOPD = 'getOwnPropertyDescriptor';
	var PIE = 'propertyIsEnumerable';
	var ObjectProto = Object.prototype;
	var hOP = ObjectProto.hasOwnProperty;
	var pIE = ObjectProto[PIE];
	var toString = ObjectProto.toString;
	var concat = Array.prototype.concat;
	var cachedWindowNames = typeof window === 'object' ? Object.getOwnPropertyNames(window) : [];
	var nGOPN = Object[GOPN];
	var gOPN = function getOwnPropertyNames (obj) {
		if (toString.call(obj) === '[object Window]') {
			try {
				return nGOPN(obj);
			} catch (e) {
				// IE bug where layout engine calls userland gOPN for cross-domain \`window\` objects
				return concat.call([], cachedWindowNames);
			}
		}
		return nGOPN(obj);
	};
	var gOPD = Object[GOPD];
	var create = Object.create;
	var keys = Object.keys;
	var freeze = Object.freeze || Object;
	var defineProperty = Object[DP];
	var $defineProperties = Object[DPies];
	var descriptor = gOPD(Object, GOPN);
	var addInternalIfNeeded = function (o, uid, enumerable) {
		if (!hOP.call(o, internalSymbol)) {
			try {
				defineProperty(o, internalSymbol, {
					enumerable: false,
					configurable: false,
					writable: false,
					value: {}
				});
			} catch (e) {
				o[internalSymbol] = {};
			}
		}
		o[internalSymbol]['@@' + uid] = enumerable;
	};
	var createWithSymbols = function (proto, descriptors) {
		var self = create(proto);
		gOPN(descriptors).forEach(function (key) {
			if (propertyIsEnumerable.call(descriptors, key)) {
				$defineProperty(self, key, descriptors[key]);
			}
		});
		return self;
	};
	var copyAsNonEnumerable = function (descriptor) {
		var newDescriptor = create(descriptor);
		newDescriptor.enumerable = false;
		return newDescriptor;
	};
	var get = function get(){};
	var onlyNonSymbols = function (name) {
		return name != internalSymbol &&
			!hOP.call(source, name);
	};
	var onlySymbols = function (name) {
		return name != internalSymbol &&
			hOP.call(source, name);
	};
	var propertyIsEnumerable = function propertyIsEnumerable(key) {
		var uid = '' + key;
		return onlySymbols(uid) ? (
			hOP.call(this, uid) &&
			this[internalSymbol]['@@' + uid]
		) : pIE.call(this, key);
	};
	var setAndGetSymbol = function (uid) {
		var descriptor = {
			enumerable: false,
			configurable: true,
			get: get,
			set: function (value) {
			setDescriptor(this, uid, {
				enumerable: false,
				configurable: true,
				writable: true,
				value: value
			});
			addInternalIfNeeded(this, uid, true);
			}
		};
		try {
			defineProperty(ObjectProto, uid, descriptor);
		} catch (e) {
			ObjectProto[uid] = descriptor.value;
		}
		return freeze(source[uid] = defineProperty(
			Object(uid),
			'constructor',
			sourceConstructor
		));
	};
	var Symbol = function Symbol(description) {
		if (this instanceof Symbol) {
			throw new TypeError('Symbol is not a constructor');
		}
		return setAndGetSymbol(
			prefix.concat(description || '', random, ++id)
		);
		};
	var source = create(null);
	var sourceConstructor = {value: Symbol};
	var sourceMap = function (uid) {
		return source[uid];
		};
	var $defineProperty = function defineProp(o, key, descriptor) {
		var uid = '' + key;
		if (onlySymbols(uid)) {
			setDescriptor(o, uid, descriptor.enumerable ?
				copyAsNonEnumerable(descriptor) : descriptor);
			addInternalIfNeeded(o, uid, !!descriptor.enumerable);
		} else {
			defineProperty(o, key, descriptor);
		}
		return o;
	};

	var onlyInternalSymbols = function (obj) {
		return function (name) {
			return hOP.call(obj, internalSymbol) && hOP.call(obj[internalSymbol], '@@' + name);
		};
	};
	var $getOwnPropertySymbols = function getOwnPropertySymbols(o) {
		return gOPN(o).filter(o === ObjectProto ? onlyInternalSymbols(o) : onlySymbols).map(sourceMap);
		}
	;

	descriptor.value = $defineProperty;
	defineProperty(Object, DP, descriptor);

	descriptor.value = $getOwnPropertySymbols;
	defineProperty(Object, GOPS, descriptor);

	descriptor.value = function getOwnPropertyNames(o) {
		return gOPN(o).filter(onlyNonSymbols);
	};
	defineProperty(Object, GOPN, descriptor);

	descriptor.value = function defineProperties(o, descriptors) {
		var symbols = $getOwnPropertySymbols(descriptors);
		if (symbols.length) {
		keys(descriptors).concat(symbols).forEach(function (uid) {
			if (propertyIsEnumerable.call(descriptors, uid)) {
			$defineProperty(o, uid, descriptors[uid]);
			}
		});
		} else {
		$defineProperties(o, descriptors);
		}
		return o;
	};
	defineProperty(Object, DPies, descriptor);

	descriptor.value = propertyIsEnumerable;
	defineProperty(ObjectProto, PIE, descriptor);

	descriptor.value = Symbol;
	defineProperty(global, 'Symbol', descriptor);

	// defining \`Symbol.for(key)\`
	descriptor.value = function (key) {
		var uid = prefix.concat(prefix, key, random);
		return uid in ObjectProto ? source[uid] : setAndGetSymbol(uid);
	};
	defineProperty(Symbol, 'for', descriptor);

	// defining \`Symbol.keyFor(symbol)\`
	descriptor.value = function (symbol) {
		if (onlyNonSymbols(symbol))
		throw new TypeError(symbol + ' is not a symbol');
		return hOP.call(source, symbol) ?
		symbol.slice(prefixLength * 2, -random.length) :
		void 0
		;
	};
	defineProperty(Symbol, 'keyFor', descriptor);

	descriptor.value = function getOwnPropertyDescriptor(o, key) {
		var descriptor = gOPD(o, key);
		if (descriptor && onlySymbols(key)) {
		descriptor.enumerable = propertyIsEnumerable.call(o, key);
		}
		return descriptor;
	};
	defineProperty(Object, GOPD, descriptor);

	descriptor.value = function (proto, descriptors) {
		return arguments.length === 1 || typeof descriptors === \\"undefined\\" ?
		create(proto) :
		createWithSymbols(proto, descriptors);
	};
	defineProperty(Object, 'create', descriptor);

	descriptor.value = function () {
		var str = toString.call(this);
		return (str === '[object String]' && onlySymbols(this)) ? '[object Symbol]' : str;
	};
	defineProperty(ObjectProto, 'toString', descriptor);


	setDescriptor = function (o, key, descriptor) {
		var protoDescriptor = gOPD(ObjectProto, key);
		delete ObjectProto[key];
		defineProperty(o, key, descriptor);
		if (o !== ObjectProto) {
			defineProperty(ObjectProto, key, protoDescriptor);
		}
	};

}(Object, 'getOwnPropertySymbols', this));

// Symbol.iterator
Object.defineProperty(Symbol, 'iterator', {value: Symbol('iterator')});

// Symbol.toStringTag
Object.defineProperty(Symbol, 'toStringTag', {
	value: Symbol('toStringTag')
});

// _Iterator
// A modification of https://github.com/medikoo/es6-iterator
// Copyright (C) 2013-2015 Mariusz Nowak (www.medikoo.com)

var Iterator = (function () { // eslint-disable-line no-unused-vars
	var clear = function () {
		this.length = 0;
		return this;
	};
	var callable = function (fn) {
		if (typeof fn !== 'function') throw new TypeError(fn + \\" is not a function\\");
		return fn;
	};

	var Iterator = function (list, context) {
		if (!(this instanceof Iterator)) {
			return new Iterator(list, context);
		}
		Object.defineProperties(this, {
			__list__: {
				writable: true,
				value: list
			},
			__context__: {
				writable: true,
				value: context
			},
			__nextIndex__: {
				writable: true,
				value: 0
			}
		});
		if (!context) return;
		callable(context.on);
		context.on('_add', this._onAdd.bind(this));
		context.on('_delete', this._onDelete.bind(this));
		context.on('_clear', this._onClear.bind(this));
	};

	Object.defineProperties(Iterator.prototype, Object.assign({
		constructor: {
			value: Iterator,
			configurable: true,
			enumerable: false,
			writable: true
		},
		_next: {
			value: function () {
				var i;
				if (!this.__list__) return;
				if (this.__redo__) {
					i = this.__redo__.shift();
					if (i !== undefined) return i;
				}
				if (this.__nextIndex__ < this.__list__.length) return this.__nextIndex__++;
				this._unBind();
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		next: {
			value: function () {
				return this._createResult(this._next());
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		_createResult: {
			value: function (i) {
				if (i === undefined) return {
					done: true,
					value: undefined
				};
				return {
					done: false,
					value: this._resolve(i)
				};
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		_resolve: {
			value: function (i) {
				return this.__list__[i];
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		_unBind: {
			value: function () {
				this.__list__ = null;
				delete this.__redo__;
				if (!this.__context__) return;
				this.__context__.off('_add', this._onAdd.bind(this));
				this.__context__.off('_delete', this._onDelete.bind(this));
				this.__context__.off('_clear', this._onClear.bind(this));
				this.__context__ = null;
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		toString: {
			value: function () {
				return '[object Iterator]';
			},
			configurable: true,
			enumerable: false,
			writable: true
		}
	}, {
		_onAdd: {
			value: function (index) {
				if (index >= this.__nextIndex__) return;
				++this.__nextIndex__;
				if (!this.__redo__) {
					Object.defineProperty(this, '__redo__', {
						value: [index],
						configurable: true,
						enumerable: false,
						writable: false
					});
					return;
				}
				this.__redo__.forEach(function (redo, i) {
					if (redo >= index) this.__redo__[i] = ++redo;
				}, this);
				this.__redo__.push(index);
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		_onDelete: {
			value: function (index) {
				var i;
				if (index >= this.__nextIndex__) return;
				--this.__nextIndex__;
				if (!this.__redo__) return;
				i = this.__redo__.indexOf(index);
				if (i !== -1) this.__redo__.splice(i, 1);
				this.__redo__.forEach(function (redo, i) {
					if (redo > index) this.__redo__[i] = --redo;
				}, this);
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		_onClear: {
			value: function () {
				if (this.__redo__) clear.call(this.__redo__);
				this.__nextIndex__ = 0;
			},
			configurable: true,
			enumerable: false,
			writable: true
		}
	}));

	Object.defineProperty(Iterator.prototype, Symbol.iterator, {
		value: function () {
			return this;
		},
		configurable: true,
		enumerable: false,
		writable: true
	});
	Object.defineProperty(Iterator.prototype, Symbol.toStringTag, {
		value: 'Iterator',
		configurable: false,
		enumerable: false,
		writable: true
	});

	return Iterator;
}());

// Object.setPrototypeOf
// ES6-shim 0.16.0 (c) 2013-2014 Paul Miller (http://paulmillr.com)
// ES6-shim may be freely distributed under the MIT license.
// For more details and documentation:
// https://github.com/paulmillr/es6-shim/

 // NOTE:  This versions needs object ownership
  //        because every promoted object needs to be reassigned
  //        otherwise uncompatible browsers cannot work as expected
  //
  // NOTE:  This might need es5-shim or polyfills upfront
  //        because it's based on ES5 API.
  //        (probably just an IE <= 8 problem)
  //
  // NOTE:  nodejs is fine in version 0.8, 0.10, and future versions.
(function () {
	if (Object.setPrototypeOf) { return; }

	/*jshint proto: true */
	// @author    Andrea Giammarchi - @WebReflection

	var getOwnPropertyNames = Object.getOwnPropertyNames;
	var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
	var create = Object.create;
	var defineProperty = Object.defineProperty;
	var getPrototypeOf = Object.getPrototypeOf;
	var objProto = Object.prototype;

	var copyDescriptors = function (target, source) {
		// define into target descriptors from source
		getOwnPropertyNames(source).forEach(function (key) {
			defineProperty(
				target,
				key,
				getOwnPropertyDescriptor(source, key)
			);
		});
		return target;
	};
	// used as fallback when no promotion is possible
	var createAndCopy = function (origin, proto) {
		return copyDescriptors(create(proto), origin);
	};
	var set, setPrototypeOf;
	try {
		// this might fail for various reasons
		// ignore if Chrome cought it at runtime
		set = getOwnPropertyDescriptor(objProto, '__proto__').set;
		set.call({}, null);
		// setter not poisoned, it can promote
		// Firefox, Chrome
		setPrototypeOf = function (origin, proto) {
			set.call(origin, proto);
			return origin;
		};
	} catch (e) {
		// do one or more feature detections
		set = { __proto__: null };
		// if proto does not work, needs to fallback
		// some Opera, Rhino, ducktape
		if (set instanceof Object) {
			setPrototypeOf = createAndCopy;
		} else {
			// verify if null objects are buggy
			/* eslint-disable no-proto */
			set.__proto__ = objProto;
			/* eslint-enable no-proto */
			// if null objects are buggy
			// nodejs 0.8 to 0.10
			if (set instanceof Object) {
				setPrototypeOf = function (origin, proto) {
					// use such bug to promote
					/* eslint-disable no-proto */
					origin.__proto__ = proto;
					/* eslint-enable no-proto */
					return origin;
				};
			} else {
				// try to use proto or fallback
				// Safari, old Firefox, many others
				setPrototypeOf = function (origin, proto) {
					// if proto is not null
					if (getPrototypeOf(origin)) {
						// use __proto__ to promote
						/* eslint-disable no-proto */
						origin.__proto__ = proto;
						/* eslint-enable no-proto */
						return origin;
					} else {
						// otherwise unable to promote: fallback
						return createAndCopy(origin, proto);
					}
				};
			}
		}
	}
	Object.setPrototypeOf = setPrototypeOf;
}());

// String.prototype.includes
String.prototype.includes = function (string, index) {
	if (typeof string === 'object' && string instanceof RegExp) throw new TypeError(\\"First argument to String.prototype.includes must not be a regular expression\\");
	return this.indexOf(string, index) !== -1;
};

// String.prototype.contains
String.prototype.contains = String.prototype.includes;

// _ArrayIterator
// A modification of https://github.com/medikoo/es6-iterator
// Copyright (C) 2013-2015 Mariusz Nowak (www.medikoo.com)

var ArrayIterator = (function() { // eslint-disable-line no-unused-vars

	var ArrayIterator = function(arr, kind) {
		if (!(this instanceof ArrayIterator)) return new ArrayIterator(arr, kind);
		Iterator.call(this, arr);
		if (!kind) kind = 'value';
		else if (String.prototype.contains.call(kind, 'key+value')) kind = 'key+value';
		else if (String.prototype.contains.call(kind, 'key')) kind = 'key';
		else kind = 'value';
		Object.defineProperty(this, '__kind__', {
			value: kind,
			configurable: false,
			enumerable: false,
			writable: false
		});
	};
	if (Object.setPrototypeOf) Object.setPrototypeOf(ArrayIterator, Iterator.prototype);

	ArrayIterator.prototype = Object.create(Iterator.prototype, {
		constructor: {
			value: ArrayIterator,
			configurable: true,
			enumerable: false,
			writable: true
		},
		_resolve: {
			value: function(i) {
				if (this.__kind__ === 'value') return this.__list__[i];
				if (this.__kind__ === 'key+value') return [i, this.__list__[i]];
				return i;
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		toString: {
			value: function() {
				return '[object Array Iterator]';
			},
			configurable: true,
			enumerable: false,
			writable: true
		}
	});

	return ArrayIterator;
}());

// Number.isFinite
Number.isFinite = Number.isFinite || function(value) {
    return typeof value === \\"number\\" && isFinite(value);
};

// Number.isNaN
Number.isNaN = Number.isNaN || function(value) {
    return typeof value === \\"number\\" && isNaN(value);
};

// Array.from
// Wrapped in IIFE to prevent leaking to global scope.
(function () {
	'use strict';

	function toInteger(value) {
		var number = Number(value);
		return sign(number) * Math.floor(Math.abs(Math.min(Math.max(number || 0, 0), 9007199254740991)));
	}

	var has = Object.prototype.hasOwnProperty;
	var strValue = String.prototype.valueOf;

	var tryStringObject = function tryStringObject(value) {
		try {
			strValue.call(value);
			return true;
		} catch (e) {
			return false;
		}
	};

	function sign(number) {
		return number >= 0 ? 1 : -1;
	}

	var toStr = Object.prototype.toString;
	var strClass = '[object String]';
	var hasSymbols = typeof Symbol === 'function';
	var hasToStringTag = hasSymbols && 'toStringTag' in Symbol;

	function isString(value) {
		if (typeof value === 'string') {
			return true;
		}
		if (typeof value !== 'object') {
			return false;
		}
		return hasToStringTag ? tryStringObject(value) : toStr.call(value) === strClass;
	}

	var fnToStr = Function.prototype.toString;

	var constructorRegex = /^\\\\s*class /;
	var isES6ClassFn = function isES6ClassFn(value) {
		try {
			var fnStr = fnToStr.call(value);
			var singleStripped = fnStr.replace(/\\\\/\\\\/.*\\\\n/g, '');
			var multiStripped = singleStripped.replace(/\\\\/\\\\*[.\\\\s\\\\S]*\\\\*\\\\//g, '');
			var spaceStripped = multiStripped.replace(/\\\\n/mg, ' ').replace(/ {2}/g, ' ');
			return constructorRegex.test(spaceStripped);
		} catch (e) {
			return false; // not a function
		}
	};

	var tryFunctionObject = function tryFunctionObject(value) {
		try {
			if (isES6ClassFn(value)) {
				return false;
			}
			fnToStr.call(value);
			return true;
		} catch (e) {
			return false;
		}
	};
	var fnClass = '[object Function]';
	var genClass = '[object GeneratorFunction]';

	function isCallable(value) {
		if (!value) {
			return false;
		}
		if (typeof value !== 'function' && typeof value !== 'object') {
			return false;
		}
		if (hasToStringTag) {
			return tryFunctionObject(value);
		}
		if (isES6ClassFn(value)) {
			return false;
		}
		var strClass = toStr.call(value);
		return strClass === fnClass || strClass === genClass;
	};
	var isArray = Array.isArray;

	var parseIterable = function (iterator) {
		var done = false;
		var iterableResponse;
		var tempArray = [];

		if (iterator && typeof iterator.next === 'function') {
			while (!done) {
				iterableResponse = iterator.next();
				if (
					has.call(iterableResponse, 'value') &&
					has.call(iterableResponse, 'done')
				) {
					if (iterableResponse.done === true) {
						done = true;
						break; // eslint-disable-line no-restricted-syntax

					} else if (iterableResponse.done !== false) {
						break; // eslint-disable-line no-restricted-syntax
					}

					tempArray.push(iterableResponse.value);
				} else if (iterableResponse.done === true) {
					done = true;
					break; // eslint-disable-line no-restricted-syntax
				} else {
					break; // eslint-disable-line no-restricted-syntax
				}
			}
		}

		return done ? tempArray : false;
	};

	var iteratorSymbol;
	var forOf;
	var hasSet = typeof Set === 'function';
	var hasMap = typeof Map === 'function';

	if (hasSymbols) {
		iteratorSymbol = Symbol.iterator;
	} else {
		var iterate;
		try {
			iterate = Function('iterable', 'var arr = []; for (var value of iterable) arr.push(value); return arr;'); // eslint-disable-line no-new-func
		} catch (e) {}
		var supportsStrIterator = (function () {
			try {
				var supported = false;
				var obj = { // eslint-disable-line no-unused-vars
					'@@iterator': function () {
						return {
							'next': function () {
								supported = true;
								return {
									'done': true,
									'value': undefined
								};
							}
						};
					}
				};

				iterate(obj);
				return supported;
			} catch (e) {
				return false;
			}
		}());

		if (supportsStrIterator) {
			iteratorSymbol = '@@iterator';
		} else if (typeof Set === 'function') {
			var s = new Set();
			s.add(0);
			try {
				if (iterate(s).length === 1) {
					forOf = iterate;
				}
			} catch (e) {}
		}
	}

	var isSet;
	if (hasSet) {
		var setSize = Object.getOwnPropertyDescriptor(Set.prototype, 'size').get;
		isSet = function (set) {
			try {
				setSize.call(set);
				return true;
			} catch (e) {
				return false;
			}
		};
	}

	var isMap;
	if (hasMap) {
		var mapSize = Object.getOwnPropertyDescriptor(Map.prototype, 'size').get;
		isMap = function (m) {
			try {
				mapSize.call(m);
				return true;
			} catch (e) {
				return false;
			}
		};
	}

	var setForEach = hasSet && Set.prototype.forEach;
	var mapForEach = hasMap && Map.prototype.forEach;
	var usingIterator = function (items) {
		var tempArray = [];
		if (has.call(items, iteratorSymbol)) {
			return items[iteratorSymbol]();
		} else if (setForEach && isSet(items)) {
			setForEach.call(items, function (val) {
				tempArray.push(val);
			});
			return {
				next: function () {
					return tempArray.length === 0
						? {
							done: true
						}
						: {
							value: tempArray.splice(0, 1)[0],
							done: false
						};
				}
			};
		} else if (mapForEach && isMap(items)) {
			mapForEach.call(items, function (val, key) {
				tempArray.push([key, val]);
			});
			return {
				next: function () {
					return tempArray.length === 0
						? {
							done: true
						}
						: {
							value: tempArray.splice(0, 1)[0],
							done: false
						};
				}
			};
		}
		return items;
	};

	var strMatch = String.prototype.match;

	var parseIterableLike = function (items) {
		var arr = parseIterable(usingIterator(items));

		if (!arr) {
			if (isString(items)) {
				arr = strMatch.call(items, /[\\\\uD800-\\\\uDBFF][\\\\uDC00-\\\\uDFFF]?|[^\\\\uD800-\\\\uDFFF]|./g) || [];
			} else if (forOf && !isArray(items)) {
				// Safari 8's native Map or Set can't be iterated except with for..of
				try {
					arr = forOf(items);
				} catch (e) {}
			}
		}
		return arr || items;
	};

	/*! https://mths.be/array-from v0.2.0 by @mathias */
	Object.defineProperty(Array, 'from', {
		configurable: true,
		value: function from(items) {
			var C = this;
			if (items === null || typeof items === 'undefined') {
				throw new TypeError('\`Array.from\` requires an array-like object, not \`null\` or \`undefined\`');
			}
			var mapFn, T;
			if (typeof arguments[1] !== 'undefined') {
				mapFn = arguments[1];
				if (!isCallable(mapFn)) {
					throw new TypeError('When provided, the second argument to \`Array.from\` must be a function');
				}
				if (arguments.length > 2) {
					T = arguments[2];
				}
			}

			var arrayLike = Object(parseIterableLike(items));
			var len = toInteger(arrayLike.length);
			var A = isCallable(C) ? Object(new C(len)) : new Array(len);
			var k = 0;
			var kValue, mappedValue;

			while (k < len) {
				kValue = arrayLike[k];
				if (mapFn) {
					mappedValue = typeof T === 'undefined' ? mapFn(kValue, k) : mapFn.apply(T, [kValue, k]);
				} else {
					mappedValue = kValue;
				}
				Object.defineProperty(A, k, {
					'configurable': true,
					'enumerable': true,
					'value': mappedValue,
					'writable': true
				});
				k += 1;
			}
			A.length = len;
			return A;
		},
		writable: true
	});
}());

// Array.of
/*! https://mths.be/array-of v0.1.0 by @mathias */
(function () {
	'use strict';
	var defineProperty = (function () {
		// IE 8 only supports \`Object.defineProperty\` on DOM elements
		try {
			var object = {};
			var $defineProperty = Object.defineProperty;
			var result = $defineProperty(object, object, object) && $defineProperty;
		} catch (error) { /**/ }
		return result;
	}());
	var isConstructor = function isConstructor(Constructor) {
		try {
			return !!new Constructor();
		} catch (_) {
			return false;
		}
	};
	var of = function of() {
		var items = arguments;
		var length = items.length;
		var Me = this;
		var result = isConstructor(Me) ? new Me(length) : new Array(length);
		var index = 0;
		var value;
		while (index < length) {
			value = items[index];
			if (defineProperty) {
				defineProperty(result, index, {
					'value': value,
					'writable': true,
					'enumerable': true,
					'configurable': true
				});
			} else {
				result[index] = value;
			}
			index += 1;
		}
		result.length = length;
		return result;
	};
	if (defineProperty) {
		defineProperty(Array, 'of', {
			'value': of,
			'configurable': true,
			'writable': true
		});
	} else {
		Array.of = of;
	}
}());

// Array.prototype.fill
Object.defineProperty(Array.prototype, 'fill', {
	configurable: true,
	value: function fill(value) {
		if (this === undefined || this === null) {
			throw new TypeError(this + ' is not an object');
		}

		var arrayLike = Object(this);

		var length = Math.max(Math.min(arrayLike.length, 9007199254740991), 0) || 0;

		var relativeStart = 1 in arguments ? parseInt(Number(arguments[1]), 10) || 0 : 0;

		relativeStart = relativeStart < 0 ? Math.max(length + relativeStart, 0) : Math.min(relativeStart, length);

		var relativeEnd = 2 in arguments && arguments[2] !== undefined ? parseInt(Number(arguments[2]), 10) || 0 : length;

		relativeEnd = relativeEnd < 0 ? Math.max(length + arguments[2], 0) : Math.min(relativeEnd, length);

		while (relativeStart < relativeEnd) {
			arrayLike[relativeStart] = value;

			++relativeStart;
		}

		return arrayLike;
	},
	writable: true
});

// Event
(function () {
	var unlistenableWindowEvents = {
		click: 1,
		dblclick: 1,
		keyup: 1,
		keypress: 1,
		keydown: 1,
		mousedown: 1,
		mouseup: 1,
		mousemove: 1,
		mouseover: 1,
		mouseenter: 1,
		mouseleave: 1,
		mouseout: 1,
		storage: 1,
		storagecommit: 1,
		textinput: 1
	};

	// This polyfill depends on availability of \`document\` so will not run in a worker
	// However, we asssume there are no browsers with worker support that lack proper
	// support for \`Event\` within the worker
	if (typeof document === 'undefined' || typeof window === 'undefined') return;

	function indexOf(array, element) {
		var
		index = -1,
		length = array.length;

		while (++index < length) {
			if (index in array && array[index] === element) {
				return index;
			}
		}

		return -1;
	}

	var existingProto = (window.Event && window.Event.prototype) || null;
	window.Event = Window.prototype.Event = function Event(type, eventInitDict) {
		if (!type) {
			throw new Error('Not enough arguments');
		}

		var event;
		// Shortcut if browser supports createEvent
		if ('createEvent' in document) {
			event = document.createEvent('Event');
			var bubbles = eventInitDict && eventInitDict.bubbles !== undefined ? eventInitDict.bubbles : false;
			var cancelable = eventInitDict && eventInitDict.cancelable !== undefined ? eventInitDict.cancelable : false;

			event.initEvent(type, bubbles, cancelable);

			return event;
		}

		event = document.createEventObject();

		event.type = type;
		event.bubbles = eventInitDict && eventInitDict.bubbles !== undefined ? eventInitDict.bubbles : false;
		event.cancelable = eventInitDict && eventInitDict.cancelable !== undefined ? eventInitDict.cancelable : false;

		return event;
	};
	if (existingProto) {
		Object.defineProperty(window.Event, 'prototype', {
			configurable: false,
			enumerable: false,
			writable: true,
			value: existingProto
		});
	}

	if (!('createEvent' in document)) {
		window.addEventListener = Window.prototype.addEventListener = Document.prototype.addEventListener = Element.prototype.addEventListener = function addEventListener() {
			var
			element = this,
			type = arguments[0],
			listener = arguments[1];

			if (element === window && type in unlistenableWindowEvents) {
				throw new Error('In IE8 the event: ' + type + ' is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.');
			}

			if (!element._events) {
				element._events = {};
			}

			if (!element._events[type]) {
				element._events[type] = function (event) {
					var
					list = element._events[event.type].list,
					events = list.slice(),
					index = -1,
					length = events.length,
					eventElement;

					event.preventDefault = function preventDefault() {
						if (event.cancelable !== false) {
							event.returnValue = false;
						}
					};

					event.stopPropagation = function stopPropagation() {
						event.cancelBubble = true;
					};

					event.stopImmediatePropagation = function stopImmediatePropagation() {
						event.cancelBubble = true;
						event.cancelImmediate = true;
					};

					event.currentTarget = element;
					event.relatedTarget = event.fromElement || null;
					event.target = event.target || event.srcElement || element;
					event.timeStamp = new Date().getTime();

					if (event.clientX) {
						event.pageX = event.clientX + document.documentElement.scrollLeft;
						event.pageY = event.clientY + document.documentElement.scrollTop;
					}

					while (++index < length && !event.cancelImmediate) {
						if (index in events) {
							eventElement = events[index];

							if (indexOf(list, eventElement) !== -1 && typeof eventElement === 'function') {
								eventElement.call(element, event);
							}
						}
					}
				};

				element._events[type].list = [];

				if (element.attachEvent) {
					element.attachEvent('on' + type, element._events[type]);
				}
			}

			element._events[type].list.push(listener);
		};

		window.removeEventListener = Window.prototype.removeEventListener = Document.prototype.removeEventListener = Element.prototype.removeEventListener = function removeEventListener() {
			var
			element = this,
			type = arguments[0],
			listener = arguments[1],
			index;

			if (element._events && element._events[type] && element._events[type].list) {
				index = indexOf(element._events[type].list, listener);

				if (index !== -1) {
					element._events[type].list.splice(index, 1);

					if (!element._events[type].list.length) {
						if (element.detachEvent) {
							element.detachEvent('on' + type, element._events[type]);
						}
						delete element._events[type];
					}
				}
			}
		};

		window.dispatchEvent = Window.prototype.dispatchEvent = Document.prototype.dispatchEvent = Element.prototype.dispatchEvent = function dispatchEvent(event) {
			if (!arguments.length) {
				throw new Error('Not enough arguments');
			}

			if (!event || typeof event.type !== 'string') {
				throw new Error('DOM Events Exception 0');
			}

			var element = this, type = event.type;

			try {
				if (!event.bubbles) {
					event.cancelBubble = true;

					var cancelBubbleEvent = function (event) {
						event.cancelBubble = true;

						(element || window).detachEvent('on' + type, cancelBubbleEvent);
					};

					this.attachEvent('on' + type, cancelBubbleEvent);
				}

				this.fireEvent('on' + type, event);
			} catch (error) {
				event.target = element;

				do {
					event.currentTarget = element;

					if ('_events' in element && typeof element._events[type] === 'function') {
						element._events[type].call(element, event);
					}

					if (typeof element['on' + type] === 'function') {
						element['on' + type].call(element, event);
					}

					element = element.nodeType === 9 ? element.parentWindow : element.parentNode;
				} while (element && !event.cancelBubble);
			}

			return true;
		};

		// Add the DOMContentLoaded Event
		document.attachEvent('onreadystatechange', function() {
			if (document.readyState === 'complete') {
				document.dispatchEvent(new Event('DOMContentLoaded', {
					bubbles: true
				}));
			}
		});
	}
}());

// CustomEvent
this.CustomEvent = function CustomEvent(type, eventInitDict) {
	if (!type) {
		throw Error('TypeError: Failed to construct \\"CustomEvent\\": An event name must be provided.');
	}

	var event;
	eventInitDict = eventInitDict || {bubbles: false, cancelable: false, detail: null};

	if ('createEvent' in document) {
		try {
			event = document.createEvent('CustomEvent');
			event.initCustomEvent(type, eventInitDict.bubbles, eventInitDict.cancelable, eventInitDict.detail);
		} catch (error) {
			// for browsers which don't support CustomEvent at all, we use a regular event instead
			event = document.createEvent('Event');
			event.initEvent(type, eventInitDict.bubbles, eventInitDict.cancelable);
			event.detail = eventInitDict.detail;
		}
	} else {

		// IE8
		event = new Event(type, eventInitDict);
		event.detail = eventInitDict && eventInitDict.detail || null;
	}
	return event;
};

CustomEvent.prototype = Event.prototype;

// _DOMTokenList
/*
Copyright (c) 2016, John Gardner

Permission to use, copy, modify, and/or distribute this software for any purpose with or without fee is hereby granted, provided that the above copyright notice and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED \\"AS IS\\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
*/
var _DOMTokenList = (function() { // eslint-disable-line no-unused-vars
	var dpSupport = true;
	var defineGetter = function (object, name, fn, configurable) {
		if (Object.defineProperty)
			Object.defineProperty(object, name, {
				configurable: false === dpSupport ? true : !!configurable,
				get: fn
			});

		else object.__defineGetter__(name, fn);
	};

	/** Ensure the browser allows Object.defineProperty to be used on native JavaScript objects. */
	try {
		defineGetter({}, \\"support\\");
	}
	catch (e) {
		dpSupport = false;
	}


	var _DOMTokenList = function (el, prop) {
		var that = this;
		var tokens = [];
		var tokenMap = {};
		var length = 0;
		var maxLength = 0;
		var addIndexGetter = function (i) {
			defineGetter(that, i, function () {
				preop();
				return tokens[i];
			}, false);

		};
		var reindex = function () {

			/** Define getter functions for array-like access to the tokenList's contents. */
			if (length >= maxLength)
				for (; maxLength < length; ++maxLength) {
					addIndexGetter(maxLength);
				}
		};

		/** Helper function called at the start of each class method. Internal use only. */
		var preop = function () {
			var error;
			var i;
			var args = arguments;
			var rSpace = /\\\\s+/;

			/** Validate the token/s passed to an instance method, if any. */
			if (args.length)
				for (i = 0; i < args.length; ++i)
					if (rSpace.test(args[i])) {
						error = new SyntaxError('String \\"' + args[i] + '\\" ' + \\"contains\\" + ' an invalid character');
						error.code = 5;
						error.name = \\"InvalidCharacterError\\";
						throw error;
					}


			/** Split the new value apart by whitespace*/
			if (typeof el[prop] === \\"object\\") {
				tokens = (\\"\\" + el[prop].baseVal).replace(/^\\\\s+|\\\\s+$/g, \\"\\").split(rSpace);
			} else {
				tokens = (\\"\\" + el[prop]).replace(/^\\\\s+|\\\\s+$/g, \\"\\").split(rSpace);
			}

			/** Avoid treating blank strings as single-item token lists */
			if (\\"\\" === tokens[0]) tokens = [];

			/** Repopulate the internal token lists */
			tokenMap = {};
			for (i = 0; i < tokens.length; ++i)
				tokenMap[tokens[i]] = true;
			length = tokens.length;
			reindex();
		};

		/** Populate our internal token list if the targeted attribute of the subject element isn't empty. */
		preop();

		/** Return the number of tokens in the underlying string. Read-only. */
		defineGetter(that, \\"length\\", function () {
			preop();
			return length;
		});

		/** Override the default toString/toLocaleString methods to return a space-delimited list of tokens when typecast. */
		that.toLocaleString =
			that.toString = function () {
				preop();
				return tokens.join(\\" \\");
			};

		that.item = function (idx) {
			preop();
			return tokens[idx];
		};

		that.contains = function (token) {
			preop();
			return !!tokenMap[token];
		};

		that.add = function () {
			preop.apply(that, args = arguments);

			for (var args, token, i = 0, l = args.length; i < l; ++i) {
				token = args[i];
				if (!tokenMap[token]) {
					tokens.push(token);
					tokenMap[token] = true;
				}
			}

			/** Update the targeted attribute of the attached element if the token list's changed. */
			if (length !== tokens.length) {
				length = tokens.length >>> 0;
				if (typeof el[prop] === \\"object\\") {
					el[prop].baseVal = tokens.join(\\" \\");
				} else {
					el[prop] = tokens.join(\\" \\");
				}
				reindex();
			}
		};

		that.remove = function () {
			preop.apply(that, args = arguments);

			/** Build a hash of token names to compare against when recollecting our token list. */
			for (var args, ignore = {}, i = 0, t = []; i < args.length; ++i) {
				ignore[args[i]] = true;
				delete tokenMap[args[i]];
			}

			/** Run through our tokens list and reassign only those that aren't defined in the hash declared above. */
			for (i = 0; i < tokens.length; ++i)
				if (!ignore[tokens[i]]) t.push(tokens[i]);

			tokens = t;
			length = t.length >>> 0;

			/** Update the targeted attribute of the attached element. */
			if (typeof el[prop] === \\"object\\") {
				el[prop].baseVal = tokens.join(\\" \\");
			} else {
				el[prop] = tokens.join(\\" \\");
			}
			reindex();
		};

		that.toggle = function (token, force) {
			preop.apply(that, [token]);

			/** Token state's being forced. */
			if (undefined !== force) {
				if (force) {
					that.add(token);
					return true;
				} else {
					that.remove(token);
					return false;
				}
			}

			/** Token already exists in tokenList. Remove it, and return FALSE. */
			if (tokenMap[token]) {
				that.remove(token);
				return false;
			}

			/** Otherwise, add the token and return TRUE. */
			that.add(token);
			return true;
		};

		return that;
	};

	return _DOMTokenList;
}());

// DOMTokenList
(function (global) {
	var nativeImpl = \\"DOMTokenList\\" in global && global.DOMTokenList;

	if (
			!nativeImpl ||
			(
				!!document.createElementNS &&
				!!document.createElementNS('http://www.w3.org/2000/svg', 'svg') &&
				!(document.createElementNS(\\"http://www.w3.org/2000/svg\\", \\"svg\\").classList instanceof DOMTokenList)
			)
		) {
		global.DOMTokenList = _DOMTokenList;
	}

	// Add second argument to native DOMTokenList.toggle() if necessary
	(function () {
		var e = document.createElement('span');
		if (!('classList' in e)) return;
		e.classList.toggle('x', false);
		if (!e.classList.contains('x')) return;
		e.classList.constructor.prototype.toggle = function toggle(token /*, force*/) {
			var force = arguments[1];
			if (force === undefined) {
				var add = !this.contains(token);
				this[add ? 'add' : 'remove'](token);
				return add;
			}
			force = !!force;
			this[force ? 'add' : 'remove'](token);
			return force;
		};
	}());

	// Add multiple arguments to native DOMTokenList.add() if necessary
	(function () {
		var e = document.createElement('span');
		if (!('classList' in e)) return;
		e.classList.add('a', 'b');
		if (e.classList.contains('b')) return;
		var native = e.classList.constructor.prototype.add;
		e.classList.constructor.prototype.add = function () {
			var args = arguments;
			var l = arguments.length;
			for (var i = 0; i < l; i++) {
				native.call(this, args[i]);
			}
		};
	}());

	// Add multiple arguments to native DOMTokenList.remove() if necessary
	(function () {
		var e = document.createElement('span');
		if (!('classList' in e)) return;
		e.classList.add('a');
		e.classList.add('b');
		e.classList.remove('a', 'b');
		if (!e.classList.contains('b')) return;
		var native = e.classList.constructor.prototype.remove;
		e.classList.constructor.prototype.remove = function () {
			var args = arguments;
			var l = arguments.length;
			for (var i = 0; i < l; i++) {
				native.call(this, args[i]);
			}
		};
	}());

}(this));

// DocumentFragment
this.DocumentFragment = document.createDocumentFragment().constructor;

// _mutation
var _mutation = (function () { // eslint-disable-line no-unused-vars

	function isNode(object) {
		// DOM, Level2
		if (typeof Node === 'function') {
			return object instanceof Node;
		}
		// Older browsers, check if it looks like a Node instance)
		return object &&
			typeof object === \\"object\\" && 
			object.nodeName && 
			object.nodeType >= 1 &&
			object.nodeType <= 12;
	}

	// http://dom.spec.whatwg.org/#mutation-method-macro
	return function mutation(nodes) {
		if (nodes.length === 1) {
			return isNode(nodes[0]) ? nodes[0] : document.createTextNode(nodes[0] + '');
		}

		var fragment = document.createDocumentFragment();
		for (var i = 0; i < nodes.length; i++) {
			fragment.appendChild(isNode(nodes[i]) ? nodes[i] : document.createTextNode(nodes[i] + ''));

		}
		return fragment;
	};
}());

// DocumentFragment.prototype.append
DocumentFragment.prototype.append = function append() {
	this.appendChild(_mutation(arguments));
};

// DocumentFragment.prototype.prepend
DocumentFragment.prototype.prepend = function prepend() {
	this.insertBefore(_mutation(arguments), this.firstChild);
};

// Element.prototype.after
Document.prototype.after = Element.prototype.after = function after() {
	if (this.parentNode) {
		var args = Array.prototype.slice.call(arguments),
				viableNextSibling = this.nextSibling,
				idx = viableNextSibling ? args.indexOf(viableNextSibling) : -1;

		while (idx !== -1) {
			viableNextSibling = viableNextSibling.nextSibling;
			if (!viableNextSibling) {
				break;
			}
			idx = args.indexOf(viableNextSibling);
		}
		
		this.parentNode.insertBefore(_mutation(arguments), viableNextSibling);
	}
};

// Not all UAs support the Text constructor.  Polyfill on the Text constructor only where it exists
// TODO: Add a polyfill for the Text constructor, and make it a dependency of this polyfill.
if (\\"Text\\" in this) {
	Text.prototype.after = Element.prototype.after;
}

// Element.prototype.append
Document.prototype.append = Element.prototype.append = function append() {
	this.appendChild(_mutation(arguments));
};

// Element.prototype.before
Document.prototype.before = Element.prototype.before = function before() {
	if (this.parentNode) {
		var args = Array.prototype.slice.call(arguments),
			viablePreviousSibling = this.previousSibling,
			idx = viablePreviousSibling ? args.indexOf(viablePreviousSibling) : -1;

		while (idx !== -1) {
			viablePreviousSibling = viablePreviousSibling.previousSibling;
			if (!viablePreviousSibling) {
				break;
			}
			idx = args.indexOf(viablePreviousSibling);
		}

		this.parentNode.insertBefore(
			_mutation(arguments),
			viablePreviousSibling ? viablePreviousSibling.nextSibling : this.parentNode.firstChild
		);
	}
};

// Not all UAs support the Text constructor.  Polyfill on the Text constructor only where it exists
// TODO: Add a polyfill for the Text constructor, and make it a dependency of this polyfill.
if (\\"Text\\" in this) {
	Text.prototype.before = Element.prototype.before;
}

// Element.prototype.classList
/*
Copyright (c) 2016, John Gardner

Permission to use, copy, modify, and/or distribute this software for any purpose with or without fee is hereby granted, provided that the above copyright notice and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED \\"AS IS\\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
*/
(function (global) {
	var dpSupport = true;
	var defineGetter = function (object, name, fn, configurable) {
		if (Object.defineProperty)
			Object.defineProperty(object, name, {
				configurable: false === dpSupport ? true : !!configurable,
				get: fn
			});

		else object.__defineGetter__(name, fn);
	};
	/** Ensure the browser allows Object.defineProperty to be used on native JavaScript objects. */
	try {
		defineGetter({}, \\"support\\");
	}
	catch (e) {
		dpSupport = false;
	}
	/** Polyfills a property with a DOMTokenList */
	var addProp = function (o, name, attr) {

		defineGetter(o.prototype, name, function () {
			var tokenList;

			var THIS = this,

			/** Prevent this from firing twice for some reason. What the hell, IE. */
			gibberishProperty = \\"__defineGetter__\\" + \\"DEFINE_PROPERTY\\" + name;
			if(THIS[gibberishProperty]) return tokenList;
			THIS[gibberishProperty] = true;

			/**
			 * IE8 can't define properties on native JavaScript objects, so we'll use a dumb hack instead.
			 *
			 * What this is doing is creating a dummy element (\\"reflection\\") inside a detached phantom node (\\"mirror\\")
			 * that serves as the target of Object.defineProperty instead. While we could simply use the subject HTML
			 * element instead, this would conflict with element types which use indexed properties (such as forms and
			 * select lists).
			 */
			if (false === dpSupport) {

				var visage;
				var mirror = addProp.mirror || document.createElement(\\"div\\");
				var reflections = mirror.childNodes;
				var l = reflections.length;

				for (var i = 0; i < l; ++i)
					if (reflections[i]._R === THIS) {
						visage = reflections[i];
						break;
					}

				/** Couldn't find an element's reflection inside the mirror. Materialise one. */
				visage || (visage = mirror.appendChild(document.createElement(\\"div\\")));

				tokenList = DOMTokenList.call(visage, THIS, attr);
			} else tokenList = new DOMTokenList(THIS, attr);

			defineGetter(THIS, name, function () {
				return tokenList;
			});
			delete THIS[gibberishProperty];

			return tokenList;
		}, true);
	};

	addProp(global.Element, \\"classList\\", \\"className\\");
	addProp(global.HTMLElement, \\"classList\\", \\"className\\");
	addProp(global.HTMLLinkElement, \\"relList\\", \\"rel\\");
	addProp(global.HTMLAnchorElement, \\"relList\\", \\"rel\\");
	addProp(global.HTMLAreaElement, \\"relList\\", \\"rel\\");
}(this));

// Element.prototype.matches
Element.prototype.matches = Element.prototype.webkitMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.mozMatchesSelector || function matches(selector) {

	var element = this;
	var elements = (element.document || element.ownerDocument).querySelectorAll(selector);
	var index = 0;

	while (elements[index] && elements[index] !== element) {
		++index;
	}

	return !!elements[index];
};

// Element.prototype.closest
Element.prototype.closest = function closest(selector) {
	var node = this;

	while (node) {
		if (node.matches(selector)) return node;
		else node = 'SVGElement' in window && node instanceof SVGElement ? node.parentNode : node.parentElement;
	}

	return null;
};

// Element.prototype.prepend
Document.prototype.prepend = Element.prototype.prepend = function prepend() {
	this.insertBefore(_mutation(arguments), this.firstChild);
};

// Element.prototype.remove
Document.prototype.remove = Element.prototype.remove = function remove() {
	if (this.parentNode) {
		this.parentNode.removeChild(this);
	}
};

// Not all UAs support the Text constructor.  Polyfill on the Text constructor only where it exists
// TODO: Add a polyfill for the Text constructor, and make it a dependency of this polyfill.
if (\\"Text\\" in this) {
	Text.prototype.remove = Element.prototype.remove;
}

// Element.prototype.replaceWith
Document.prototype.replaceWith = Element.prototype.replaceWith = function replaceWith() {
	if (this.parentNode) {
		this.parentNode.replaceChild(_mutation(arguments), this);
	}
};

// Not all UAs support the Text constructor.  Polyfill on the Text constructor only where it exists
// TODO: Add a polyfill for the Text constructor, and make it a dependency of this polyfill.
if ('Text' in this) {
	Text.prototype.replaceWith = Element.prototype.replaceWith;
}

// Symbol.species
Object.defineProperty(Symbol, 'species', {value: Symbol('species')});

// Map
(function (global) {
	// 7.2.11. SameValueZero ( x, y )
	var sameValueZero = function (x, y) {
		// 1. If Type(x) is different from Type(y), return false.
		if (typeof x !== typeof y) {
			return false;
		}
		// 2. If Type(x) is Number, then
		if (typeof x === 'number') {
			// a. If x is NaN and y is NaN, return true.
			if (isNaN(x) && isNaN(y)) {
				return true;
			}
			// b. If x is +0 and y is -0, return true.
			if (x === +0 && y === -0) {
				return true;
			}
			// c. If x is -0 and y is +0, return true.
			if (x === -0 && y === +0) {
				return true;
			}
			// d. If x is the same Number value as y, return true.
			if (x === y) {
				return true;
			}
			// e. Return false.
			return false;
		}
		// 3. Return SameValueNonNumber(x, y).
		return x === y;
	};

	// 7.3.9. GetMethod ( V, P )
	function getMethod(V, P) {
		// 1. Assert: IsPropertyKey(P) is true.
		// 2. Let func be ? GetV(V, P).
		var func = V[P];
		// 3. If func is either undefined or null, return undefined.
		if (func === null || func === undefined) {
			return undefined;
		}
		// 4. If IsCallable(func) is false, throw a TypeError exception.
		if (typeof func !== 'function') {
			throw new TypeError('Method not callable: ' + P);
		}
		// 5. Return func.
		return func;
	}

	// 7.4.1. GetIterator ( obj [ , method ] )
	// The abstract operation GetIterator with argument obj and optional argument method performs the following steps:
	function getIterator(obj /*, method */) {
		// 1. If method is not present, then
		if (!(1 in arguments)) {
			// a. Set method to ? GetMethod(obj, @@iterator).
			var method = getMethod(obj, Symbol.iterator);
		}
		// 2. Let iterator be ? Call(method, obj).
		var iterator = method.call(obj);
		// 3. If Type(iterator) is not Object, throw a TypeError exception.
		if (typeof iterator !== 'object') {
			throw new TypeError('bad iterator');
		}
		// 4. Let nextMethod be ? GetV(iterator, \\"next\\").
		var nextMethod = iterator.next;
		// 5. Let iteratorRecord be Record {[[Iterator]]: iterator, [[NextMethod]]: nextMethod, [[Done]]: false}.
		var iteratorRecord = Object.create(null);
		iteratorRecord['[[Iterator]]'] = iterator;
		iteratorRecord['[[NextMethod]]'] = nextMethod;
		iteratorRecord['[[Done]]'] = false;
		// 6. Return iteratorRecord.
		return iteratorRecord;
	}

	// 7.4.2. IteratorNext ( iteratorRecord [ , value ] )
	function iteratorNext(iteratorRecord /* [, value] */) {
		// 1. If value is not present, then
		if (!(1 in arguments)) {
			// a. Let result be ? Call(iteratorRecord.[[NextMethod]], iteratorRecord.[[Iterator]],  ).
			var result = iteratorRecord['[[NextMethod]]'].call(iteratorRecord['[[Iterator]]']);
		// 2. Else,
		} else {
			// a. Let result be ? Call(iteratorRecord.[[NextMethod]], iteratorRecord.[[Iterator]],  value ).
			var result = iteratorRecord['[[NextMethod]]'].call(iteratorRecord['[[Iterator]]'], arguments[1]);
		}
		// 3. If Type(result) is not Object, throw a TypeError exception.
		if (typeof result !== 'object') {
			throw new TypeError('bad iterator');
		}
		// 4. Return result.
		return result;
	}

	// 7.4.3 IteratorComplete ( iterResult )
	function iteratorComplete(iterResult) {
		// 1. Assert: Type(iterResult) is Object.
		if (typeof iterResult !== 'object') {
			throw new Error(Object.prototype.toString.call(iterResult) + 'is not an Object.');
		}
		// 2. Return ToBoolean(? Get(iterResult, \\"done\\")).
		return Boolean(iterResult['done']);
	}

	// 7.4.4 IteratorValue ( iterResult )
	function iteratorValue(iterResult) {
		// Assert: Type(iterResult) is Object.
		if (typeof iterResult !== 'object') {
			throw new Error(Object.prototype.toString.call(iterResult) + 'is not an Object.');
		}
		// Return ? Get(iterResult, \\"value\\").
		return iterResult.value;
	}

	// 7.4.5. IteratorStep ( iteratorRecord )
	function iteratorStep(iteratorRecord) {
		// 1. Let result be ? IteratorNext(iteratorRecord).
		var result = iteratorNext(iteratorRecord);
		// 2. Let done be ? IteratorComplete(result).
		var done = iteratorComplete(result);
		// 3. If done is true, return false.
		if (done === true) {
			return false;
		}
		// 4. Return result.
		return result;
	}

	// 7.4.6. IteratorClose ( iteratorRecord, completion )
	function iteratorClose(iteratorRecord, completion) {
		// 1. Assert: Type(iteratorRecord.[[Iterator]]) is Object.
		if (typeof iteratorRecord['[[Iterator]]'] !== 'object') {
			throw new Error(Object.prototype.toString.call(iteratorRecord['[[Iterator]]']) + 'is not an Object.');
		}
		// 2. Assert: completion is a Completion Record.
		// Polyfill.io - Ignoring this step as there is no way to check if something is a Completion Record in userland JavaScript.

		// 3. Let iterator be iteratorRecord.[[Iterator]].
		var iterator = iteratorRecord['[[Iterator]]'];
		// 4. Let return be ? GetMethod(iterator, \\"return\\").
		// Polyfill.io - We name it  returnMethod because return is a keyword and can not be used as an identifier (E.G. variable name, function name etc).
		var returnMethod = getMethod(iterator, \\"return\\");
		// 5. If return is undefined, return Completion(completion).
		if (returnMethod === undefined) {
			return completion;
		}
		// 6. Let innerResult be Call(return, iterator,  ).
		try {
			var innerResult = returnMethod.call(iterator);
		} catch (error) {
			var innerException = error;
		}
		// 7. If completion.[[Type]] is throw, return Completion(completion).
		if (completion) {
			return completion;
		}
		// 8. If innerResult.[[Type]] is throw, return Completion(innerResult).
		if (innerException) {
			throw innerException;
		}
		// 9. If Type(innerResult.[[Value]]) is not Object, throw a TypeError exception.
		if (!(typeof innerResult !== 'object')) {
			throw new TypeError(\\"Iterator's return method returned a non-object.\\");
		}
		// 10. Return Completion(completion).
		return completion;
	}

	// 7.4.7. CreateIterResultObject ( value, done )
	function createIterResultObject(value, done) {
		// 1. Assert: Type(done) is Boolean.
		if (typeof done !== 'boolean') {
			throw new Error();
		}
		// 2. Let obj be ObjectCreate(%ObjectPrototype%).
		var obj = {};
		// 3. Perform CreateDataProperty(obj, \\"value\\", value).
		obj.value = value;
		// 4. Perform CreateDataProperty(obj, \\"done\\", done).
		obj.done = done;
		// 5. Return obj.
		return obj;
	}
	// 9.1.13. OrdinaryCreateFromConstructor ( constructor, intrinsicDefaultProto [ , internalSlotsList ] )
	var ordinaryCreateFromConstructor = function (constructor, intrinsicDefaultProto) { // eslint-disable-line no-unused-vars
		var internalSlotsList = arguments[2] || {};
		/*
			1. Assert: intrinsicDefaultProto is a String value that is this specification's name of an intrinsic object.
			The corresponding object must be an intrinsic that is intended to be used as the[[Prototype]] value of an object.
		*/
		// Polyfill.io - We ignore the above step and instead pass the intrinsic directly.

		// 2. Let proto be ? GetPrototypeFromConstructor(constructor, intrinsicDefaultProto).
		// Polyfill.io - We ignore the above step and always use the prototype of the constructor.
		var proto = Object.getPrototypeOf(constructor);

		// 3. Return ObjectCreate(proto, internalSlotsList).
		// Polyfill.io - We do not pass internalSlotsList to Object.create because Object.create does use the default ordinary object definitions specified in 9.1.
		var obj = Object.create(proto);
		for (var name in internalSlotsList) {
			if (Object.prototype.hasOwnProperty.call(internalSlotsList, name)) {
				Object.defineProperty(obj, name, {
					configurable: true,
					enumerable: false,
					writable: true,
					value: internalSlotsList[name]
				});
			}
		}
		return obj;
	};

	// Deleted map items mess with iterator pointers, so rather than removing them mark them as deleted. Can't use undefined or null since those both valid keys so use a private symbol.
	var undefMarker = Symbol('undef');

	var supportsGetters = (function () {
		try {
			var a = {};
			Object.defineProperty(a, 't', {
				configurable: true,
				enumerable: false,
				get: function () {
					return true;
				},
				set: undefined
			});
			return !!a.t;
		} catch (e) {
			return false;
		}
	}());

	var isCallable = function (fn) {
		return typeof fn === 'function';
	};

	// 23.1.1.1 Map ( [ iterable ] )
	var Map = function Map(/* iterable */) {
		// 1. If NewTarget is undefined, throw a TypeError exception.
		if (!(this instanceof Map)) {
			throw new TypeError('Constructor Map requires \\"new\\"');
		}
		// 2. Let map be ? OrdinaryCreateFromConstructor(NewTarget, \\"%MapPrototype%\\",  [[MapData]] ).
		var map = ordinaryCreateFromConstructor(this, \\"%MapPrototype%\\", {
			_keys: [],
			_values: [],
			_size: 0,
			_es6Map: true
		});

		// 3. Set map.[[MapData]] to a new empty List.
		// Polyfill.io - This step was done as part of step two.

		// Some old engines do not support ES5 getters/setters.  Since Map only requires these for the size property, we can fall back to setting the size property statically each time the size of the map changes.
		if (!supportsGetters) {
			Object.defineProperty(map, 'size', {
				configurable: true,
				enumerable: false,
				writable: true,
				value: 0
			});
		}

		// 4. If iterable is not present, let iterable be undefined.
		var iterable = arguments[0] || undefined;

		// 5. If iterable is either undefined or null, return map.
		if (iterable === null || iterable === undefined) {
			return map;
		}

		// 6. Let adder be ? Get(map, \\"set\\").
		var adder = map.set;

		// 7. If IsCallable(adder) is false, throw a TypeError exception.
		if (!isCallable(adder)) {
			throw new TypeError(\\"Map.prototype.set is not a function\\");
		}

		// 8. Let iteratorRecord be ? GetIterator(iterable).
		try {
			var iteratorRecord = getIterator(iterable);
			// 9. Repeat,
			while (true) {
				// a. Let next be ? IteratorStep(iteratorRecord).
				var next = iteratorStep(iteratorRecord);
				// b. If next is false, return map.
				if (next === false) {
					return map;
				}
				// c. Let nextItem be ? IteratorValue(next).
				var nextItem = iteratorValue(next);
				// d. If Type(nextItem) is not Object, then
				if (typeof nextItem !== 'object') {
					// i. Let error be Completion{[[Type]]: throw, [[Value]]: a newly created TypeError object, [[Target]]: empty}.
					try {
						throw new TypeError('Iterator value ' + nextItem + ' is not an entry object');
					} catch (error) {
						// ii. Return ? IteratorClose(iteratorRecord, error).
						return iteratorClose(iteratorRecord, error);
					}
				}
				try {
					// Polyfill.io - The try catch accounts for steps: f, h, and j.

					// e. Let k be Get(nextItem, \\"0\\").
					var k = nextItem[0];
					// f. If k is an abrupt completion, return ? IteratorClose(iteratorRecord, k).
					// g. Let v be Get(nextItem, \\"1\\").
					var v = nextItem[1];
					// h. If v is an abrupt completion, return ? IteratorClose(iteratorRecord, v).
					// i. Let status be Call(adder, map,  k.[[Value]], v.[[Value]] ).
					adder.call(map, k, v);
				} catch (e) {
					// j. If status is an abrupt completion, return ? IteratorClose(iteratorRecord, status).
					return iteratorClose(iteratorRecord, e);
				}
			}
		} catch (e) {
			// Polyfill.io - For user agents which do not have iteration methods on argument objects or arrays, we can special case those.
			if (Array.isArray(iterable) ||
				Object.prototype.toString.call(iterable) === '[object Arguments]' ||
				// IE 7 & IE 8 return '[object Object]' for the arguments object, we can detect by checking for the existence of the callee property
				(!!iterable.callee)) {
				var index;
				var length = iterable.length;
				for (index = 0; index < length; index++) {
					adder.call(map, iterable[index][0], iterable[index][1]);
				}
			}
		}
		return map;
	};

	// 23.1.2.1. Map.prototype
	// The initial value of Map.prototype is the intrinsic object %MapPrototype%.
	// This property has the attributes { [[Writable]]: false, [[Enumerable]]: false, [[Configurable]]: false }.
	Object.defineProperty(Map, 'prototype', {
		configurable: false,
		enumerable: false,
		writable: false,
		value: {}
	});

	// 23.1.2.2 get Map [ @@species ]
	if (supportsGetters) {
		Object.defineProperty(Map, Symbol.species, {
			configurable: true,
			enumerable: false,
			get: function () {
				// 1. Return the this value.
				return this;
			},
			set: undefined
		});
	} else {
		Object.defineProperty(Map, Symbol.species, {
			configurable: true,
			enumerable: false,
			writable: true,
			value: Map
		});
	}

	// 23.1.3.1 Map.prototype.clear ( )
	Object.defineProperty(Map.prototype, 'clear', {
		configurable: true,
		enumerable: false,
		writable: true,
		value: function clear() {
			// 1. Let M be the this value.
			var M = this;
			// 2. If Type(M) is not Object, throw a TypeError exception.
			if (typeof M !== 'object') {
				throw new TypeError('Method Map.prototype.clear called on incompatible receiver ' + Object.prototype.toString.call(M));
			}
			// 3. If M does not have a [[MapData]] internal slot, throw a TypeError exception.
			if (M._es6Map !== true) {
				throw new TypeError('Method Map.prototype.clear called on incompatible receiver ' + Object.prototype.toString.call(M));
			}
			// 4. Let entries be the List that is M.[[MapData]].
			var entries = M._keys;
			// 5. For each Record {[[Key]], [[Value]]} p that is an element of entries, do
			for (var i = 0; i < entries.length; i++) {
				// 5.a. Set p.[[Key]] to empty.
				M._keys[i] = undefMarker;
				// 5.b. Set p.[[Value]] to empty.
				M._values[i] = undefMarker;
			}
			this._size = 0;
			if (!supportsGetters) {
				this.size = this._size;
			}
			// 6. Return undefined.
			return undefined;
		}
	});

	// 23.1.3.2. Map.prototype.constructor
	Object.defineProperty(Map.prototype, 'constructor', {
		configurable: true,
		enumerable: false,
		writable: true,
		value: Map
	});

	// 23.1.3.3. Map.prototype.delete ( key )
	Object.defineProperty(Map.prototype, 'delete', {
		configurable: true,
		enumerable: false,
		writable: true,
		value: function (key) {
			// 1. Let M be the this value.
			var M = this;
			// 2. If Type(M) is not Object, throw a TypeError exception.
			if (typeof M !== 'object') {
				throw new TypeError('Method Map.prototype.clear called on incompatible receiver ' + Object.prototype.toString.call(M));
			}
			// 3. If M does not have a [[MapData]] internal slot, throw a TypeError exception.
			if (M._es6Map !== true) {
				throw new TypeError('Method Map.prototype.clear called on incompatible receiver ' + Object.prototype.toString.call(M));
			}
			// 4. Let entries be the List that is M.[[MapData]].
			var entries = M._keys;
			// 5. For each Record {[[Key]], [[Value]]} p that is an element of entries, do
			for (var i = 0; i < entries.length; i++) {
				// a. If p.[[Key]] is not empty and SameValueZero(p.[[Key]], key) is true, then
				if (M._keys[i] !== undefMarker && sameValueZero(M._keys[i], key)) {
					// i. Set p.[[Key]] to empty.
					this._keys[i] = undefMarker;
					// ii. Set p.[[Value]] to empty.
					this._values[i] = undefMarker;
					--this._size;
					if (!supportsGetters) {
						this.size = this._size;
					}
					// iii. Return true.
					return true;
				}
			}
			// 6. Return false.
			return false;
		}
	});

	// 23.1.3.4. Map.prototype.entries ( )
	Object.defineProperty(Map.prototype, 'entries', {
		configurable: true,
		enumerable: false,
		writable: true,
		value: function entries () {
			// 1. Let M be the this value.
			var M = this;
			// 2. Return ? CreateMapIterator(M, \\"key+value\\").
			return createMapIterator(M, 'key+value');
		}
	});

	// 23.1.3.5. Map.prototype.forEach ( callbackfn [ , thisArg ] )
	Object.defineProperty(Map.prototype, 'forEach', {
		configurable: true,
		enumerable: false,
		writable: true,
		value: function (callbackFn) {
			// 1. Let M be the this value.
			var M = this;
			// 2. If Type(M) is not Object, throw a TypeError exception.
			if (typeof M !== 'object') {
				throw new TypeError('Method Map.prototype.forEach called on incompatible receiver ' + Object.prototype.toString.call(M));
			}
			// 3. If M does not have a [[MapData]] internal slot, throw a TypeError exception.
			if (M._es6Map !== true) {
				throw new TypeError('Method Map.prototype.forEach called on incompatible receiver ' + Object.prototype.toString.call(M));
			}
			// 4. If IsCallable(callbackfn) is false, throw a TypeError exception.
			if (!isCallable(callbackFn)) {
				throw new TypeError(Object.prototype.toString.call(callbackFn) + ' is not a function.');
			}
			// 5. If thisArg is present, let T be thisArg; else let T be undefined.
			if (arguments[1]) {
				var T = arguments[1];
			}
			// 6. Let entries be the List that is M.[[MapData]].
			var entries = M._keys;
			// 7. For each Record {[[Key]], [[Value]]} e that is an element of entries, in original key insertion order, do
			for (var i = 0; i < entries.length; i++) {
				// a. If e.[[Key]] is not empty, then
				if (M._keys[i] !== undefMarker && M._values[i] !== undefMarker ) {
					// i. Perform ? Call(callbackfn, T,  e.[[Value]], e.[[Key]], M ).
					callbackFn.call(T, M._values[i], M._keys[i], M);
				}
			}
			// 8. Return undefined.
			return undefined;
		}
	});

	// 23.1.3.6. Map.prototype.get ( key )
	Object.defineProperty(Map.prototype, 'get', {
		configurable: true,
		enumerable: false,
		writable: true,
		value: function get(key) {
			// 1. Let M be the this value.
			var M = this;
			// 2. If Type(M) is not Object, throw a TypeError exception.
			if (typeof M !== 'object') {
				throw new TypeError('Method Map.prototype.get called on incompatible receiver ' + Object.prototype.toString.call(M));
			}
			// 3. If M does not have a [[MapData]] internal slot, throw a TypeError exception.
			if (M._es6Map !== true) {
				throw new TypeError('Method Map.prototype.get called on incompatible receiver ' + Object.prototype.toString.call(M));
			}
			// 4. Let entries be the List that is M.[[MapData]].
			var entries = M._keys;
			// 5. For each Record {[[Key]], [[Value]]} p that is an element of entries, do
			for (var i = 0; i < entries.length; i++) {
				// a. If p.[[Key]] is not empty and SameValueZero(p.[[Key]], key) is true, return p.[[Value]].
				if (M._keys[i] !== undefMarker && sameValueZero(M._keys[i], key)) {
					return M._values[i];
				}
			}
			// 6. Return undefined.
			return undefined;
		}
	});

	// 23.1.3.7. Map.prototype.has ( key )
	Object.defineProperty(Map.prototype, 'has', {
		configurable: true,
		enumerable: false,
		writable: true,
		value: function has (key) {
			// 1. Let M be the this value.
			var M = this;
			// 2. If Type(M) is not Object, throw a TypeError exception.
			if (typeof M !== 'object') {
				throw new TypeError('Method Map.prototype.has called on incompatible receiver ' + Object.prototype.toString.call(M));
			}
			// 3. If M does not have a [[MapData]] internal slot, throw a TypeError exception.
			if (M._es6Map !== true) {
				throw new TypeError('Method Map.prototype.has called on incompatible receiver ' + Object.prototype.toString.call(M));
			}
			// 4. Let entries be the List that is M.[[MapData]].
			var entries = M._keys;
			// 5. For each Record {[[Key]], [[Value]]} p that is an element of entries, do
			for (var i = 0; i < entries.length; i++) {
				// a. If p.[[Key]] is not empty and SameValueZero(p.[[Key]], key) is true, return true.
				if (M._keys[i] !== undefMarker && sameValueZero(M._keys[i], key)) {
					return true;
				}
			}
			// 6. Return false.
			return false;
		}
	});

	// 23.1.3.8. Map.prototype.keys ( )
	Object.defineProperty(Map.prototype, 'keys', {
		configurable: true,
		enumerable: false,
		writable: true,
		value: function keys () {
			// 1. Let M be the this value.
			var M = this;
			// 2. Return ? CreateMapIterator(M, \\"key\\").
			return createMapIterator(M, \\"key\\");
		}
	});

	// 23.1.3.9. Map.prototype.set ( key, value )
	Object.defineProperty(Map.prototype, 'set', {
		configurable: true,
		enumerable: false,
		writable: true,
		value: function set(key, value) {
			// 1. Let M be the this value.
			var M = this;
			// 2. If Type(M) is not Object, throw a TypeError exception.
			if (typeof M !== 'object') {
				throw new TypeError('Method Map.prototype.set called on incompatible receiver ' + Object.prototype.toString.call(M));
			}
			// 3. If M does not have a [[MapData]] internal slot, throw a TypeError exception.
			if (M._es6Map !== true) {
				throw new TypeError('Method Map.prototype.set called on incompatible receiver ' + Object.prototype.toString.call(M));
			}
			// 4. Let entries be the List that is M.[[MapData]].
			var entries = M._keys;
			// 5. For each Record {[[Key]], [[Value]]} p that is an element of entries, do
			for (var i = 0; i < entries.length; i++) {
				// a. If p.[[Key]] is not empty and SameValueZero(p.[[Key]], key) is true, then
				if (M._keys[i] !== undefMarker && sameValueZero(M._keys[i], key)) {
					// i. Set p.[[Value]] to value.
					M._values[i] = value;
					// Return M.
					return M;
				}
			}
			// 6. If key is -0, let key be +0.
			if (key === -0) {
				key = 0;
			}
			// 7. Let p be the Record {[[Key]]: key, [[Value]]: value}.
			var p = {};
			p['[[Key]]'] = key;
			p['[[Value]]'] = value;
			// 8. Append p as the last element of entries.
			M._keys.push(p['[[Key]]']);
			M._values.push(p['[[Value]]']);
			++M._size;
			if (!supportsGetters) {
				M.size = M._size;
			}
			// 9. Return M.
			return M;
		}
	});

	// 23.1.3.10. get Map.prototype.size
	if (supportsGetters) {
		Object.defineProperty(Map.prototype, 'size', {
			configurable: true,
			enumerable: false,
			get: function () {
				// 1. Let M be the this value.
				var M = this;
				// 2. If Type(M) is not Object, throw a TypeError exception.
				if (typeof M !== 'object') {
					throw new TypeError('Method Map.prototype.size called on incompatible receiver ' + Object.prototype.toString.call(M));
				}
				// 3. If M does not have a [[MapData]] internal slot, throw a TypeError exception.
				if (M._es6Map !== true) {
					throw new TypeError('Method Map.prototype.size called on incompatible receiver ' + Object.prototype.toString.call(M));
				}
				// 4. Let entries be the List that is M.[[MapData]].
				var entries = M._keys;
				// 5. Let count be 0.
				var count = 0;
				// 6. For each Record {[[Key]], [[Value]]} p that is an element of entries, do
				for (var i = 0; i < entries.length; i++) {
					// a. If p.[[Key]] is not empty, set count to count+1.
					if (M._keys[i] !== undefMarker) {
						count = count + 1;
					}
				}
				// 7. Return count.
				return count;
			},
			set: undefined
		});
	}

	// 23.1.3.11. Map.prototype.values ( )
	Object.defineProperty(Map.prototype, 'values', {
		configurable: true,
		enumerable: false,
		writable: true,
		value: function values () {
			// 1. Let M be the this value.
			var M = this;
			// 2. Return ? CreateMapIterator(M, \\"value\\").
			return createMapIterator(M, 'value');
		}
	});

	// 23.1.3.12. Map.prototype [ @@iterator ] ( )
	// The initial value of the @@iterator property is the same function object as the initial value of the entries property.
	Object.defineProperty(Map.prototype, Symbol.iterator, {
		configurable: true,
		enumerable: false,
		writable: true,
		value: Map.prototype.entries
	});

	// 23.1.3.13. Map.prototype [ @@toStringTag ]
	// The initial value of the @@toStringTag property is the String value \\"Map\\".
	// This property has the attributes { [[Writable]]: false, [[Enumerable]]: false, [[Configurable]]: true }.

	// Polyfill.io - Safari 8 implements Map.name but as a non-configurable property, which means it would throw an error if we try and configure it here.
	if (!('name' in Map)) {
		// 19.2.4.2 name
		Object.defineProperty(Map, 'name', {
			configurable: true,
			enumerable: false,
			writable: false,
			value: 'Map'
		});
	}

	// 23.1.5.1. CreateMapIterator ( map, kind )
	function createMapIterator(map, kind) {
		// 1. If Type(map) is not Object, throw a TypeError exception.
		if (typeof map !== 'object') {
			throw new TypeError('createMapIterator called on incompatible receiver ' + Object.prototype.toString.call(map));
		}
		// 2. If map does not have a [[MapData]] internal slot, throw a TypeError exception.
		if (map._es6Map !== true) {
			throw new TypeError('createMapIterator called on incompatible receiver ' + Object.prototype.toString.call(map));
		}
		// 3. Let iterator be ObjectCreate(%MapIteratorPrototype%,  [[Map]], [[MapNextIndex]], [[MapIterationKind]] ).
		var iterator = Object.create(MapIteratorPrototype);
		// 4. Set iterator.[[Map]] to map.
		Object.defineProperty(iterator, '[[Map]]', {
			configurable: true,
			enumerable: false,
			writable: true,
			value: map
		});
		// 5. Set iterator.[[MapNextIndex]] to 0.
		Object.defineProperty(iterator, '[[MapNextIndex]]', {
			configurable: true,
			enumerable: false,
			writable: true,
			value: 0
		});
		// 6. Set iterator.[[MapIterationKind]] to kind.
		Object.defineProperty(iterator, '[[MapIterationKind]]', {
			configurable: true,
			enumerable: false,
			writable: true,
			value: kind
		});
		// 7. Return iterator.
		return iterator;
	}

	// 23.1.5.2. The %MapIteratorPrototype% Object
	var MapIteratorPrototype = {
		// Polyfill.io - We use this as a quick way to check if an object is a Map Iterator instance.
		isMapIterator: true,
		// 23.1.5.2.1. %MapIteratorPrototype%.next ( )
		next: function next () {
			// 1. Let O be the this value.
			var O = this;
			// 2. If Type(O) is not Object, throw a TypeError exception.
			if (typeof O !== 'object') {
				throw new TypeError('Method %MapIteratorPrototype%.next called on incompatible receiver ' + Object.prototype.toString.call(O));
			}
			// 3. If O does not have all of the internal slots of a Map Iterator Instance (23.1.5.3), throw a TypeError exception.
			if (!O.isMapIterator) {
				throw new TypeError('Method %MapIteratorPrototype%.next called on incompatible receiver ' + Object.prototype.toString.call(O));
			}
			// 4. Let m be O.[[Map]].
			var m = O['[[Map]]'];
			// 5. Let index be O.[[MapNextIndex]].
			var index = O['[[MapNextIndex]]'];
			// 6. Let itemKind be O.[[MapIterationKind]].
			var itemKind = O['[[MapIterationKind]]'];
			// 7. If m is undefined, return CreateIterResultObject(undefined, true).
			if (m === undefined) {
				return createIterResultObject(undefined, true);
			}
			// 8. Assert: m has a [[MapData]] internal slot.
			if (!m._es6Map) {
				throw new Error();
			}
			// 9. Let entries be the List that is m.[[MapData]].
			var entries = m._keys;
			// 10. Let numEntries be the number of elements of entries.
			var numEntries = entries.length;
			// 11. NOTE: numEntries must be redetermined each time this method is evaluated.
			// 12. Repeat, while index is less than numEntries,
			while (index < numEntries) {
				// a. Let e be the Record {[[Key]], [[Value]]} that is the value of entries[index].
				var e = Object.create(null);
				e['[[Key]]'] = m._keys[index];
				e['[[Value]]'] = m._values[index];
				// b. Set index to index+1.
				index = index + 1;
				// c. Set O.[[MapNextIndex]] to index.
				O['[[MapNextIndex]]'] = index;
				// d. If e.[[Key]] is not empty, then
				if (e['[[Key]]'] !== undefMarker) {
					// i. If itemKind is \\"key\\", let result be e.[[Key]].
					if (itemKind === 'key') {
						var result = e['[[Key]]'];
					// ii. Else if itemKind is \\"value\\", let result be e.[[Value]].
					} else if (itemKind === 'value') {
						var result = e['[[Value]]'];
					// iii. Else,
					} else {
						// 1. Assert: itemKind is \\"key+value\\".
						if (itemKind !== 'key+value') {
							throw new Error();
						}
						// 2. Let result be CreateArrayFromList( e.[[Key]], e.[[Value]] ).
						var result = [
							e['[[Key]]'],
							e['[[Value]]']
						];
					}
					// iv. Return CreateIterResultObject(result, false).
					return createIterResultObject(result, false);
				}
			}
			// 13. Set O.[[Map]] to undefined.
			O['[[Map]]'] = undefined;
			// 14. Return CreateIterResultObject(undefined, true).
			return createIterResultObject(undefined, true);
		}

		// 23.1.5.2.2 %MapIteratorPrototype% [ @@toStringTag ]
    // The initial value of the @@toStringTag property is the String value \\"Map Iterator\\".
		// This property has the attributes { [[Writable]]: false, [[Enumerable]]: false, [[Configurable]]: true }.
	};
	Object.defineProperty(MapIteratorPrototype, Symbol.iterator, {
		configurable: true,
		enumerable: false,
		writable: true,
		value: function iterator() {
			return this;
		}
	});

	// Export the object
	try {
		Object.defineProperty(global, 'Map', {
			configurable: true,
			enumerable: false,
			writable: true,
			value: Map
		});
	} catch (e) {
		// IE8 throws an error here if we set enumerable to false.
		// More info on table 2: https://msdn.microsoft.com/en-us/library/dd229916(v=vs.85).aspx
		global['Map'] = Map;
	}
}(this));

// Node.prototype.contains
(function() {

	function contains(node) {
		if (!(0 in arguments)) {
			throw new TypeError('1 argument is required');
		}

		do {
			if (this === node) {
				return true;
			}
		} while (node = node && node.parentNode);

		return false;
	}

	// IE
	if ('HTMLElement' in this && 'contains' in HTMLElement.prototype) {
		try {
			delete HTMLElement.prototype.contains;
		} catch (e) {}
	}

	if ('Node' in this) {
		Node.prototype.contains = contains;
	} else {
		document.contains = Element.prototype.contains = contains;
	}

}());

// Promise
!function(n){function t(e){if(r[e])return r[e].exports;var o=r[e]={exports:{},id:e,loaded:!1};return n[e].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=n,t.c=r,t.p=\\"\\",t(0)}({0:/*!***********************!*\\\\
  !*** ./src/global.js ***!
  \\\\***********************/
function(n,t,r){(function(n){var t=r(/*! ./yaku */80);try{(n||{}).Promise=t,window.Promise=t}catch(err){}}).call(t,function(){return this}())},80:/*!*********************!*\\\\
  !*** ./src/yaku.js ***!
  \\\\*********************/
function(n,t){(function(t){!function(){\\"use strict\\";function r(){return un[B][G]||J}function e(n,t){for(var r in t)n[r]=t[r]}function o(n){return n&&\\"object\\"==typeof n}function i(n){return\\"function\\"==typeof n}function u(n,t){return n instanceof t}function c(n){return u(n,U)}function f(n,t,r){if(!t(n))throw v(r)}function s(){try{return C.apply(F,arguments)}catch(e){return rn.e=e,rn}}function a(n,t){return C=n,F=t,s}function l(n,t){function r(){for(var r=0;r<o;)t(e[r],e[r+1]),e[r++]=S,e[r++]=S;o=0,e.length>n&&(e.length=n)}var e=O(n),o=0;return function(n,t){e[o++]=n,e[o++]=t,2===o&&un.nextTick(r)}}function h(n,t){var r,e,o,c,f=0;if(!n)throw v(W);var s=n[un[B][D]];if(i(s))e=s.call(n);else{if(!i(n.next)){if(u(n,O)){for(r=n.length;f<r;)t(n[f],f++);return f}throw v(W)}e=n}for(;!(o=e.next()).done;)if(c=a(t)(o.value,f++),c===rn)throw i(e[K])&&e[K](),c.e;return f}function v(n){return new TypeError(n)}function _(n){return(n?\\"\\":X)+(new U).stack}function d(n,t){var r=\\"on\\"+n.toLowerCase(),e=H[r];I&&I.listeners(n).length?n===tn?I.emit(n,t._v,t):I.emit(n,t):e?e({reason:t._v,promise:t}):un[n](t._v,t)}function p(n){return n&&n._s}function w(n){if(p(n))return new n(en);var t,r,e;return t=new n(function(n,o){if(t)throw v();r=n,e=o}),f(r,i),f(e,i),t}function m(n,t){return function(r){A&&(n[Q]=_(!0)),t===q?T(n,r):k(n,t,r)}}function y(n,t,r,e){return i(r)&&(t._onFulfilled=r),i(e)&&(n[M]&&d(nn,n),t._onRejected=e),A&&(t._p=n),n[n._c++]=t,n._s!==z&&cn(n,t),t}function j(n){if(n._umark)return!0;n._umark=!0;for(var t,r=0,e=n._c;r<e;)if(t=n[r++],t._onRejected||j(t))return!0}function x(n,t){function r(n){return e.push(n.replace(/^\\\\s+|\\\\s+$/g,\\"\\"))}var e=[];return A&&(t[Q]&&r(t[Q]),function o(n){n&&N in n&&(o(n._next),r(n[N]+\\"\\"),o(n._p))}(t)),(n&&n.stack?n.stack:n)+(\\"\\\\n\\"+e.join(\\"\\\\n\\")).replace(on,\\"\\")}function g(n,t){return n(t)}function k(n,t,r){var e=0,o=n._c;if(n._s===z)for(n._s=t,n._v=r,t===$&&(A&&c(r)&&(r.longStack=x(r,n)),fn(n));e<o;)cn(n,n[e++]);return n}function T(n,t){if(t===n&&t)return k(n,$,v(Y)),n;if(t!==P&&(i(t)||o(t))){var r=a(b)(t);if(r===rn)return k(n,$,r.e),n;i(r)?(A&&p(t)&&(n._next=t),p(t)?R(n,t,r):un.nextTick(function(){R(n,t,r)})):k(n,q,t)}else k(n,q,t);return n}function b(n){return n.then}function R(n,t,r){var e=a(r,t)(function(r){t&&(t=P,T(n,r))},function(r){t&&(t=P,k(n,$,r))});e===rn&&t&&(k(n,$,e.e),t=P)}var S,C,F,P=null,E=\\"object\\"==typeof window,H=E?window:t,I=H.process,L=H.console,A=!1,O=Array,U=Error,$=1,q=2,z=3,B=\\"Symbol\\",D=\\"iterator\\",G=\\"species\\",J=B+\\"(\\"+G+\\")\\",K=\\"return\\",M=\\"_uh\\",N=\\"_pt\\",Q=\\"_st\\",V=\\"Invalid this\\",W=\\"Invalid argument\\",X=\\"\\\\nFrom previous \\",Y=\\"Chaining cycle detected for promise\\",Z=\\"Uncaught (in promise)\\",nn=\\"rejectionHandled\\",tn=\\"unhandledRejection\\",rn={e:P},en=function(){},on=/^.+\\\\/node_modules\\\\/yaku\\\\/.+\\\\n?/gm,un=n.exports=function(n){var t,r=this;if(!o(r)||r._s!==S)throw v(V);if(r._s=z,A&&(r[N]=_()),n!==en){if(!i(n))throw v(W);t=a(n)(m(r,q),m(r,$)),t===rn&&k(r,$,t.e)}};un[\\"default\\"]=un,e(un.prototype,{then:function(n,t){if(void 0===this._s)throw v();return y(this,w(un.speciesConstructor(this,un)),n,t)},\\"catch\\":function(n){return this.then(S,n)},\\"finally\\":function(n){function t(t){return un.resolve(n()).then(function(){return t})}return this.then(t,t)},_c:0,_p:P}),un.resolve=function(n){return p(n)?n:T(w(this),n)},un.reject=function(n){return k(w(this),$,n)},un.race=function(n){var t=this,r=w(t),e=function(n){k(r,q,n)},o=function(n){k(r,$,n)},i=a(h)(n,function(n){t.resolve(n).then(e,o)});return i===rn?t.reject(i.e):r},un.all=function(n){function t(n){k(o,$,n)}var r,e=this,o=w(e),i=[];return r=a(h)(n,function(n,u){e.resolve(n).then(function(n){i[u]=n,--r||k(o,q,i)},t)}),r===rn?e.reject(r.e):(r||k(o,q,[]),o)},un.Symbol=H[B]||{},a(function(){Object.defineProperty(un,r(),{get:function(){return this}})})(),un.speciesConstructor=function(n,t){var e=n.constructor;return e?e[r()]||t:t},un.unhandledRejection=function(n,t){L&&L.error(Z,A?t.longStack:x(n,t))},un.rejectionHandled=en,un.enableLongStackTrace=function(){A=!0},un.nextTick=E?function(n){setTimeout(n)}:I.nextTick,un._s=1;var cn=l(999,function(n,t){var r,e;return e=n._s!==$?t._onFulfilled:t._onRejected,e===S?void k(t,n._s,n._v):(r=a(g)(e,n._v),r===rn?void k(t,$,r.e):void T(t,r))}),fn=l(9,function(n){j(n)||(n[M]=1,d(tn,n))})}()}).call(t,function(){return this}())}});
// Set
(function(global) {


	// Deleted map items mess with iterator pointers, so rather than removing them mark them as deleted. Can't use undefined or null since those both valid keys so use a private symbol.
	var undefMarker = Symbol('undef');

	// NaN cannot be found in an array using indexOf, so we encode NaNs using a private symbol.
	var NaNMarker = Symbol('NaN');

	function encodeVal(data) {
		return Number.isNaN(data) ? NaNMarker : data;
	}
	function decodeVal(encodedData) {
		return (encodedData === NaNMarker) ? NaN : encodedData;
	}

	function makeIterator(setInst, getter) {
		var nextIdx = 0;
		return {
			next: function() {
				while (setInst._values[nextIdx] === undefMarker) nextIdx++;
				if (nextIdx === setInst._values.length) {
					return {value: void 0, done: true};
				}
				else {
					return {value: getter.call(setInst, nextIdx++), done: false};
				}
			}
		};
	}

	var Set = function Set() {
		var data = arguments[0];
		this._values = [];
		this.size = this._size = 0;

		// If \`data\` is iterable (indicated by presence of a forEach method), pre-populate the set
		data && (typeof data.forEach === 'function') && data.forEach(function (item) {
			this.add.call(this, item);
		}, this);
	};

	// Some old engines do not support ES5 getters/setters.  Since Set only requires these for the size property, we can fall back to setting the size property statically each time the size of the set changes.
	try {
		Object.defineProperty(Set.prototype, 'size', {
			get: function() {
				return this._size;
			}
		});
	} catch(e) {
	}

	Set.prototype['add'] = function(value) {
		value = encodeVal(value);
		if (this._values.indexOf(value) === -1) {
			this._values.push(value);
			this.size = ++this._size;
		}
		return this;
	};
	Set.prototype['has'] = function(value) {
		return (this._values.indexOf(encodeVal(value)) !== -1);
	};
	Set.prototype['delete'] = function(value) {
		var idx = this._values.indexOf(encodeVal(value));
		if (idx === -1) return false;
		this._values[idx] = undefMarker;
		this.size = --this._size;
		return true;
	};
	Set.prototype['clear'] = function() {
		this._values = [];
		this.size = this._size = 0;
	};
	Set.prototype[Symbol.iterator] =
	Set.prototype['values'] =
	Set.prototype['keys'] = function() {
		var iterator = makeIterator(this, function(i) { return decodeVal(this._values[i]); });
		iterator[Symbol.iterator] = this.keys.bind(this);
		return iterator;
	};
	Set.prototype['entries'] = function() {
		var iterator = makeIterator(this, function(i) { return [decodeVal(this._values[i]), decodeVal(this._values[i])]; });
		iterator[Symbol.iterator] = this.entries.bind(this);
		return iterator;
	};
	Set.prototype['forEach'] = function(callbackFn, thisArg) {
		thisArg = thisArg || global;
		var iterator = this.entries();
		var result = iterator.next();
		while (result.done === false) {
			callbackFn.call(thisArg, result.value[1], result.value[0], this);
			result = iterator.next();
		}
	};
	Set.prototype['constructor'] =
	Set.prototype[Symbol.species] = Set;

	Set.prototype.constructor = Set;
	Set.name = \\"Set\\";

	// Export the object
	global.Set = Set;

}(this));

// String.prototype.endsWith
String.prototype.endsWith = function (string) {
	var index = arguments.length < 2 ? this.length : arguments[1];
	var foundIndex = this.lastIndexOf(string);
	return foundIndex !== -1 && foundIndex === index - string.length;
};

// String.prototype.startsWith
String.prototype.startsWith = function (string) {
	var index = arguments.length < 2 ? 0 : arguments[1];

	return this.slice(index).indexOf(string) === 0;
};

// URL
// URL Polyfill
// Draft specification: https://url.spec.whatwg.org

// Notes:
// - Primarily useful for parsing URLs and modifying query parameters
// - Should work in IE8+ and everything more modern, with es5.js polyfills

(function (global) {
  'use strict';

  function isSequence(o) {
    if (!o) return false;
    if ('Symbol' in global && 'iterator' in global.Symbol &&
        typeof o[Symbol.iterator] === 'function') return true;
    if (Array.isArray(o)) return true;
    return false;
  }

  function toArray(iter) {
    return ('from' in Array) ? Array.from(iter) : Array.prototype.slice.call(iter);
  }

  (function() {

    // Browsers may have:
    // * No global URL object
    // * URL with static methods only - may have a dummy constructor
    // * URL with members except searchParams
    // * Full URL API support
    var origURL = global.URL;
    var nativeURL;
    try {
      if (origURL) {
        nativeURL = new global.URL('http://example.com');
        if ('searchParams' in nativeURL)
          return;
        if (!('href' in nativeURL))
          nativeURL = undefined;
      }
    } catch (_) {}

    // NOTE: Doesn't do the encoding/decoding dance
    function urlencoded_serialize(pairs) {
      var output = '', first = true;
      pairs.forEach(function (pair) {
        var name = encodeURIComponent(pair.name);
        var value = encodeURIComponent(pair.value);
        if (!first) output += '&';
        output += name + '=' + value;
        first = false;
      });
      return output.replace(/%20/g, '+');
    }

    // NOTE: Doesn't do the encoding/decoding dance
    function urlencoded_parse(input, isindex) {
      var sequences = input.split('&');
      if (isindex && sequences[0].indexOf('=') === -1)
        sequences[0] = '=' + sequences[0];
      var pairs = [];
      sequences.forEach(function (bytes) {
        if (bytes.length === 0) return;
        var index = bytes.indexOf('=');
        if (index !== -1) {
          var name = bytes.substring(0, index);
          var value = bytes.substring(index + 1);
        } else {
          name = bytes;
          value = '';
        }
        name = name.replace(/\\\\+/g, ' ');
        value = value.replace(/\\\\+/g, ' ');
        pairs.push({ name: name, value: value });
      });
      var output = [];
      pairs.forEach(function (pair) {
        output.push({
          name: decodeURIComponent(pair.name),
          value: decodeURIComponent(pair.value)
        });
      });
      return output;
    }

    function URLUtils(url) {
      if (nativeURL)
        return new origURL(url);
      var anchor = document.createElement('a');
      anchor.href = url;
      return anchor;
    }

    function URLSearchParams(init) {
      var $this = this;
      this._list = [];

      if (init === undefined || init === null) {
        // no-op
      } else if (init instanceof URLSearchParams) {
        // In ES6 init would be a sequence, but special case for ES5.
        this._list = urlencoded_parse(String(init));
      } else if (typeof init === 'object' && isSequence(init)) {
        toArray(init).forEach(function(e) {
          if (!isSequence(e)) throw TypeError();
          var nv = toArray(e);
          if (nv.length !== 2) throw TypeError();
          $this._list.push({name: String(nv[0]), value: String(nv[1])});
        });
      } else if (typeof init === 'object' && init) {
        Object.keys(init).forEach(function(key) {
          $this._list.push({name: String(key), value: String(init[key])});
        });
      } else {
        init = String(init);
        if (init.substring(0, 1) === '?')
          init = init.substring(1);
        this._list = urlencoded_parse(init);
      }

      this._url_object = null;
      this._setList = function (list) { if (!updating) $this._list = list; };

      var updating = false;
      this._update_steps = function() {
        if (updating) return;
        updating = true;

        if (!$this._url_object) return;

        // Partial workaround for IE issue with 'about:'
        if ($this._url_object.protocol === 'about:' &&
            $this._url_object.pathname.indexOf('?') !== -1) {
          $this._url_object.pathname = $this._url_object.pathname.split('?')[0];
        }

        $this._url_object.search = urlencoded_serialize($this._list);

        updating = false;
      };
    }


    Object.defineProperties(URLSearchParams.prototype, {
      append: {
        value: function (name, value) {
          this._list.push({ name: name, value: value });
          this._update_steps();
        }, writable: true, enumerable: true, configurable: true
      },

      'delete': {
        value: function (name) {
          for (var i = 0; i < this._list.length;) {
            if (this._list[i].name === name)
              this._list.splice(i, 1);
            else
              ++i;
          }
          this._update_steps();
        }, writable: true, enumerable: true, configurable: true
      },

      get: {
        value: function (name) {
          for (var i = 0; i < this._list.length; ++i) {
            if (this._list[i].name === name)
              return this._list[i].value;
          }
          return null;
        }, writable: true, enumerable: true, configurable: true
      },

      getAll: {
        value: function (name) {
          var result = [];
          for (var i = 0; i < this._list.length; ++i) {
            if (this._list[i].name === name)
              result.push(this._list[i].value);
          }
          return result;
        }, writable: true, enumerable: true, configurable: true
      },

      has: {
        value: function (name) {
          for (var i = 0; i < this._list.length; ++i) {
            if (this._list[i].name === name)
              return true;
          }
          return false;
        }, writable: true, enumerable: true, configurable: true
      },

      set: {
        value: function (name, value) {
          var found = false;
          for (var i = 0; i < this._list.length;) {
            if (this._list[i].name === name) {
              if (!found) {
                this._list[i].value = value;
                found = true;
                ++i;
              } else {
                this._list.splice(i, 1);
              }
            } else {
              ++i;
            }
          }

          if (!found)
            this._list.push({ name: name, value: value });

          this._update_steps();
        }, writable: true, enumerable: true, configurable: true
      },

      entries: {
        value: function() { return new Iterator(this._list, 'key+value'); },
        writable: true, enumerable: true, configurable: true
      },

      keys: {
        value: function() { return new Iterator(this._list, 'key'); },
        writable: true, enumerable: true, configurable: true
      },

      values: {
        value: function() { return new Iterator(this._list, 'value'); },
        writable: true, enumerable: true, configurable: true
      },

      forEach: {
        value: function(callback) {
          var thisArg = (arguments.length > 1) ? arguments[1] : undefined;
          this._list.forEach(function(pair, index) {
            callback.call(thisArg, pair.value, pair.name);
          });

        }, writable: true, enumerable: true, configurable: true
      },

      toString: {
        value: function () {
          return urlencoded_serialize(this._list);
        }, writable: true, enumerable: false, configurable: true
      }
    });

    function Iterator(source, kind) {
      var index = 0;
      this['next'] = function() {
        if (index >= source.length)
          return {done: true, value: undefined};
        var pair = source[index++];
        return {done: false, value:
                kind === 'key' ? pair.name :
                kind === 'value' ? pair.value :
                [pair.name, pair.value]};
      };
    }

    if ('Symbol' in global && 'iterator' in global.Symbol) {
      Object.defineProperty(URLSearchParams.prototype, global.Symbol.iterator, {
        value: URLSearchParams.prototype.entries,
        writable: true, enumerable: true, configurable: true});
      Object.defineProperty(Iterator.prototype, global.Symbol.iterator, {
        value: function() { return this; },
        writable: true, enumerable: true, configurable: true});
    }

    function URL(url, base) {
      if (!(this instanceof global.URL))
        throw new TypeError(\\"Failed to construct 'URL': Please use the 'new' operator.\\");

      if (base) {
        url = (function () {
          if (nativeURL) return new origURL(url, base).href;
          var iframe;
          try {
            var doc;
            // Use another document/base tag/anchor for relative URL resolution, if possible
            if (Object.prototype.toString.call(window.operamini) === \\"[object OperaMini]\\") {
              iframe = document.createElement('iframe');
              iframe.style.display = 'none';
              document.documentElement.appendChild(iframe);
              doc = iframe.contentWindow.document;
            } else if (document.implementation && document.implementation.createHTMLDocument) {
              doc = document.implementation.createHTMLDocument('');
            } else if (document.implementation && document.implementation.createDocument) {
              doc = document.implementation.createDocument('http://www.w3.org/1999/xhtml', 'html', null);
              doc.documentElement.appendChild(doc.createElement('head'));
              doc.documentElement.appendChild(doc.createElement('body'));
            } else if (window.ActiveXObject) {
              doc = new window.ActiveXObject('htmlfile');
              doc.write('<head><\\\\/head><body><\\\\/body>');
              doc.close();
            }

            if (!doc) throw Error('base not supported');

            var baseTag = doc.createElement('base');
            baseTag.href = base;
            doc.getElementsByTagName('head')[0].appendChild(baseTag);
            var anchor = doc.createElement('a');
            anchor.href = url;
            return anchor.href;
          } finally {
            if (iframe)
              iframe.parentNode.removeChild(iframe);
          }
        }());
      }

      // An inner object implementing URLUtils (either a native URL
      // object or an HTMLAnchorElement instance) is used to perform the
      // URL algorithms. With full ES5 getter/setter support, return a
      // regular object For IE8's limited getter/setter support, a
      // different HTMLAnchorElement is returned with properties
      // overridden

      var instance = URLUtils(url || '');

      // Detect for ES5 getter/setter support
      // (an Object.defineProperties polyfill that doesn't support getters/setters may throw)
      var ES5_GET_SET = (function() {
        if (!('defineProperties' in Object)) return false;
        try {
          var obj = {};
          Object.defineProperties(obj, { prop: { 'get': function () { return true; } } });
          return obj.prop;
        } catch (_) {
          return false;
        }
      })();

      var self = ES5_GET_SET ? this : document.createElement('a');



      var query_object = new URLSearchParams(
        instance.search ? instance.search.substring(1) : null);
      query_object._url_object = self;

      Object.defineProperties(self, {
        href: {
          get: function () { return instance.href; },
          set: function (v) { instance.href = v; tidy_instance(); update_steps(); },
          enumerable: true, configurable: true
        },
        origin: {
          get: function () {
            if ('origin' in instance) return instance.origin;
            return this.protocol + '//' + this.host;
          },
          enumerable: true, configurable: true
        },
        protocol: {
          get: function () { return instance.protocol; },
          set: function (v) { instance.protocol = v; },
          enumerable: true, configurable: true
        },
        username: {
          get: function () { return instance.username; },
          set: function (v) { instance.username = v; },
          enumerable: true, configurable: true
        },
        password: {
          get: function () { return instance.password; },
          set: function (v) { instance.password = v; },
          enumerable: true, configurable: true
        },
        host: {
          get: function () {
            // IE returns default port in |host|
            var re = {'http:': /:80$/, 'https:': /:443$/, 'ftp:': /:21$/}[instance.protocol];
            return re ? instance.host.replace(re, '') : instance.host;
          },
          set: function (v) { instance.host = v; },
          enumerable: true, configurable: true
        },
        hostname: {
          get: function () { return instance.hostname; },
          set: function (v) { instance.hostname = v; },
          enumerable: true, configurable: true
        },
        port: {
          get: function () { return instance.port; },
          set: function (v) { instance.port = v; },
          enumerable: true, configurable: true
        },
        pathname: {
          get: function () {
            // IE does not include leading '/' in |pathname|
            if (instance.pathname.charAt(0) !== '/') return '/' + instance.pathname;
            return instance.pathname;
          },
          set: function (v) { instance.pathname = v; },
          enumerable: true, configurable: true
        },
        search: {
          get: function () { return instance.search; },
          set: function (v) {
            if (instance.search === v) return;
            instance.search = v; tidy_instance(); update_steps();
          },
          enumerable: true, configurable: true
        },
        searchParams: {
          get: function () { return query_object; },
          enumerable: true, configurable: true
        },
        hash: {
          get: function () { return instance.hash; },
          set: function (v) { instance.hash = v; tidy_instance(); },
          enumerable: true, configurable: true
        },
        toString: {
          value: function() { return instance.toString(); },
          enumerable: false, configurable: true
        },
        valueOf: {
          value: function() { return instance.valueOf(); },
          enumerable: false, configurable: true
        }
      });

      function tidy_instance() {
        var href = instance.href.replace(/#$|\\\\?$|\\\\?(?=#)/g, '');
        if (instance.href !== href)
          instance.href = href;
      }

      function update_steps() {
        query_object._setList(instance.search ? urlencoded_parse(instance.search.substring(1)) : []);
        query_object._update_steps();
      };

      return self;
    }

    if (origURL) {
      for (var i in origURL) {
        if (origURL.hasOwnProperty(i) && typeof origURL[i] === 'function')
          URL[i] = origURL[i];
      }
    }

    global.URL = URL;
    global.URLSearchParams = URLSearchParams;
  }());

  // Patch native URLSearchParams constructor to handle sequences/records
  // if necessary.
  (function() {
    if (new global.URLSearchParams([['a', 1]]).get('a') === '1' &&
        new global.URLSearchParams({a: 1}).get('a') === '1')
      return;
    var orig = global.URLSearchParams;
    global.URLSearchParams = function(init) {
      if (init && typeof init === 'object' && isSequence(init)) {
        var o = new orig();
        toArray(init).forEach(function(e) {
          if (!isSequence(e)) throw TypeError();
          var nv = toArray(e);
          if (nv.length !== 2) throw TypeError();
          o.append(nv[0], nv[1]);
        });
        return o;
      } else if (init && typeof init === 'object') {
        o = new orig();
        Object.keys(init).forEach(function(key) {
          o.set(key, init[key]);
        });
        return o;
      } else {
        return new orig(init);
      }
    };
  }());

}(self));

// atob
;(function () {

  var object =
    typeof exports != 'undefined' ? exports :
    typeof self != 'undefined' ? self : // #8: web workers
    $.global; // #31: ExtendScript

  var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';

  function InvalidCharacterError(message) {
    this.message = message;
  }
  InvalidCharacterError.prototype = new Error;
  InvalidCharacterError.prototype.name = 'InvalidCharacterError';

  // encoder
  // [https://gist.github.com/999166] by [https://github.com/nignag]
  object.btoa || (
  object.btoa = function (input) {
    var str = String(input);
    for (
      // initialize result and counter
      var block, charCode, idx = 0, map = chars, output = '';
      // if the next str index does not exist:
      //   change the mapping table to \\"=\\"
      //   check if d has no fractional digits
      str.charAt(idx | 0) || (map = '=', idx % 1);
      // \\"8 - idx % 1 * 8\\" generates the sequence 2, 4, 6, 8
      output += map.charAt(63 & block >> 8 - idx % 1 * 8)
    ) {
      charCode = str.charCodeAt(idx += 3/4);
      if (charCode > 0xFF) {
        throw new InvalidCharacterError(\\"'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.\\");
      }
      block = block << 8 | charCode;
    }
    return output;
  });

  // decoder
  // [https://gist.github.com/1020396] by [https://github.com/atk]
  object.atob || (
  object.atob = function (input) {
    var str = String(input).replace(/[=]+$/, ''); // #31: ExtendScript bad parse of /=
    if (str.length % 4 == 1) {
      throw new InvalidCharacterError(\\"'atob' failed: The string to be decoded is not correctly encoded.\\");
    }
    for (
      // initialize result and counters
      var bc = 0, bs, buffer, idx = 0, output = '';
      // get next character
      buffer = str.charAt(idx++);
      // character found in table? initialize bit storage and add its ascii value;
      ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,
        // and if not first of each 4 characters,
        // convert the first 8 bits to one ascii character
        bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0
    ) {
      // try to find character in table (0-63, not found => -1)
      buffer = chars.indexOf(buffer);
    }
    return output;
  });

}());

// location.origin
try {
	Object.defineProperty(window.location, 'origin', {
		enumerable: true,
		writable: false,
		value: window.location.protocol + '//' + window.location.hostname + (window.location.port ? ':' + window.location.port : ''),
		configurable: false
	});
} catch(e) {

	// IE9 is throwing \\"Object doesn't support this action\\" when attempting defineProperty on window.location, so provide an alternative
	window.location.origin = window.location.protocol + '//' + window.location.hostname + (window.location.port ? ':' + window.location.port : '');
}

// performance.now
(function (global) {

var
startTime = Date.now();

if (!global.performance) {
    global.performance = {};
}

global.performance.now = function () {
    return Date.now() - startTime;
};

}(this));

// requestAnimationFrame
(function (global) {
	var rafPrefix;

	if ('mozRequestAnimationFrame' in global) {
		rafPrefix = 'moz';

	} else if ('webkitRequestAnimationFrame' in global) {
		rafPrefix = 'webkit';

	}

	if (rafPrefix) {
		global.requestAnimationFrame = function (callback) {
		    return global[rafPrefix + 'RequestAnimationFrame'](function () {
		        callback(performance.now());
		    });
		};
		global.cancelAnimationFrame = global[rafPrefix + 'CancelAnimationFrame'];
	} else {

		var lastTime = Date.now();

		global.requestAnimationFrame = function (callback) {
			if (typeof callback !== 'function') {
				throw new TypeError(callback + ' is not a function');
			}

			var
			currentTime = Date.now(),
			delay = 16 + lastTime - currentTime;

			if (delay < 0) {
				delay = 0;
			}

			lastTime = currentTime;

			return setTimeout(function () {
				lastTime = Date.now();

				callback(performance.now());
			}, delay);
		};

		global.cancelAnimationFrame = function (id) {
			clearTimeout(id);
		};
	}
}(this));

// ~html5-elements
/**
* @preserve HTML5 Shiv 3.7.3 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed
*/
!function(a,b){function c(a,b){var c=a.createElement(\\"p\\"),d=a.getElementsByTagName(\\"head\\")[0]||a.documentElement;return c.innerHTML=\\"x<style>\\"+b+\\"</style>\\",d.insertBefore(c.lastChild,d.firstChild)}function d(){var a=t.elements;return\\"string\\"==typeof a?a.split(\\" \\"):a}function e(a,b){var c=t.elements;\\"string\\"!=typeof c&&(c=c.join(\\" \\")),\\"string\\"!=typeof a&&(a=a.join(\\" \\")),t.elements=c+\\" \\"+a,j(b)}function f(a){var b=s[a[q]];return b||(b={},r++,a[q]=r,s[r]=b),b}function g(a,c,d){if(c||(c=b),l)return c.createElement(a);d||(d=f(c));var e;return e=d.cache[a]?d.cache[a].cloneNode():p.test(a)?(d.cache[a]=d.createElem(a)).cloneNode():d.createElem(a),!e.canHaveChildren||o.test(a)||e.tagUrn?e:d.frag.appendChild(e)}function h(a,c){if(a||(a=b),l)return a.createDocumentFragment();c=c||f(a);for(var e=c.frag.cloneNode(),g=0,h=d(),i=h.length;i>g;g++)e.createElement(h[g]);return e}function i(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return t.shivMethods?g(c,a,b):b.createElem(c)},a.createDocumentFragment=Function(\\"h,f\\",\\"return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&(\\"+d().join().replace(/[\\\\w\\\\-:]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c(\\"'+a+'\\")'})+\\");return n}\\")(t,b.frag)}function j(a){a||(a=b);var d=f(a);return!t.shivCSS||k||d.hasCSS||(d.hasCSS=!!c(a,\\"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}\\")),l||i(a,d),a}var k,l,m=\\"3.7.3-pre\\",n=a.html5||{},o=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,q=\\"_html5shiv\\",r=0,s={};!function(){try{var a=b.createElement(\\"a\\");a.innerHTML=\\"<xyz></xyz>\\",k=\\"hidden\\"in a,l=1==a.childNodes.length||function(){b.createElement(\\"a\\");var a=b.createDocumentFragment();return\\"undefined\\"==typeof a.cloneNode||\\"undefined\\"==typeof a.createDocumentFragment||\\"undefined\\"==typeof a.createElement}()}catch(c){k=!0,l=!0}}();var t={elements:n.elements||\\"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video\\",version:m,shivCSS:n.shivCSS!==!1,supportsUnknownElements:l,shivMethods:n.shivMethods!==!1,type:\\"default\\",shivDocument:j,createElement:g,createDocumentFragment:h,addElements:e};a.html5=t,j(b),\\"object\\"==typeof module&&module.exports&&(module.exports=t)}(\\"undefined\\"!=typeof window?window:this,document);
// Array.prototype.@@iterator
/* global Symbol, ArrayIterator*/
Array.prototype[Symbol.iterator] = function values () {
	return new ArrayIterator(this);
};

// Array.prototype.copyWithin
(function () {

	function hasProperty(o, p) {
    while (o) {
			if (Object.prototype.hasOwnProperty.call(o, p)) {
				return true;
			}
			if (typeof o !== 'object') {
				return false;
			}
      o = Object.getPrototypeOf(o);
    }
    return false;
  }

	function toInteger(n) {
		n = Number(n);
		if (isNaN(n)) {
			return 0;
		}
		if (n === 0 || n === Infinity || n === -Infinity) {
			return n;
		} else {
			return ((n < 0) ? -1 : 1) * Math.floor(Math.abs(n));
		}
	}

	Object.defineProperty(Array.prototype, 'copyWithin', {
		configurable: true,
		enumerable: false,
		writable: true,
		// 22.1.3.3 Array.prototype.copyWithin ( target, start [ , end ] )
		value: function (target, start/*, end*/) {
			var end = arguments[2];

			// 22.1.3.3.1 Let O be ? ToObject(this value).
			if (this === null || this === undefined) {
				throw new TypeError('Cannot call method on ' + this);
			}

			var o = Object(this);

			// 22.1.3.3.2 Let len be ? ToLength(? Get(O, \\"length\\")).
			var len = toInteger(o.length);
			if (len <= 0) {
				len = 0;
			}
			if (len === Infinity) {
				len = Math.pow(2, 53) - 1;
			} else {
				len = Math.min(len, Math.pow(2, 53) - 1);
			}
			len = Math.max(len, 0);

			// 22.1.3.3.3 Let relativeTarget be ? ToInteger(target).
			var relativeTarget = toInteger(target);

			// 22.1.3.3.4 If relativeTarget < 0, let to be max((len + relativeTarget), 0); else let to be min(relativeTarget, len).
			var to;
			if (relativeTarget < 0) {
				to = Math.max(len + relativeTarget, 0);
			} else {
				to = Math.min(relativeTarget, len);
			}

			// 22.1.3.3.5 Let relativeStart be ? ToInteger(start).
			var relativeStart = toInteger(start);

			// 22.1.3.3.6 If relativeStart < 0, let from be max((len + relativeStart), 0); else let from be min(relativeStart, len).
			var from;
			if (relativeStart < 0) {
				from = Math.max(len + relativeStart, 0);
			} else {
				from = Math.min(relativeStart, len);
			}

			// 22.1.3.3.7 If end is undefined, let relativeEnd be len; else let relativeEnd be ? ToInteger(end).
			var relativeEnd;
			if (end === undefined) {
				relativeEnd = len;
			} else {
				relativeEnd = toInteger(end);
			}

			// 22.1.3.3.8 If relativeEnd < 0, let final be max((len + relativeEnd), 0); else let final be min(relativeEnd, len).
			var final;
			if (relativeEnd < 0) {
				final = Math.max(len + relativeEnd, 0);
			} else {
				final = Math.min(relativeEnd, len);
			}

			// 22.1.3.3.9 Let count be min(final-from, len-to).
			var count = Math.min(final - from, len - to);

			// 22.1.3.3.10 If from<to and to<from+count, then
			var direction;
			if (from < to && to < from + count) {
				// 22.1.3.3.10.a Let direction be -1.
				direction = -1;

				// 22.1.3.3.10.b Let from be from + count - 1.
				from = from + count - 1;

				// 22.1.3.3.10.c Let to be to + count - 1.
				to = to + count - 1;
			} else {
				// 22.1.3.3.11 Else,
				// 22.1.3.3.11.a Let direction be 1.
				direction = 1;
			}

			// 22.1.3.3.12 Repeat, while count > 0
			while (count > 0) {
				// 22.1.3.3.12.a Let fromKey be ! ToString(from).
				var fromKey = String(from);
				// 22.1.3.3.12.b Let toKey be ! ToString(to).
				var toKey = String(to);
				// 22.1.3.3.12.c Let fromPresent be ? HasProperty(O, fromKey).
				var fromPresent = hasProperty(o, fromKey);
				// 22.1.3.3.12.d If fromPresent is true, then
				if (fromPresent) {
					// 22.1.3.3.12.d.i Let fromVal be ? Get(O, fromKey).
					var fromVal = o[fromKey];
					// 22.1.3.3.12.d.ii Perform ? Set(O, toKey, fromVal, true).
					o[toKey] = fromVal;
				} else {
					// 22.1.3.3.12.e Else fromPresent is false,
					// 22.1.3.3.12.e.i Perform ? DeletePropertyOrThrow(O, toKey).
					delete o[toKey];
				}
				// 22.1.3.3.12.f Let from be from + direction.
				from = from + direction;
				// 22.1.3.3.12.g Let to be to + direction.
				to = to + direction;
				// 22.1.3.3.12.h Let count be count - 1.
				count = count - 1;
			}
			// 22.1.3.3.13 Return O.
			return o;
		}
	});
}());


// Array.prototype.entries
Object.defineProperty(Array.prototype, 'entries', {
	value: function () {
		return new ArrayIterator(this, 'key+value');
	}
});

// Array.prototype.find
Object.defineProperty(Array.prototype, 'find', {
	configurable: true,
	value: function find(callback) {
		if (this === undefined || this === null) {
			throw new TypeError(this + ' is not an object');
		}

		if (typeof callback !== 'function') {
			throw new TypeError(callback + ' is not a function');
		}

		var
		object = Object(this),
		scope = arguments[1],
		arraylike = object instanceof String ? object.split('') : object,
		length = Math.max(Math.min(arraylike.length, 9007199254740991), 0) || 0,
		index = -1,
		element;

		while (++index < length) {
			if (index in arraylike) {
				element = arraylike[index];

				if (callback.call(scope, element, index, object)) {
					return element;
				}
			}
		}
	},
	writable: true
});

// Array.prototype.findIndex
Object.defineProperty(Array.prototype, 'findIndex', {
	configurable: true,
	value: function findIndex(callback) {
		if (this === undefined || this === null) {
			throw new TypeError(this + ' is not an object');
		}

		if (typeof callback !== 'function') {
			throw new TypeError(callback + ' is not a function');
		}

		var
		object = Object(this),
		scope = arguments[1],
		arraylike = object instanceof String ? object.split('') : object,
		length = Math.max(Math.min(arraylike.length, 9007199254740991), 0) || 0,
		index = -1;

		while (++index < length) {
			if (index in arraylike) {
				if (callback.call(scope, arraylike[index], index, object)) {
					return index;
				}
			}
		}

		return -1;
	},
	writable: true
});

// Array.prototype.keys
/* global ArrayIterator*/
Object.defineProperty(Array.prototype, 'keys', {
	value: function () {
		return new ArrayIterator(this, 'key');
	}
});

// Array.prototype.values
/* global Symbol */
Object.defineProperty(Array.prototype, 'values', {
	value: Array.prototype[Symbol.iterator],
	enumerable: false,
	writable: false
});

// Function.name
(function () {

	var
	accessorName = 'name',
	fnNameMatchRegex = /^\\\\s*function\\\\s+([^\\\\(\\\\s]*)\\\\s*/,
	$Function = Function,
	FunctionName = 'Function',
	FunctionProto = $Function.prototype,
	FunctionProtoCtor = FunctionProto.constructor,

	getFunctionName = function(fn) {
		var match, name;

		if (fn === $Function || fn === FunctionProtoCtor) {
			name = FunctionName;
		}
		else if (fn !== FunctionProto) {
			match = ('' + fn).match(fnNameMatchRegex);
			name = match && match[1];
		}
		return name || '';
	};


	Object.defineProperty(FunctionProto, accessorName, {
		get: function Function$name() {
			var
			fn = this,
			fnName = getFunctionName(fn);

			// Since named function definitions have immutable names, also memoize the
			// output by defining the \`name\` property directly on this Function
			// instance so the accessor function will not need to be invoked again.
			if (fn !== FunctionProto) {
				Object.defineProperty(fn, accessorName, {
					value: fnName,
					configurable: true
				});
			}

			return fnName;
		},
		configurable: true
	});

}());

// Math.acosh
Math.acosh = function (x) {
  return Math.log(x + Math.sqrt(x * x - 1));
};
// Math.asinh
Math.asinh = function asinh(x) {
	return x === -Infinity ? x : Math.log(x + Math.sqrt(x * x + 1));
};

// Math.atanh
Math.atanh = function atanh(x) {
	return Math.log((1 + x) / (1 - x)) / 2;
};

// Math.cbrt
Math.cbrt = function cbrt(x) {
	var y = Math.pow(Math.abs(x), 1 / 3);

	return x < 0 ? -y : y;
};

// Math.clz32
Math.clz32 = function clz32(x) {
	var value = Number(x) >>> 0;

	return value ? 32 - value.toString(2).length : 32;
};

// Math.cosh
Math.cosh = function cosh(x) {
	var y = Math.exp(x);

	return (y + 1 / y) / 2;
};

// Math.expm1
Math.expm1 = function expm1(x) {
	return Math.exp(x) - 1;
};

// Math.hypot
Math.hypot = function hypot() {
	var args = arguments, index = -1, y = 0;

	while (++index in args && Math.abs(y) !== Infinity) {
		y += args[index] * args[index];
	}

	return Math.abs(y) === Infinity ? Infinity : Math.sqrt(y);
};

// Math.imul
Math.imul = function imul(a, b) {
	var
	ah = (a >>> 16) & 0xffff,
	al = a & 0xffff,
	bh = (b >>> 16) & 0xffff,
	bl = b & 0xffff;

	return ((al * bl) + (((ah * bl + al * bh) << 16) >>> 0) | 0);
};

// Math.log10
Math.log10 = function log10(x) {
	return Math.log(x) / Math.LN10;
};

// Math.log1p
Math.log1p = function log1p(x) {
	return Math.log(1 + x);
};

// Math.log2
Math.log2 = function log2(x) {
	return Math.log(x) / Math.LN2;
};

// Math.sign
Math.sign = function sign(x) {
	return !(x = Number(x)) ? x : x > 0 ? 1 : -1;
};

// Math.sinh
Math.sinh = function sinh(x) {
	var y = Math.exp(x);

	return (y - 1 / y) / 2;
};

// Math.tanh
Math.tanh = function tanh(x) {
	var y;

	return x === Infinity ? 1 : x === -Infinity ? -1 : (y = Math.exp(2 * x), (y - 1) / (y + 1));
};

// Math.trunc
Math.trunc = function trunc(x) {
	return x < 0 ? Math.ceil(x) : Math.floor(x);
};

// Number.Epsilon
Object.defineProperty(Number, 'EPSILON', {
	enumerable: false,
	configurable: false,
	writable: false,
	value: Math.pow(2, -52)
});

// Number.MAX_SAFE_INTEGER
Number.MAX_SAFE_INTEGER = Math.pow(2, 53) - 1;

// Number.MIN_SAFE_INTEGER
Number.MIN_SAFE_INTEGER = -(Math.pow(2, 53) - 1);

// Number.isInteger
Number.isInteger = Number.isInteger || function (value) {
	return typeof value === \\"number\\" &&
		isFinite(value) &&
		Math.floor(value) === value;
};

// Number.isSafeInteger
Object.defineProperty(Number, 'isSafeInteger', {
	enumerable: false,
	configurable: true,
	writable: true,
	value: function (number) {
		if (typeof number !== 'number') {
			return false;
		}
		if (isNaN(number) || number === +Infinity || number === -Infinity) {
			return false;
		}
		var integer = parseInt(number, 10);
		if (integer !== number) return false;
		if (Math.abs(integer) <= (Math.pow(2, 53) - 1)) {
			return true;
		}
		return false;
	}
});

// Number.parseFloat
Number.parseFloat = Number.parseFloat || parseFloat;

// Number.parseInt
Number.parseInt = Number.parseInt || parseInt;

// Object.is
Object.is = function is(a, b) {
	return (a === b && (a !== 0 || 1 / a === 1 / b)) || (a !== a && b !== b);
};

// RegExp.prototype.flags
Object.defineProperty(RegExp.prototype, 'flags', {
	configurable: true,
	enumerable: false,
	get: function () {
		// 21.2.5.3.1 Let R be the this value.
		var r = this;

		// 21.2.5.3.2 If Type(R) is not Object, throw a TypeError exception.
		if (typeof r !== 'object') {
			throw new TypeError('Method called on incompatible type: must be an object.');
		}
		// 21.2.5.3.3 Let result be the empty String.
		var result = '';

		// 21.2.5.3.4 Let global be ToBoolean(? Get(R, \\"global\\")).
		var global = !!r.global;

		// 21.2.5.3.5 If global is true, append the code unit 0x0067 (LATIN SMALL LETTER G) as the last code unit of result.
		if (global) {
			result += 'g';
		}

		// 21.2.5.3.6 Let ignoreCase be ToBoolean(? Get(R, \\"ignoreCase\\")).
		var ignoreCase = !!r.ignoreCase;

		// 21.2.5.3.7 If ignoreCase is true, append the code unit 0x0069 (LATIN SMALL LETTER I) as the last code unit of result.
		if (ignoreCase) {
			result += 'i';
		}

		// 21.2.5.3.8 Let multiline be ToBoolean(? Get(R, \\"multiline\\")).
		var multiline = !!r.multiline;

		// 21.2.5.3.9 If multiline is true, append the code unit 0x006D (LATIN SMALL LETTER M) as the last code unit of result.
		if (multiline) {
			result += 'm';
		}

		// 21.2.5.3.10 Let unicode be ToBoolean(? Get(R, \\"unicode\\")).
		var unicode = !!r.unicode;

		// 21.2.5.3.11 If unicode is true, append the code unit 0x0075 (LATIN SMALL LETTER U) as the last code unit of result.
		if (unicode) {
			result += 'u';
		}

		// 21.2.5.3.12 Let sticky be ToBoolean(? Get(R, \\"sticky\\")).
		var sticky = !!sticky;

		// 21.2.5.3.13 If sticky is true, append the code unit 0x0079 (LATIN SMALL LETTER Y) as the last code unit of result.
		if (sticky) {
			result += 'y';
		}

		// 21.2.5.3.14 Return result.
		return result;
	}
});

// _StringIterator
// A modification of https://github.com/medikoo/es6-iterator
// Copyright (C) 2013-2015 Mariusz Nowak (www.medikoo.com)

/* global Iterator */

var StringIterator = (function() { // eslint-disable-line no-unused-vars

	var StringIterator = function (str) {
		if (!(this instanceof StringIterator)) return new StringIterator(str);
		str = String(str);
		Iterator.call(this, str);
		Object.defineProperty(this, '__length__', {
			value: str.length,
			configurable: false,
			enumerable: false,
			writable: false
		});
	};
	if (Object.setPrototypeOf) Object.setPrototypeOf(StringIterator, Iterator);

	StringIterator.prototype = Object.create(Iterator.prototype, {
		constructor: {
			value: StringIterator,
			configurable: true,
			enumerable: false,
			writable: true
		},
		_next: {
			value: function() {
				if (!this.__list__) return;
				if (this.__nextIndex__ < this.__length__) return this.__nextIndex__++;
				this._unBind();
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		_resolve: {
			value: function (i) {
				var char = this.__list__[i], code;
				if (this.__nextIndex__ === this.__length__) return char;
				code = char.charCodeAt(0);
				if ((code >= 0xD800) && (code <= 0xDBFF)) return char + this.__list__[this.__nextIndex__++];
				return char;
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		toString: {
			value: function() {
				return '[object String Iterator]';
			},
			configurable: true,
			enumerable: false,
			writable: true
		}
	});

	return StringIterator;
}());

// String.prototype.@@iterator
/* global Symbol, StringIterator */
String.prototype[Symbol.iterator] = function () {
	return new StringIterator(this);
};

// String.prototype.codePointAt
(function () {
	function toInteger(n) {
		// 7.1.4.1 Let number be ? ToNumber(argument).
		n = Number(n);

		// 7.1.4.2 If number is NaN, return +0.
		if (isNaN(n)) {
			return 0;
		}

		// 7.1.4.3 If number is +0, -0, +, or -, return number.
		if (n === 0 || n === Infinity || n === -Infinity) {
			return n;
		}

		// 7.1.4.4 Return the number value that is the same sign as number and whose magnitude is floor(abs(number)).
		return ((n < 0) ? -1 : 1) * Math.floor(Math.abs(n));
	}

	Object.defineProperty(String.prototype, 'codePointAt', {
		value: function (pos) {
			// 21.1.3.3.1 Let O be ? RequireObjectCoercible(this value).
			var o;
			if (this === null || this === undefined) {
				throw new TypeError('Cannot call String.prototype.codePointAt on ' + this);
			} else {
				o = this;
			}

			// 21.1.3.3.2 Let S be ? ToString(O).
			var s = String(o);

			// 21.1.3.3.3 Let position be ? ToInteger(pos).
			var position = toInteger(pos);

			// 21.1.3.3.4 Let size be the length of S.
			var size = s.length;

			// 21.1.3.3.5 If position < 0 or position  size, return undefined.
			if (position < 0 || position >= size) return undefined;

			// 21.1.3.3.6 Let first be the numeric value of the code unit at index position within the String S.
			var first = s.charCodeAt(position);

			// 21.1.3.3.7 If first < 0xD800 or first > 0xDBFF or position+1 = size, return first.
			if (first < 0xD800 || first > 0xDBFF || position + 1 === size) return first;

			// 21.1.3.3.8 Let second be the numeric value of the code unit at index position+1 within the String S.
			var second = s.charCodeAt(position + 1);

			// 21.1.3.3.9 If second < 0xDC00 or second > 0xDFFF, return first.
			if (second < 0xDC00 || second > 0xDFFF) return first;

			// 21.1.3.3.10 Return UTF16Decode(first, second).
			return ((first - 0xD800) * 1024) + (second - 0xDC00) + 0x10000;
		}
	});
}());

// String.prototype.repeat
String.prototype.repeat = function repeat(count) {
	'use strict';

	if (this === undefined || this === null) {
		throw new TypeError(this + ' is not an object');
	}

	if (count < 0 || count === Infinity) {
		throw new RangeError(count + ' is less than zero or equal to infinity');
	}

	return new Array((parseInt(count, 10) || 0) + 1).join(this);
};

// Symbol.hasInstance
Object.defineProperty(Symbol, 'hasInstance', {value: Symbol('hasInstance')});

// Symbol.isConcatSpreadable
Object.defineProperty(Symbol, 'isConcatSpreadable', {value: Symbol('isConcatSpreadable')});

// Symbol.match
Object.defineProperty(Symbol, 'match', {value: Symbol('match')});

// Symbol.replace
Object.defineProperty(Symbol, 'replace', {value: Symbol('replace')});

// Symbol.search
Object.defineProperty(Symbol, 'search', {value: Symbol('search')});

// Symbol.split
Object.defineProperty(Symbol, 'split', {value: Symbol('split')});

// Symbol.toPrimitive
Object.defineProperty(Symbol, 'toPrimitive', {value: Symbol('toPrimitive')});

// Symbol.unscopables
Object.defineProperty(Symbol, 'unscopables', {value: Symbol('unscopables')});

// WeakMap
/**
 * @license
 *
 * Portions of this polyfill are a derivative work of the Polymer project, which requires the following licence notice:
 *
 * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */

 (function() {
	var defineProperty = Object.defineProperty;
	var counter = Date.now() % 1e9;

	var WeakMap = function WeakMap (data) {
		this.name = '__st' + (Math.random() * 1e9 >>> 0) + (counter++ + '__');

		// If data is iterable (indicated by presence of a forEach method), pre-populate the map
		data && data.forEach && data.forEach(function (item) {
			this.set.apply(this, item);
		}, this);
	};

	WeakMap.prototype[\\"set\\"] = function(key, value) {
		if (typeof key !== 'object' && typeof key !== 'function')
			throw new TypeError('Invalid value used as weak map key');

		var entry = key[this.name];
		if (entry && entry[0] === key)
			entry[1] = value;
		else
			defineProperty(key, this.name, {value: [key, value], writable: true});
		return this;
	};
	WeakMap.prototype[\\"get\\"] = function(key) {
		var entry;
		return (entry = key[this.name]) && entry[0] === key ?
				entry[1] : undefined;
	};
	WeakMap.prototype[\\"delete\\"] = function(key) {
		var entry = key[this.name];
		if (!entry || entry[0] !== key) return false;
		entry[0] = entry[1] = undefined;
		return true;
	};
	WeakMap.prototype[\\"has\\"] = function(key) {
		var entry = key[this.name];
		if (!entry) return false;
		return entry[0] === key;
	};

	WeakMap.prototype.constructor = WeakMap;
	WeakMap.name = \\"WeakMap\\";


	this.WeakMap = WeakMap;
}());

// WeakSet
/**
 * @license
 *
 * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */

(function(global) {
	var counter = Date.now() % 1e9;

	var WeakSet = function WeakSet(data) {
		this.name = '__st' + (Math.random() * 1e9 >>> 0) + (counter++ + '__');
		data && data.forEach && data.forEach(this.add, this);
	};

	WeakSet.prototype[\\"add\\"] = function(obj) {
		var name = this.name;
		if (!obj[name]) Object.defineProperty(obj, name, {value: true, writable: true});
		return this;
	};
	WeakSet.prototype[\\"delete\\"] = function(obj) {
		if (!obj[this.name]) return false;
		obj[this.name] = undefined;
		return true;
	};
	WeakSet.prototype[\\"has\\"] = function(obj) {
		return !!obj[this.name];
	};

	WeakSet.prototype.constructor = WeakSet;
	WeakSet.name = \\"WeakSet\\";

	global.WeakSet = WeakSet;
}(this));

// Array.prototype.includes
(function () {
	Object.defineProperty(Array.prototype, 'includes', {
		configurable: true,
		value: function includes (searchElement /*, fromIndex*/) {
			'use strict';
			var O = Object(this);
			var len = parseInt(O.length) || 0;
			if (len === 0) {
				return false;
			}
			var n = parseInt(arguments[1]) || 0;
			var k;
			if (n >= 0) {
				k = n;
			} else {
				k = len + n;
				if (k < 0) {
					k = 0;
				}
			}
			var currentElement;
			while (k < len) {
				currentElement = O[k];
				if (searchElement === currentElement ||
					(searchElement !== searchElement && currentElement !== currentElement)) {
					return true;
				}
				k++;
			}
			return false;
		},
		writable: true
	});
}());

// String.prototype.padEnd
(function () {
	Object.defineProperty(String.prototype, 'padEnd', {
		configurable: true,
		enumerable: false,
		value: function padEnd (targetLength) {
			targetLength = targetLength | 0;
			if (targetLength <= this.length) return String(this);
			var padString = String(arguments[1] || \\" \\");
			var repeat = Math.ceil((targetLength - this.length) / padString.length);
			while (repeat--) {
				padString += padString;
			}
			return String(this) + padString.substr(0, targetLength - this.length);
		},
		writable: true
	});
}());

// String.prototype.padStart
(function () {
	Object.defineProperty(String.prototype, 'padStart', {
		configurable: true,
		enumerable: false,
		value: function padStart (targetLength) {
			targetLength = targetLength | 0;
			if (targetLength <= this.length) return String(this);
			var padString = String(arguments[1] || \\" \\");
			var repeat = Math.ceil((targetLength - this.length) / padString.length);
			while (repeat--) {
				padString += padString;
			}
			return padString.substr(0, targetLength - this.length) + String(this);
		},
		writable: true
	});
}());
})
.call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof global && global || {});
"
`;

exports[`returns a reasonable response for IE 11 1`] = `
"/* Polyfill service DEVELOPMENT MODE - for live use set NODE_ENV to 'production'
 * For detailed credits and licence information see https://github.com/financial-times/polyfill-service.
 * 
 * UA detected: ie/11.0.0
 * Features requested: default-3.6,es6,es7
 * 
 * - Object.assign, License: CC0 (required by \\"default-3.6\\", \\"es6\\", \\"_Iterator\\", \\"_ArrayIterator\\", \\"Array.from\\", \\"Array.prototype.@@iterator\\", \\"Array.prototype.entries\\", \\"Array.prototype.keys\\", \\"_StringIterator\\", \\"String.prototype.@@iterator\\")
 * - Symbol, License: MIT (required by \\"es6\\", \\"Map\\", \\"default-3.6\\", \\"Set\\", \\"Symbol.hasInstance\\", \\"Symbol.isConcatSpreadable\\", \\"Symbol.iterator\\", \\"Array.prototype.@@iterator\\", \\"Array.prototype.entries\\", \\"Array.prototype.keys\\", \\"Array.prototype.values\\", \\"String.prototype.@@iterator\\", \\"Symbol.match\\", \\"Symbol.replace\\", \\"Symbol.search\\", \\"Symbol.species\\", \\"Symbol.split\\", \\"Symbol.toPrimitive\\", \\"Symbol.toStringTag\\", \\"Symbol.unscopables\\", \\"_Iterator\\", \\"_ArrayIterator\\", \\"Array.from\\", \\"_StringIterator\\")
 * - Symbol.iterator, License: MIT (required by \\"es6\\", \\"Map\\", \\"default-3.6\\", \\"Set\\", \\"Array.prototype.@@iterator\\", \\"Array.prototype.entries\\", \\"Array.prototype.keys\\", \\"Array.prototype.values\\", \\"String.prototype.@@iterator\\", \\"_Iterator\\", \\"_ArrayIterator\\", \\"Array.from\\", \\"_StringIterator\\")
 * - Symbol.toStringTag, License: MIT (required by \\"es6\\", \\"_Iterator\\", \\"_ArrayIterator\\", \\"Array.from\\", \\"default-3.6\\", \\"Array.prototype.@@iterator\\", \\"Array.prototype.entries\\", \\"Array.prototype.keys\\", \\"_StringIterator\\", \\"String.prototype.@@iterator\\")
 * - _Iterator, License: MIT (required by \\"_ArrayIterator\\", \\"Array.from\\", \\"default-3.6\\", \\"es6\\", \\"Array.prototype.@@iterator\\", \\"Array.prototype.entries\\", \\"Array.prototype.keys\\", \\"_StringIterator\\", \\"String.prototype.@@iterator\\")
 * - Object.setPrototypeOf, License: MIT (required by \\"es6\\", \\"_ArrayIterator\\", \\"Array.from\\", \\"default-3.6\\", \\"Array.prototype.@@iterator\\", \\"Array.prototype.entries\\", \\"Array.prototype.keys\\", \\"_StringIterator\\", \\"String.prototype.@@iterator\\")
 * - String.prototype.includes, License: CC0 (required by \\"default-3.6\\", \\"es6\\", \\"String.prototype.contains\\", \\"_ArrayIterator\\", \\"Array.from\\", \\"Array.prototype.@@iterator\\", \\"Array.prototype.entries\\", \\"Array.prototype.keys\\")
 * - String.prototype.contains, License: CC0 (required by \\"_ArrayIterator\\", \\"Array.from\\", \\"default-3.6\\", \\"es6\\", \\"Array.prototype.@@iterator\\", \\"Array.prototype.entries\\", \\"Array.prototype.keys\\")
 * - _ArrayIterator, License: MIT (required by \\"Array.from\\", \\"default-3.6\\", \\"es6\\", \\"Array.prototype.@@iterator\\", \\"Array.prototype.entries\\", \\"Array.prototype.keys\\")
 * - Number.isFinite, License: MIT (required by \\"es6\\", \\"Array.from\\", \\"default-3.6\\")
 * - Number.isNaN, License: MIT (required by \\"default-3.6\\", \\"es6\\", \\"Array.from\\", \\"Map\\", \\"Set\\")
 * - Array.from, License: CC0 (required by \\"default-3.6\\", \\"es6\\")
 * - Array.of, License: MIT (required by \\"default-3.6\\", \\"es6\\")
 * - Array.prototype.fill, License: CC0 (required by \\"default-3.6\\", \\"es6\\")
 * - Event, License: CC0 (required by \\"default-3.6\\", \\"CustomEvent\\")
 * - CustomEvent, License: CC0 (required by \\"default-3.6\\")
 * - _DOMTokenList, License: ISC (required by \\"DOMTokenList\\", \\"default-3.6\\")
 * - DOMTokenList, License: CC0 (required by \\"default-3.6\\", \\"Element.prototype.classList\\")
 * - _mutation, License: CC0 (required by \\"DocumentFragment.prototype.append\\", \\"default-3.6\\", \\"DocumentFragment.prototype.prepend\\", \\"Element.prototype.after\\", \\"Element.prototype.append\\", \\"Element.prototype.before\\", \\"Element.prototype.prepend\\", \\"Element.prototype.remove\\", \\"Element.prototype.replaceWith\\")
 * - DocumentFragment.prototype.append, License: CC0 (required by \\"default-3.6\\")
 * - DocumentFragment.prototype.prepend, License: CC0 (required by \\"default-3.6\\")
 * - Element.prototype.after, License: CC0 (required by \\"default-3.6\\")
 * - Element.prototype.append, License: CC0 (required by \\"default-3.6\\")
 * - Element.prototype.before, License: CC0 (required by \\"default-3.6\\")
 * - Element.prototype.classList, License: ISC (required by \\"default-3.6\\")
 * - Element.prototype.matches, License: CC0 (required by \\"default-3.6\\", \\"Element.prototype.closest\\")
 * - Element.prototype.closest, License: CC0 (required by \\"default-3.6\\")
 * - Element.prototype.prepend, License: CC0 (required by \\"default-3.6\\")
 * - Element.prototype.remove, License: CC0 (required by \\"default-3.6\\")
 * - Element.prototype.replaceWith, License: CC0 (required by \\"default-3.6\\")
 * - Symbol.species, License: MIT (required by \\"es6\\", \\"Map\\", \\"default-3.6\\", \\"Set\\")
 * - Map, License: CC0 (required by \\"default-3.6\\", \\"es6\\")
 * - Node.prototype.contains, License: CC0 (required by \\"default-3.6\\")
 * - Promise, License: MIT (required by \\"default-3.6\\", \\"es6\\")
 * - Set, License: CC0 (required by \\"default-3.6\\", \\"es6\\")
 * - String.prototype.endsWith, License: CC0 (required by \\"default-3.6\\", \\"es6\\")
 * - String.prototype.startsWith, License: CC0 (required by \\"default-3.6\\", \\"es6\\")
 * - URL, License: CC0 (required by \\"default-3.6\\")
 * - Array.prototype.@@iterator, License: CC0 (required by \\"es6\\", \\"Array.prototype.values\\")
 * - Array.prototype.copyWithin, License: MIT (required by \\"es6\\")
 * - Array.prototype.entries, License: CC0 (required by \\"es6\\")
 * - Array.prototype.find, License: CC0 (required by \\"es6\\")
 * - Array.prototype.findIndex, License: CC0 (required by \\"es6\\")
 * - Array.prototype.keys, License: CC0 (required by \\"es6\\")
 * - Array.prototype.values, License: MIT (required by \\"es6\\")
 * - Function.name, License: MIT (required by \\"es6\\")
 * - Math.acosh, License: CC0 (required by \\"es6\\")
 * - Math.asinh, License: CC0 (required by \\"es6\\")
 * - Math.atanh, License: CC0 (required by \\"es6\\")
 * - Math.cbrt, License: CC0 (required by \\"es6\\")
 * - Math.clz32, License: CC0 (required by \\"es6\\")
 * - Math.cosh, License: CC0 (required by \\"es6\\")
 * - Math.expm1, License: CC0 (required by \\"es6\\")
 * - Math.hypot, License: CC0 (required by \\"es6\\")
 * - Math.imul, License: CC0 (required by \\"es6\\")
 * - Math.log10, License: CC0 (required by \\"es6\\")
 * - Math.log1p, License: CC0 (required by \\"es6\\")
 * - Math.log2, License: CC0 (required by \\"es6\\")
 * - Math.sign, License: CC0 (required by \\"es6\\")
 * - Math.sinh, License: CC0 (required by \\"es6\\")
 * - Math.tanh, License: CC0 (required by \\"es6\\")
 * - Math.trunc, License: CC0 (required by \\"es6\\")
 * - Number.Epsilon, License: MIT (required by \\"es6\\")
 * - Number.MAX_SAFE_INTEGER, License: MIT (required by \\"es6\\")
 * - Number.MIN_SAFE_INTEGER, License: MIT (required by \\"es6\\")
 * - Number.isInteger, License: MIT (required by \\"es6\\")
 * - Number.isSafeInteger, License: MIT (required by \\"es6\\")
 * - Number.parseFloat, License: MIT (required by \\"es6\\")
 * - Number.parseInt, License: MIT (required by \\"es6\\")
 * - Object.is, License: CC0 (required by \\"es6\\")
 * - RegExp.prototype.flags, License: MIT (required by \\"es6\\")
 * - _StringIterator, License: MIT (required by \\"String.prototype.@@iterator\\", \\"es6\\")
 * - String.prototype.@@iterator, License: CC0 (required by \\"es6\\")
 * - String.prototype.codePointAt, License: MIT (required by \\"es6\\")
 * - String.prototype.repeat, License: CC0 (required by \\"es6\\")
 * - Symbol.hasInstance, License: MIT (required by \\"es6\\")
 * - Symbol.isConcatSpreadable, License: MIT (required by \\"es6\\")
 * - Symbol.match, License: MIT (required by \\"es6\\")
 * - Symbol.replace, License: MIT (required by \\"es6\\")
 * - Symbol.search, License: MIT (required by \\"es6\\")
 * - Symbol.split, License: MIT (required by \\"es6\\")
 * - Symbol.toPrimitive, License: MIT (required by \\"es6\\")
 * - Symbol.unscopables, License: MIT (required by \\"es6\\")
 * - WeakMap, License: https://github.com/webcomponents/webcomponentsjs/blob/master/LICENSE.md (required by \\"es6\\")
 * - WeakSet, License: https://github.com/webcomponents/webcomponentsjs/blob/master/LICENSE.md (required by \\"es6\\")
 * - Array.prototype.includes, License: CC0 (required by \\"es7\\")
 * - String.prototype.padEnd, License: CC0 (required by \\"es7\\")
 * - String.prototype.padStart, License: CC0 (required by \\"es7\\") */

(function(undefined) {

// Object.assign
(function() {

	// 7.1.13 ToObject ( argument )
	function toObject(argument) {
    if (argument === null || argument === undefined) {
			throw new TypeError('Cannot call method on ' + argument);
		}
    return Object(argument);
  }

	Object.defineProperty(Object, 'assign', {
		enumerable: false,
		configurable: true,
		writable: true,
		// 19.1.2.1 Object.assign ( target, ...sources )
		value: function assign(target, source) { // eslint-disable-line no-unused-vars

			// 1. Let to be ? ToObject(target).
			var to = toObject(target);

			// 2. If only one argument was passed, return to.
			if (arguments.length === 1) {
				return to;
			}

			// 3. Let sources be the List of argument values starting with the second argument
			var sources = Array.prototype.slice.call(arguments, 1);

			// 4. For each element nextSource of sources, in ascending index order, do
			var index1;
			var index2;
			var keys;
			var key;
			var from;
			for (index1 = 0; index1 < sources.length; index1++) {
				var nextSource = sources[index1];
				// 4a. If nextSource is undefined or null, let keys be a new empty List.
				if (nextSource === undefined || nextSource === null) {
					keys = [];
					// 4b. Else,
				} else {
					// 4bi. Let from be ! ToObject(nextSource).
					from = toObject(nextSource);
					// 4bii. Let keys be ? from.[[OwnPropertyKeys]]().
					/*
						This step in our polyfill is not complying with the specification.
						[[OwnPropertyKeys]] is meant to return ALL keys, including non-enumerable and symbols.
						TODO: When we have Reflect.ownKeys, use that instead as it is the userland equivalent of [[OwnPropertyKeys]].
					*/
					keys = Object.keys(from);
				}

				// 4c. For each element nextKey of keys in List order, do
				for (index2 = 0; index2 < keys.length; index2++) {
					var nextKey = keys[index2];
					// 4ci. Let desc be ? from.[[GetOwnProperty]](nextKey).
					var desc = Object.getOwnPropertyDescriptor(from, nextKey);
					// 4cii. If desc is not undefined and desc.[[Enumerable]] is true, then
					if (desc !== undefined && desc.enumerable) {
						// 4cii1. Let propValue be ? Get(from, nextKey).
						var propValue = from[nextKey];
						// 4cii2. Perform ? Set(to, nextKey, propValue, true).
						to[nextKey] = propValue;
					}
				}
			}
			// 5. Return to.
			return to;
		}
	});
}());

// Symbol
// A modification of https://github.com/WebReflection/get-own-property-symbols
// (C) Andrea Giammarchi - MIT Licensed

(function (Object, GOPS, global) {

	var	setDescriptor;
	var id = 0;
	var random = '' + Math.random();
	var prefix = '__\\\\x01symbol:';
	var prefixLength = prefix.length;
	var internalSymbol = '__\\\\x01symbol@@' + random;
	var DP = 'defineProperty';
	var DPies = 'defineProperties';
	var GOPN = 'getOwnPropertyNames';
	var GOPD = 'getOwnPropertyDescriptor';
	var PIE = 'propertyIsEnumerable';
	var ObjectProto = Object.prototype;
	var hOP = ObjectProto.hasOwnProperty;
	var pIE = ObjectProto[PIE];
	var toString = ObjectProto.toString;
	var concat = Array.prototype.concat;
	var cachedWindowNames = typeof window === 'object' ? Object.getOwnPropertyNames(window) : [];
	var nGOPN = Object[GOPN];
	var gOPN = function getOwnPropertyNames (obj) {
		if (toString.call(obj) === '[object Window]') {
			try {
				return nGOPN(obj);
			} catch (e) {
				// IE bug where layout engine calls userland gOPN for cross-domain \`window\` objects
				return concat.call([], cachedWindowNames);
			}
		}
		return nGOPN(obj);
	};
	var gOPD = Object[GOPD];
	var create = Object.create;
	var keys = Object.keys;
	var freeze = Object.freeze || Object;
	var defineProperty = Object[DP];
	var $defineProperties = Object[DPies];
	var descriptor = gOPD(Object, GOPN);
	var addInternalIfNeeded = function (o, uid, enumerable) {
		if (!hOP.call(o, internalSymbol)) {
			try {
				defineProperty(o, internalSymbol, {
					enumerable: false,
					configurable: false,
					writable: false,
					value: {}
				});
			} catch (e) {
				o[internalSymbol] = {};
			}
		}
		o[internalSymbol]['@@' + uid] = enumerable;
	};
	var createWithSymbols = function (proto, descriptors) {
		var self = create(proto);
		gOPN(descriptors).forEach(function (key) {
			if (propertyIsEnumerable.call(descriptors, key)) {
				$defineProperty(self, key, descriptors[key]);
			}
		});
		return self;
	};
	var copyAsNonEnumerable = function (descriptor) {
		var newDescriptor = create(descriptor);
		newDescriptor.enumerable = false;
		return newDescriptor;
	};
	var get = function get(){};
	var onlyNonSymbols = function (name) {
		return name != internalSymbol &&
			!hOP.call(source, name);
	};
	var onlySymbols = function (name) {
		return name != internalSymbol &&
			hOP.call(source, name);
	};
	var propertyIsEnumerable = function propertyIsEnumerable(key) {
		var uid = '' + key;
		return onlySymbols(uid) ? (
			hOP.call(this, uid) &&
			this[internalSymbol]['@@' + uid]
		) : pIE.call(this, key);
	};
	var setAndGetSymbol = function (uid) {
		var descriptor = {
			enumerable: false,
			configurable: true,
			get: get,
			set: function (value) {
			setDescriptor(this, uid, {
				enumerable: false,
				configurable: true,
				writable: true,
				value: value
			});
			addInternalIfNeeded(this, uid, true);
			}
		};
		try {
			defineProperty(ObjectProto, uid, descriptor);
		} catch (e) {
			ObjectProto[uid] = descriptor.value;
		}
		return freeze(source[uid] = defineProperty(
			Object(uid),
			'constructor',
			sourceConstructor
		));
	};
	var Symbol = function Symbol(description) {
		if (this instanceof Symbol) {
			throw new TypeError('Symbol is not a constructor');
		}
		return setAndGetSymbol(
			prefix.concat(description || '', random, ++id)
		);
		};
	var source = create(null);
	var sourceConstructor = {value: Symbol};
	var sourceMap = function (uid) {
		return source[uid];
		};
	var $defineProperty = function defineProp(o, key, descriptor) {
		var uid = '' + key;
		if (onlySymbols(uid)) {
			setDescriptor(o, uid, descriptor.enumerable ?
				copyAsNonEnumerable(descriptor) : descriptor);
			addInternalIfNeeded(o, uid, !!descriptor.enumerable);
		} else {
			defineProperty(o, key, descriptor);
		}
		return o;
	};

	var onlyInternalSymbols = function (obj) {
		return function (name) {
			return hOP.call(obj, internalSymbol) && hOP.call(obj[internalSymbol], '@@' + name);
		};
	};
	var $getOwnPropertySymbols = function getOwnPropertySymbols(o) {
		return gOPN(o).filter(o === ObjectProto ? onlyInternalSymbols(o) : onlySymbols).map(sourceMap);
		}
	;

	descriptor.value = $defineProperty;
	defineProperty(Object, DP, descriptor);

	descriptor.value = $getOwnPropertySymbols;
	defineProperty(Object, GOPS, descriptor);

	descriptor.value = function getOwnPropertyNames(o) {
		return gOPN(o).filter(onlyNonSymbols);
	};
	defineProperty(Object, GOPN, descriptor);

	descriptor.value = function defineProperties(o, descriptors) {
		var symbols = $getOwnPropertySymbols(descriptors);
		if (symbols.length) {
		keys(descriptors).concat(symbols).forEach(function (uid) {
			if (propertyIsEnumerable.call(descriptors, uid)) {
			$defineProperty(o, uid, descriptors[uid]);
			}
		});
		} else {
		$defineProperties(o, descriptors);
		}
		return o;
	};
	defineProperty(Object, DPies, descriptor);

	descriptor.value = propertyIsEnumerable;
	defineProperty(ObjectProto, PIE, descriptor);

	descriptor.value = Symbol;
	defineProperty(global, 'Symbol', descriptor);

	// defining \`Symbol.for(key)\`
	descriptor.value = function (key) {
		var uid = prefix.concat(prefix, key, random);
		return uid in ObjectProto ? source[uid] : setAndGetSymbol(uid);
	};
	defineProperty(Symbol, 'for', descriptor);

	// defining \`Symbol.keyFor(symbol)\`
	descriptor.value = function (symbol) {
		if (onlyNonSymbols(symbol))
		throw new TypeError(symbol + ' is not a symbol');
		return hOP.call(source, symbol) ?
		symbol.slice(prefixLength * 2, -random.length) :
		void 0
		;
	};
	defineProperty(Symbol, 'keyFor', descriptor);

	descriptor.value = function getOwnPropertyDescriptor(o, key) {
		var descriptor = gOPD(o, key);
		if (descriptor && onlySymbols(key)) {
		descriptor.enumerable = propertyIsEnumerable.call(o, key);
		}
		return descriptor;
	};
	defineProperty(Object, GOPD, descriptor);

	descriptor.value = function (proto, descriptors) {
		return arguments.length === 1 || typeof descriptors === \\"undefined\\" ?
		create(proto) :
		createWithSymbols(proto, descriptors);
	};
	defineProperty(Object, 'create', descriptor);

	descriptor.value = function () {
		var str = toString.call(this);
		return (str === '[object String]' && onlySymbols(this)) ? '[object Symbol]' : str;
	};
	defineProperty(ObjectProto, 'toString', descriptor);


	setDescriptor = function (o, key, descriptor) {
		var protoDescriptor = gOPD(ObjectProto, key);
		delete ObjectProto[key];
		defineProperty(o, key, descriptor);
		if (o !== ObjectProto) {
			defineProperty(ObjectProto, key, protoDescriptor);
		}
	};

}(Object, 'getOwnPropertySymbols', this));

// Symbol.iterator
Object.defineProperty(Symbol, 'iterator', {value: Symbol('iterator')});

// Symbol.toStringTag
Object.defineProperty(Symbol, 'toStringTag', {
	value: Symbol('toStringTag')
});

// _Iterator
// A modification of https://github.com/medikoo/es6-iterator
// Copyright (C) 2013-2015 Mariusz Nowak (www.medikoo.com)

var Iterator = (function () { // eslint-disable-line no-unused-vars
	var clear = function () {
		this.length = 0;
		return this;
	};
	var callable = function (fn) {
		if (typeof fn !== 'function') throw new TypeError(fn + \\" is not a function\\");
		return fn;
	};

	var Iterator = function (list, context) {
		if (!(this instanceof Iterator)) {
			return new Iterator(list, context);
		}
		Object.defineProperties(this, {
			__list__: {
				writable: true,
				value: list
			},
			__context__: {
				writable: true,
				value: context
			},
			__nextIndex__: {
				writable: true,
				value: 0
			}
		});
		if (!context) return;
		callable(context.on);
		context.on('_add', this._onAdd.bind(this));
		context.on('_delete', this._onDelete.bind(this));
		context.on('_clear', this._onClear.bind(this));
	};

	Object.defineProperties(Iterator.prototype, Object.assign({
		constructor: {
			value: Iterator,
			configurable: true,
			enumerable: false,
			writable: true
		},
		_next: {
			value: function () {
				var i;
				if (!this.__list__) return;
				if (this.__redo__) {
					i = this.__redo__.shift();
					if (i !== undefined) return i;
				}
				if (this.__nextIndex__ < this.__list__.length) return this.__nextIndex__++;
				this._unBind();
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		next: {
			value: function () {
				return this._createResult(this._next());
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		_createResult: {
			value: function (i) {
				if (i === undefined) return {
					done: true,
					value: undefined
				};
				return {
					done: false,
					value: this._resolve(i)
				};
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		_resolve: {
			value: function (i) {
				return this.__list__[i];
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		_unBind: {
			value: function () {
				this.__list__ = null;
				delete this.__redo__;
				if (!this.__context__) return;
				this.__context__.off('_add', this._onAdd.bind(this));
				this.__context__.off('_delete', this._onDelete.bind(this));
				this.__context__.off('_clear', this._onClear.bind(this));
				this.__context__ = null;
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		toString: {
			value: function () {
				return '[object Iterator]';
			},
			configurable: true,
			enumerable: false,
			writable: true
		}
	}, {
		_onAdd: {
			value: function (index) {
				if (index >= this.__nextIndex__) return;
				++this.__nextIndex__;
				if (!this.__redo__) {
					Object.defineProperty(this, '__redo__', {
						value: [index],
						configurable: true,
						enumerable: false,
						writable: false
					});
					return;
				}
				this.__redo__.forEach(function (redo, i) {
					if (redo >= index) this.__redo__[i] = ++redo;
				}, this);
				this.__redo__.push(index);
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		_onDelete: {
			value: function (index) {
				var i;
				if (index >= this.__nextIndex__) return;
				--this.__nextIndex__;
				if (!this.__redo__) return;
				i = this.__redo__.indexOf(index);
				if (i !== -1) this.__redo__.splice(i, 1);
				this.__redo__.forEach(function (redo, i) {
					if (redo > index) this.__redo__[i] = --redo;
				}, this);
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		_onClear: {
			value: function () {
				if (this.__redo__) clear.call(this.__redo__);
				this.__nextIndex__ = 0;
			},
			configurable: true,
			enumerable: false,
			writable: true
		}
	}));

	Object.defineProperty(Iterator.prototype, Symbol.iterator, {
		value: function () {
			return this;
		},
		configurable: true,
		enumerable: false,
		writable: true
	});
	Object.defineProperty(Iterator.prototype, Symbol.toStringTag, {
		value: 'Iterator',
		configurable: false,
		enumerable: false,
		writable: true
	});

	return Iterator;
}());

// Object.setPrototypeOf
// ES6-shim 0.16.0 (c) 2013-2014 Paul Miller (http://paulmillr.com)
// ES6-shim may be freely distributed under the MIT license.
// For more details and documentation:
// https://github.com/paulmillr/es6-shim/

 // NOTE:  This versions needs object ownership
  //        because every promoted object needs to be reassigned
  //        otherwise uncompatible browsers cannot work as expected
  //
  // NOTE:  This might need es5-shim or polyfills upfront
  //        because it's based on ES5 API.
  //        (probably just an IE <= 8 problem)
  //
  // NOTE:  nodejs is fine in version 0.8, 0.10, and future versions.
(function () {
	if (Object.setPrototypeOf) { return; }

	/*jshint proto: true */
	// @author    Andrea Giammarchi - @WebReflection

	var getOwnPropertyNames = Object.getOwnPropertyNames;
	var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
	var create = Object.create;
	var defineProperty = Object.defineProperty;
	var getPrototypeOf = Object.getPrototypeOf;
	var objProto = Object.prototype;

	var copyDescriptors = function (target, source) {
		// define into target descriptors from source
		getOwnPropertyNames(source).forEach(function (key) {
			defineProperty(
				target,
				key,
				getOwnPropertyDescriptor(source, key)
			);
		});
		return target;
	};
	// used as fallback when no promotion is possible
	var createAndCopy = function (origin, proto) {
		return copyDescriptors(create(proto), origin);
	};
	var set, setPrototypeOf;
	try {
		// this might fail for various reasons
		// ignore if Chrome cought it at runtime
		set = getOwnPropertyDescriptor(objProto, '__proto__').set;
		set.call({}, null);
		// setter not poisoned, it can promote
		// Firefox, Chrome
		setPrototypeOf = function (origin, proto) {
			set.call(origin, proto);
			return origin;
		};
	} catch (e) {
		// do one or more feature detections
		set = { __proto__: null };
		// if proto does not work, needs to fallback
		// some Opera, Rhino, ducktape
		if (set instanceof Object) {
			setPrototypeOf = createAndCopy;
		} else {
			// verify if null objects are buggy
			/* eslint-disable no-proto */
			set.__proto__ = objProto;
			/* eslint-enable no-proto */
			// if null objects are buggy
			// nodejs 0.8 to 0.10
			if (set instanceof Object) {
				setPrototypeOf = function (origin, proto) {
					// use such bug to promote
					/* eslint-disable no-proto */
					origin.__proto__ = proto;
					/* eslint-enable no-proto */
					return origin;
				};
			} else {
				// try to use proto or fallback
				// Safari, old Firefox, many others
				setPrototypeOf = function (origin, proto) {
					// if proto is not null
					if (getPrototypeOf(origin)) {
						// use __proto__ to promote
						/* eslint-disable no-proto */
						origin.__proto__ = proto;
						/* eslint-enable no-proto */
						return origin;
					} else {
						// otherwise unable to promote: fallback
						return createAndCopy(origin, proto);
					}
				};
			}
		}
	}
	Object.setPrototypeOf = setPrototypeOf;
}());

// String.prototype.includes
String.prototype.includes = function (string, index) {
	if (typeof string === 'object' && string instanceof RegExp) throw new TypeError(\\"First argument to String.prototype.includes must not be a regular expression\\");
	return this.indexOf(string, index) !== -1;
};

// String.prototype.contains
String.prototype.contains = String.prototype.includes;

// _ArrayIterator
// A modification of https://github.com/medikoo/es6-iterator
// Copyright (C) 2013-2015 Mariusz Nowak (www.medikoo.com)

var ArrayIterator = (function() { // eslint-disable-line no-unused-vars

	var ArrayIterator = function(arr, kind) {
		if (!(this instanceof ArrayIterator)) return new ArrayIterator(arr, kind);
		Iterator.call(this, arr);
		if (!kind) kind = 'value';
		else if (String.prototype.contains.call(kind, 'key+value')) kind = 'key+value';
		else if (String.prototype.contains.call(kind, 'key')) kind = 'key';
		else kind = 'value';
		Object.defineProperty(this, '__kind__', {
			value: kind,
			configurable: false,
			enumerable: false,
			writable: false
		});
	};
	if (Object.setPrototypeOf) Object.setPrototypeOf(ArrayIterator, Iterator.prototype);

	ArrayIterator.prototype = Object.create(Iterator.prototype, {
		constructor: {
			value: ArrayIterator,
			configurable: true,
			enumerable: false,
			writable: true
		},
		_resolve: {
			value: function(i) {
				if (this.__kind__ === 'value') return this.__list__[i];
				if (this.__kind__ === 'key+value') return [i, this.__list__[i]];
				return i;
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		toString: {
			value: function() {
				return '[object Array Iterator]';
			},
			configurable: true,
			enumerable: false,
			writable: true
		}
	});

	return ArrayIterator;
}());

// Number.isFinite
Number.isFinite = Number.isFinite || function(value) {
    return typeof value === \\"number\\" && isFinite(value);
};

// Number.isNaN
Number.isNaN = Number.isNaN || function(value) {
    return typeof value === \\"number\\" && isNaN(value);
};

// Array.from
// Wrapped in IIFE to prevent leaking to global scope.
(function () {
	'use strict';

	function toInteger(value) {
		var number = Number(value);
		return sign(number) * Math.floor(Math.abs(Math.min(Math.max(number || 0, 0), 9007199254740991)));
	}

	var has = Object.prototype.hasOwnProperty;
	var strValue = String.prototype.valueOf;

	var tryStringObject = function tryStringObject(value) {
		try {
			strValue.call(value);
			return true;
		} catch (e) {
			return false;
		}
	};

	function sign(number) {
		return number >= 0 ? 1 : -1;
	}

	var toStr = Object.prototype.toString;
	var strClass = '[object String]';
	var hasSymbols = typeof Symbol === 'function';
	var hasToStringTag = hasSymbols && 'toStringTag' in Symbol;

	function isString(value) {
		if (typeof value === 'string') {
			return true;
		}
		if (typeof value !== 'object') {
			return false;
		}
		return hasToStringTag ? tryStringObject(value) : toStr.call(value) === strClass;
	}

	var fnToStr = Function.prototype.toString;

	var constructorRegex = /^\\\\s*class /;
	var isES6ClassFn = function isES6ClassFn(value) {
		try {
			var fnStr = fnToStr.call(value);
			var singleStripped = fnStr.replace(/\\\\/\\\\/.*\\\\n/g, '');
			var multiStripped = singleStripped.replace(/\\\\/\\\\*[.\\\\s\\\\S]*\\\\*\\\\//g, '');
			var spaceStripped = multiStripped.replace(/\\\\n/mg, ' ').replace(/ {2}/g, ' ');
			return constructorRegex.test(spaceStripped);
		} catch (e) {
			return false; // not a function
		}
	};

	var tryFunctionObject = function tryFunctionObject(value) {
		try {
			if (isES6ClassFn(value)) {
				return false;
			}
			fnToStr.call(value);
			return true;
		} catch (e) {
			return false;
		}
	};
	var fnClass = '[object Function]';
	var genClass = '[object GeneratorFunction]';

	function isCallable(value) {
		if (!value) {
			return false;
		}
		if (typeof value !== 'function' && typeof value !== 'object') {
			return false;
		}
		if (hasToStringTag) {
			return tryFunctionObject(value);
		}
		if (isES6ClassFn(value)) {
			return false;
		}
		var strClass = toStr.call(value);
		return strClass === fnClass || strClass === genClass;
	};
	var isArray = Array.isArray;

	var parseIterable = function (iterator) {
		var done = false;
		var iterableResponse;
		var tempArray = [];

		if (iterator && typeof iterator.next === 'function') {
			while (!done) {
				iterableResponse = iterator.next();
				if (
					has.call(iterableResponse, 'value') &&
					has.call(iterableResponse, 'done')
				) {
					if (iterableResponse.done === true) {
						done = true;
						break; // eslint-disable-line no-restricted-syntax

					} else if (iterableResponse.done !== false) {
						break; // eslint-disable-line no-restricted-syntax
					}

					tempArray.push(iterableResponse.value);
				} else if (iterableResponse.done === true) {
					done = true;
					break; // eslint-disable-line no-restricted-syntax
				} else {
					break; // eslint-disable-line no-restricted-syntax
				}
			}
		}

		return done ? tempArray : false;
	};

	var iteratorSymbol;
	var forOf;
	var hasSet = typeof Set === 'function';
	var hasMap = typeof Map === 'function';

	if (hasSymbols) {
		iteratorSymbol = Symbol.iterator;
	} else {
		var iterate;
		try {
			iterate = Function('iterable', 'var arr = []; for (var value of iterable) arr.push(value); return arr;'); // eslint-disable-line no-new-func
		} catch (e) {}
		var supportsStrIterator = (function () {
			try {
				var supported = false;
				var obj = { // eslint-disable-line no-unused-vars
					'@@iterator': function () {
						return {
							'next': function () {
								supported = true;
								return {
									'done': true,
									'value': undefined
								};
							}
						};
					}
				};

				iterate(obj);
				return supported;
			} catch (e) {
				return false;
			}
		}());

		if (supportsStrIterator) {
			iteratorSymbol = '@@iterator';
		} else if (typeof Set === 'function') {
			var s = new Set();
			s.add(0);
			try {
				if (iterate(s).length === 1) {
					forOf = iterate;
				}
			} catch (e) {}
		}
	}

	var isSet;
	if (hasSet) {
		var setSize = Object.getOwnPropertyDescriptor(Set.prototype, 'size').get;
		isSet = function (set) {
			try {
				setSize.call(set);
				return true;
			} catch (e) {
				return false;
			}
		};
	}

	var isMap;
	if (hasMap) {
		var mapSize = Object.getOwnPropertyDescriptor(Map.prototype, 'size').get;
		isMap = function (m) {
			try {
				mapSize.call(m);
				return true;
			} catch (e) {
				return false;
			}
		};
	}

	var setForEach = hasSet && Set.prototype.forEach;
	var mapForEach = hasMap && Map.prototype.forEach;
	var usingIterator = function (items) {
		var tempArray = [];
		if (has.call(items, iteratorSymbol)) {
			return items[iteratorSymbol]();
		} else if (setForEach && isSet(items)) {
			setForEach.call(items, function (val) {
				tempArray.push(val);
			});
			return {
				next: function () {
					return tempArray.length === 0
						? {
							done: true
						}
						: {
							value: tempArray.splice(0, 1)[0],
							done: false
						};
				}
			};
		} else if (mapForEach && isMap(items)) {
			mapForEach.call(items, function (val, key) {
				tempArray.push([key, val]);
			});
			return {
				next: function () {
					return tempArray.length === 0
						? {
							done: true
						}
						: {
							value: tempArray.splice(0, 1)[0],
							done: false
						};
				}
			};
		}
		return items;
	};

	var strMatch = String.prototype.match;

	var parseIterableLike = function (items) {
		var arr = parseIterable(usingIterator(items));

		if (!arr) {
			if (isString(items)) {
				arr = strMatch.call(items, /[\\\\uD800-\\\\uDBFF][\\\\uDC00-\\\\uDFFF]?|[^\\\\uD800-\\\\uDFFF]|./g) || [];
			} else if (forOf && !isArray(items)) {
				// Safari 8's native Map or Set can't be iterated except with for..of
				try {
					arr = forOf(items);
				} catch (e) {}
			}
		}
		return arr || items;
	};

	/*! https://mths.be/array-from v0.2.0 by @mathias */
	Object.defineProperty(Array, 'from', {
		configurable: true,
		value: function from(items) {
			var C = this;
			if (items === null || typeof items === 'undefined') {
				throw new TypeError('\`Array.from\` requires an array-like object, not \`null\` or \`undefined\`');
			}
			var mapFn, T;
			if (typeof arguments[1] !== 'undefined') {
				mapFn = arguments[1];
				if (!isCallable(mapFn)) {
					throw new TypeError('When provided, the second argument to \`Array.from\` must be a function');
				}
				if (arguments.length > 2) {
					T = arguments[2];
				}
			}

			var arrayLike = Object(parseIterableLike(items));
			var len = toInteger(arrayLike.length);
			var A = isCallable(C) ? Object(new C(len)) : new Array(len);
			var k = 0;
			var kValue, mappedValue;

			while (k < len) {
				kValue = arrayLike[k];
				if (mapFn) {
					mappedValue = typeof T === 'undefined' ? mapFn(kValue, k) : mapFn.apply(T, [kValue, k]);
				} else {
					mappedValue = kValue;
				}
				Object.defineProperty(A, k, {
					'configurable': true,
					'enumerable': true,
					'value': mappedValue,
					'writable': true
				});
				k += 1;
			}
			A.length = len;
			return A;
		},
		writable: true
	});
}());

// Array.of
/*! https://mths.be/array-of v0.1.0 by @mathias */
(function () {
	'use strict';
	var defineProperty = (function () {
		// IE 8 only supports \`Object.defineProperty\` on DOM elements
		try {
			var object = {};
			var $defineProperty = Object.defineProperty;
			var result = $defineProperty(object, object, object) && $defineProperty;
		} catch (error) { /**/ }
		return result;
	}());
	var isConstructor = function isConstructor(Constructor) {
		try {
			return !!new Constructor();
		} catch (_) {
			return false;
		}
	};
	var of = function of() {
		var items = arguments;
		var length = items.length;
		var Me = this;
		var result = isConstructor(Me) ? new Me(length) : new Array(length);
		var index = 0;
		var value;
		while (index < length) {
			value = items[index];
			if (defineProperty) {
				defineProperty(result, index, {
					'value': value,
					'writable': true,
					'enumerable': true,
					'configurable': true
				});
			} else {
				result[index] = value;
			}
			index += 1;
		}
		result.length = length;
		return result;
	};
	if (defineProperty) {
		defineProperty(Array, 'of', {
			'value': of,
			'configurable': true,
			'writable': true
		});
	} else {
		Array.of = of;
	}
}());

// Array.prototype.fill
Object.defineProperty(Array.prototype, 'fill', {
	configurable: true,
	value: function fill(value) {
		if (this === undefined || this === null) {
			throw new TypeError(this + ' is not an object');
		}

		var arrayLike = Object(this);

		var length = Math.max(Math.min(arrayLike.length, 9007199254740991), 0) || 0;

		var relativeStart = 1 in arguments ? parseInt(Number(arguments[1]), 10) || 0 : 0;

		relativeStart = relativeStart < 0 ? Math.max(length + relativeStart, 0) : Math.min(relativeStart, length);

		var relativeEnd = 2 in arguments && arguments[2] !== undefined ? parseInt(Number(arguments[2]), 10) || 0 : length;

		relativeEnd = relativeEnd < 0 ? Math.max(length + arguments[2], 0) : Math.min(relativeEnd, length);

		while (relativeStart < relativeEnd) {
			arrayLike[relativeStart] = value;

			++relativeStart;
		}

		return arrayLike;
	},
	writable: true
});

// Event
(function () {
	var unlistenableWindowEvents = {
		click: 1,
		dblclick: 1,
		keyup: 1,
		keypress: 1,
		keydown: 1,
		mousedown: 1,
		mouseup: 1,
		mousemove: 1,
		mouseover: 1,
		mouseenter: 1,
		mouseleave: 1,
		mouseout: 1,
		storage: 1,
		storagecommit: 1,
		textinput: 1
	};

	// This polyfill depends on availability of \`document\` so will not run in a worker
	// However, we asssume there are no browsers with worker support that lack proper
	// support for \`Event\` within the worker
	if (typeof document === 'undefined' || typeof window === 'undefined') return;

	function indexOf(array, element) {
		var
		index = -1,
		length = array.length;

		while (++index < length) {
			if (index in array && array[index] === element) {
				return index;
			}
		}

		return -1;
	}

	var existingProto = (window.Event && window.Event.prototype) || null;
	window.Event = Window.prototype.Event = function Event(type, eventInitDict) {
		if (!type) {
			throw new Error('Not enough arguments');
		}

		var event;
		// Shortcut if browser supports createEvent
		if ('createEvent' in document) {
			event = document.createEvent('Event');
			var bubbles = eventInitDict && eventInitDict.bubbles !== undefined ? eventInitDict.bubbles : false;
			var cancelable = eventInitDict && eventInitDict.cancelable !== undefined ? eventInitDict.cancelable : false;

			event.initEvent(type, bubbles, cancelable);

			return event;
		}

		event = document.createEventObject();

		event.type = type;
		event.bubbles = eventInitDict && eventInitDict.bubbles !== undefined ? eventInitDict.bubbles : false;
		event.cancelable = eventInitDict && eventInitDict.cancelable !== undefined ? eventInitDict.cancelable : false;

		return event;
	};
	if (existingProto) {
		Object.defineProperty(window.Event, 'prototype', {
			configurable: false,
			enumerable: false,
			writable: true,
			value: existingProto
		});
	}

	if (!('createEvent' in document)) {
		window.addEventListener = Window.prototype.addEventListener = Document.prototype.addEventListener = Element.prototype.addEventListener = function addEventListener() {
			var
			element = this,
			type = arguments[0],
			listener = arguments[1];

			if (element === window && type in unlistenableWindowEvents) {
				throw new Error('In IE8 the event: ' + type + ' is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.');
			}

			if (!element._events) {
				element._events = {};
			}

			if (!element._events[type]) {
				element._events[type] = function (event) {
					var
					list = element._events[event.type].list,
					events = list.slice(),
					index = -1,
					length = events.length,
					eventElement;

					event.preventDefault = function preventDefault() {
						if (event.cancelable !== false) {
							event.returnValue = false;
						}
					};

					event.stopPropagation = function stopPropagation() {
						event.cancelBubble = true;
					};

					event.stopImmediatePropagation = function stopImmediatePropagation() {
						event.cancelBubble = true;
						event.cancelImmediate = true;
					};

					event.currentTarget = element;
					event.relatedTarget = event.fromElement || null;
					event.target = event.target || event.srcElement || element;
					event.timeStamp = new Date().getTime();

					if (event.clientX) {
						event.pageX = event.clientX + document.documentElement.scrollLeft;
						event.pageY = event.clientY + document.documentElement.scrollTop;
					}

					while (++index < length && !event.cancelImmediate) {
						if (index in events) {
							eventElement = events[index];

							if (indexOf(list, eventElement) !== -1 && typeof eventElement === 'function') {
								eventElement.call(element, event);
							}
						}
					}
				};

				element._events[type].list = [];

				if (element.attachEvent) {
					element.attachEvent('on' + type, element._events[type]);
				}
			}

			element._events[type].list.push(listener);
		};

		window.removeEventListener = Window.prototype.removeEventListener = Document.prototype.removeEventListener = Element.prototype.removeEventListener = function removeEventListener() {
			var
			element = this,
			type = arguments[0],
			listener = arguments[1],
			index;

			if (element._events && element._events[type] && element._events[type].list) {
				index = indexOf(element._events[type].list, listener);

				if (index !== -1) {
					element._events[type].list.splice(index, 1);

					if (!element._events[type].list.length) {
						if (element.detachEvent) {
							element.detachEvent('on' + type, element._events[type]);
						}
						delete element._events[type];
					}
				}
			}
		};

		window.dispatchEvent = Window.prototype.dispatchEvent = Document.prototype.dispatchEvent = Element.prototype.dispatchEvent = function dispatchEvent(event) {
			if (!arguments.length) {
				throw new Error('Not enough arguments');
			}

			if (!event || typeof event.type !== 'string') {
				throw new Error('DOM Events Exception 0');
			}

			var element = this, type = event.type;

			try {
				if (!event.bubbles) {
					event.cancelBubble = true;

					var cancelBubbleEvent = function (event) {
						event.cancelBubble = true;

						(element || window).detachEvent('on' + type, cancelBubbleEvent);
					};

					this.attachEvent('on' + type, cancelBubbleEvent);
				}

				this.fireEvent('on' + type, event);
			} catch (error) {
				event.target = element;

				do {
					event.currentTarget = element;

					if ('_events' in element && typeof element._events[type] === 'function') {
						element._events[type].call(element, event);
					}

					if (typeof element['on' + type] === 'function') {
						element['on' + type].call(element, event);
					}

					element = element.nodeType === 9 ? element.parentWindow : element.parentNode;
				} while (element && !event.cancelBubble);
			}

			return true;
		};

		// Add the DOMContentLoaded Event
		document.attachEvent('onreadystatechange', function() {
			if (document.readyState === 'complete') {
				document.dispatchEvent(new Event('DOMContentLoaded', {
					bubbles: true
				}));
			}
		});
	}
}());

// CustomEvent
this.CustomEvent = function CustomEvent(type, eventInitDict) {
	if (!type) {
		throw Error('TypeError: Failed to construct \\"CustomEvent\\": An event name must be provided.');
	}

	var event;
	eventInitDict = eventInitDict || {bubbles: false, cancelable: false, detail: null};

	if ('createEvent' in document) {
		try {
			event = document.createEvent('CustomEvent');
			event.initCustomEvent(type, eventInitDict.bubbles, eventInitDict.cancelable, eventInitDict.detail);
		} catch (error) {
			// for browsers which don't support CustomEvent at all, we use a regular event instead
			event = document.createEvent('Event');
			event.initEvent(type, eventInitDict.bubbles, eventInitDict.cancelable);
			event.detail = eventInitDict.detail;
		}
	} else {

		// IE8
		event = new Event(type, eventInitDict);
		event.detail = eventInitDict && eventInitDict.detail || null;
	}
	return event;
};

CustomEvent.prototype = Event.prototype;

// _DOMTokenList
/*
Copyright (c) 2016, John Gardner

Permission to use, copy, modify, and/or distribute this software for any purpose with or without fee is hereby granted, provided that the above copyright notice and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED \\"AS IS\\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
*/
var _DOMTokenList = (function() { // eslint-disable-line no-unused-vars
	var dpSupport = true;
	var defineGetter = function (object, name, fn, configurable) {
		if (Object.defineProperty)
			Object.defineProperty(object, name, {
				configurable: false === dpSupport ? true : !!configurable,
				get: fn
			});

		else object.__defineGetter__(name, fn);
	};

	/** Ensure the browser allows Object.defineProperty to be used on native JavaScript objects. */
	try {
		defineGetter({}, \\"support\\");
	}
	catch (e) {
		dpSupport = false;
	}


	var _DOMTokenList = function (el, prop) {
		var that = this;
		var tokens = [];
		var tokenMap = {};
		var length = 0;
		var maxLength = 0;
		var addIndexGetter = function (i) {
			defineGetter(that, i, function () {
				preop();
				return tokens[i];
			}, false);

		};
		var reindex = function () {

			/** Define getter functions for array-like access to the tokenList's contents. */
			if (length >= maxLength)
				for (; maxLength < length; ++maxLength) {
					addIndexGetter(maxLength);
				}
		};

		/** Helper function called at the start of each class method. Internal use only. */
		var preop = function () {
			var error;
			var i;
			var args = arguments;
			var rSpace = /\\\\s+/;

			/** Validate the token/s passed to an instance method, if any. */
			if (args.length)
				for (i = 0; i < args.length; ++i)
					if (rSpace.test(args[i])) {
						error = new SyntaxError('String \\"' + args[i] + '\\" ' + \\"contains\\" + ' an invalid character');
						error.code = 5;
						error.name = \\"InvalidCharacterError\\";
						throw error;
					}


			/** Split the new value apart by whitespace*/
			if (typeof el[prop] === \\"object\\") {
				tokens = (\\"\\" + el[prop].baseVal).replace(/^\\\\s+|\\\\s+$/g, \\"\\").split(rSpace);
			} else {
				tokens = (\\"\\" + el[prop]).replace(/^\\\\s+|\\\\s+$/g, \\"\\").split(rSpace);
			}

			/** Avoid treating blank strings as single-item token lists */
			if (\\"\\" === tokens[0]) tokens = [];

			/** Repopulate the internal token lists */
			tokenMap = {};
			for (i = 0; i < tokens.length; ++i)
				tokenMap[tokens[i]] = true;
			length = tokens.length;
			reindex();
		};

		/** Populate our internal token list if the targeted attribute of the subject element isn't empty. */
		preop();

		/** Return the number of tokens in the underlying string. Read-only. */
		defineGetter(that, \\"length\\", function () {
			preop();
			return length;
		});

		/** Override the default toString/toLocaleString methods to return a space-delimited list of tokens when typecast. */
		that.toLocaleString =
			that.toString = function () {
				preop();
				return tokens.join(\\" \\");
			};

		that.item = function (idx) {
			preop();
			return tokens[idx];
		};

		that.contains = function (token) {
			preop();
			return !!tokenMap[token];
		};

		that.add = function () {
			preop.apply(that, args = arguments);

			for (var args, token, i = 0, l = args.length; i < l; ++i) {
				token = args[i];
				if (!tokenMap[token]) {
					tokens.push(token);
					tokenMap[token] = true;
				}
			}

			/** Update the targeted attribute of the attached element if the token list's changed. */
			if (length !== tokens.length) {
				length = tokens.length >>> 0;
				if (typeof el[prop] === \\"object\\") {
					el[prop].baseVal = tokens.join(\\" \\");
				} else {
					el[prop] = tokens.join(\\" \\");
				}
				reindex();
			}
		};

		that.remove = function () {
			preop.apply(that, args = arguments);

			/** Build a hash of token names to compare against when recollecting our token list. */
			for (var args, ignore = {}, i = 0, t = []; i < args.length; ++i) {
				ignore[args[i]] = true;
				delete tokenMap[args[i]];
			}

			/** Run through our tokens list and reassign only those that aren't defined in the hash declared above. */
			for (i = 0; i < tokens.length; ++i)
				if (!ignore[tokens[i]]) t.push(tokens[i]);

			tokens = t;
			length = t.length >>> 0;

			/** Update the targeted attribute of the attached element. */
			if (typeof el[prop] === \\"object\\") {
				el[prop].baseVal = tokens.join(\\" \\");
			} else {
				el[prop] = tokens.join(\\" \\");
			}
			reindex();
		};

		that.toggle = function (token, force) {
			preop.apply(that, [token]);

			/** Token state's being forced. */
			if (undefined !== force) {
				if (force) {
					that.add(token);
					return true;
				} else {
					that.remove(token);
					return false;
				}
			}

			/** Token already exists in tokenList. Remove it, and return FALSE. */
			if (tokenMap[token]) {
				that.remove(token);
				return false;
			}

			/** Otherwise, add the token and return TRUE. */
			that.add(token);
			return true;
		};

		return that;
	};

	return _DOMTokenList;
}());

// DOMTokenList
(function (global) {
	var nativeImpl = \\"DOMTokenList\\" in global && global.DOMTokenList;

	if (
			!nativeImpl ||
			(
				!!document.createElementNS &&
				!!document.createElementNS('http://www.w3.org/2000/svg', 'svg') &&
				!(document.createElementNS(\\"http://www.w3.org/2000/svg\\", \\"svg\\").classList instanceof DOMTokenList)
			)
		) {
		global.DOMTokenList = _DOMTokenList;
	}

	// Add second argument to native DOMTokenList.toggle() if necessary
	(function () {
		var e = document.createElement('span');
		if (!('classList' in e)) return;
		e.classList.toggle('x', false);
		if (!e.classList.contains('x')) return;
		e.classList.constructor.prototype.toggle = function toggle(token /*, force*/) {
			var force = arguments[1];
			if (force === undefined) {
				var add = !this.contains(token);
				this[add ? 'add' : 'remove'](token);
				return add;
			}
			force = !!force;
			this[force ? 'add' : 'remove'](token);
			return force;
		};
	}());

	// Add multiple arguments to native DOMTokenList.add() if necessary
	(function () {
		var e = document.createElement('span');
		if (!('classList' in e)) return;
		e.classList.add('a', 'b');
		if (e.classList.contains('b')) return;
		var native = e.classList.constructor.prototype.add;
		e.classList.constructor.prototype.add = function () {
			var args = arguments;
			var l = arguments.length;
			for (var i = 0; i < l; i++) {
				native.call(this, args[i]);
			}
		};
	}());

	// Add multiple arguments to native DOMTokenList.remove() if necessary
	(function () {
		var e = document.createElement('span');
		if (!('classList' in e)) return;
		e.classList.add('a');
		e.classList.add('b');
		e.classList.remove('a', 'b');
		if (!e.classList.contains('b')) return;
		var native = e.classList.constructor.prototype.remove;
		e.classList.constructor.prototype.remove = function () {
			var args = arguments;
			var l = arguments.length;
			for (var i = 0; i < l; i++) {
				native.call(this, args[i]);
			}
		};
	}());

}(this));

// _mutation
var _mutation = (function () { // eslint-disable-line no-unused-vars

	function isNode(object) {
		// DOM, Level2
		if (typeof Node === 'function') {
			return object instanceof Node;
		}
		// Older browsers, check if it looks like a Node instance)
		return object &&
			typeof object === \\"object\\" && 
			object.nodeName && 
			object.nodeType >= 1 &&
			object.nodeType <= 12;
	}

	// http://dom.spec.whatwg.org/#mutation-method-macro
	return function mutation(nodes) {
		if (nodes.length === 1) {
			return isNode(nodes[0]) ? nodes[0] : document.createTextNode(nodes[0] + '');
		}

		var fragment = document.createDocumentFragment();
		for (var i = 0; i < nodes.length; i++) {
			fragment.appendChild(isNode(nodes[i]) ? nodes[i] : document.createTextNode(nodes[i] + ''));

		}
		return fragment;
	};
}());

// DocumentFragment.prototype.append
DocumentFragment.prototype.append = function append() {
	this.appendChild(_mutation(arguments));
};

// DocumentFragment.prototype.prepend
DocumentFragment.prototype.prepend = function prepend() {
	this.insertBefore(_mutation(arguments), this.firstChild);
};

// Element.prototype.after
Document.prototype.after = Element.prototype.after = function after() {
	if (this.parentNode) {
		var args = Array.prototype.slice.call(arguments),
				viableNextSibling = this.nextSibling,
				idx = viableNextSibling ? args.indexOf(viableNextSibling) : -1;

		while (idx !== -1) {
			viableNextSibling = viableNextSibling.nextSibling;
			if (!viableNextSibling) {
				break;
			}
			idx = args.indexOf(viableNextSibling);
		}
		
		this.parentNode.insertBefore(_mutation(arguments), viableNextSibling);
	}
};

// Not all UAs support the Text constructor.  Polyfill on the Text constructor only where it exists
// TODO: Add a polyfill for the Text constructor, and make it a dependency of this polyfill.
if (\\"Text\\" in this) {
	Text.prototype.after = Element.prototype.after;
}

// Element.prototype.append
Document.prototype.append = Element.prototype.append = function append() {
	this.appendChild(_mutation(arguments));
};

// Element.prototype.before
Document.prototype.before = Element.prototype.before = function before() {
	if (this.parentNode) {
		var args = Array.prototype.slice.call(arguments),
			viablePreviousSibling = this.previousSibling,
			idx = viablePreviousSibling ? args.indexOf(viablePreviousSibling) : -1;

		while (idx !== -1) {
			viablePreviousSibling = viablePreviousSibling.previousSibling;
			if (!viablePreviousSibling) {
				break;
			}
			idx = args.indexOf(viablePreviousSibling);
		}

		this.parentNode.insertBefore(
			_mutation(arguments),
			viablePreviousSibling ? viablePreviousSibling.nextSibling : this.parentNode.firstChild
		);
	}
};

// Not all UAs support the Text constructor.  Polyfill on the Text constructor only where it exists
// TODO: Add a polyfill for the Text constructor, and make it a dependency of this polyfill.
if (\\"Text\\" in this) {
	Text.prototype.before = Element.prototype.before;
}

// Element.prototype.classList
/*
Copyright (c) 2016, John Gardner

Permission to use, copy, modify, and/or distribute this software for any purpose with or without fee is hereby granted, provided that the above copyright notice and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED \\"AS IS\\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
*/
(function (global) {
	var dpSupport = true;
	var defineGetter = function (object, name, fn, configurable) {
		if (Object.defineProperty)
			Object.defineProperty(object, name, {
				configurable: false === dpSupport ? true : !!configurable,
				get: fn
			});

		else object.__defineGetter__(name, fn);
	};
	/** Ensure the browser allows Object.defineProperty to be used on native JavaScript objects. */
	try {
		defineGetter({}, \\"support\\");
	}
	catch (e) {
		dpSupport = false;
	}
	/** Polyfills a property with a DOMTokenList */
	var addProp = function (o, name, attr) {

		defineGetter(o.prototype, name, function () {
			var tokenList;

			var THIS = this,

			/** Prevent this from firing twice for some reason. What the hell, IE. */
			gibberishProperty = \\"__defineGetter__\\" + \\"DEFINE_PROPERTY\\" + name;
			if(THIS[gibberishProperty]) return tokenList;
			THIS[gibberishProperty] = true;

			/**
			 * IE8 can't define properties on native JavaScript objects, so we'll use a dumb hack instead.
			 *
			 * What this is doing is creating a dummy element (\\"reflection\\") inside a detached phantom node (\\"mirror\\")
			 * that serves as the target of Object.defineProperty instead. While we could simply use the subject HTML
			 * element instead, this would conflict with element types which use indexed properties (such as forms and
			 * select lists).
			 */
			if (false === dpSupport) {

				var visage;
				var mirror = addProp.mirror || document.createElement(\\"div\\");
				var reflections = mirror.childNodes;
				var l = reflections.length;

				for (var i = 0; i < l; ++i)
					if (reflections[i]._R === THIS) {
						visage = reflections[i];
						break;
					}

				/** Couldn't find an element's reflection inside the mirror. Materialise one. */
				visage || (visage = mirror.appendChild(document.createElement(\\"div\\")));

				tokenList = DOMTokenList.call(visage, THIS, attr);
			} else tokenList = new DOMTokenList(THIS, attr);

			defineGetter(THIS, name, function () {
				return tokenList;
			});
			delete THIS[gibberishProperty];

			return tokenList;
		}, true);
	};

	addProp(global.Element, \\"classList\\", \\"className\\");
	addProp(global.HTMLElement, \\"classList\\", \\"className\\");
	addProp(global.HTMLLinkElement, \\"relList\\", \\"rel\\");
	addProp(global.HTMLAnchorElement, \\"relList\\", \\"rel\\");
	addProp(global.HTMLAreaElement, \\"relList\\", \\"rel\\");
}(this));

// Element.prototype.matches
Element.prototype.matches = Element.prototype.webkitMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.mozMatchesSelector || function matches(selector) {

	var element = this;
	var elements = (element.document || element.ownerDocument).querySelectorAll(selector);
	var index = 0;

	while (elements[index] && elements[index] !== element) {
		++index;
	}

	return !!elements[index];
};

// Element.prototype.closest
Element.prototype.closest = function closest(selector) {
	var node = this;

	while (node) {
		if (node.matches(selector)) return node;
		else node = 'SVGElement' in window && node instanceof SVGElement ? node.parentNode : node.parentElement;
	}

	return null;
};

// Element.prototype.prepend
Document.prototype.prepend = Element.prototype.prepend = function prepend() {
	this.insertBefore(_mutation(arguments), this.firstChild);
};

// Element.prototype.remove
Document.prototype.remove = Element.prototype.remove = function remove() {
	if (this.parentNode) {
		this.parentNode.removeChild(this);
	}
};

// Not all UAs support the Text constructor.  Polyfill on the Text constructor only where it exists
// TODO: Add a polyfill for the Text constructor, and make it a dependency of this polyfill.
if (\\"Text\\" in this) {
	Text.prototype.remove = Element.prototype.remove;
}

// Element.prototype.replaceWith
Document.prototype.replaceWith = Element.prototype.replaceWith = function replaceWith() {
	if (this.parentNode) {
		this.parentNode.replaceChild(_mutation(arguments), this);
	}
};

// Not all UAs support the Text constructor.  Polyfill on the Text constructor only where it exists
// TODO: Add a polyfill for the Text constructor, and make it a dependency of this polyfill.
if ('Text' in this) {
	Text.prototype.replaceWith = Element.prototype.replaceWith;
}

// Symbol.species
Object.defineProperty(Symbol, 'species', {value: Symbol('species')});

// Map
(function (global) {
	// 7.2.11. SameValueZero ( x, y )
	var sameValueZero = function (x, y) {
		// 1. If Type(x) is different from Type(y), return false.
		if (typeof x !== typeof y) {
			return false;
		}
		// 2. If Type(x) is Number, then
		if (typeof x === 'number') {
			// a. If x is NaN and y is NaN, return true.
			if (isNaN(x) && isNaN(y)) {
				return true;
			}
			// b. If x is +0 and y is -0, return true.
			if (x === +0 && y === -0) {
				return true;
			}
			// c. If x is -0 and y is +0, return true.
			if (x === -0 && y === +0) {
				return true;
			}
			// d. If x is the same Number value as y, return true.
			if (x === y) {
				return true;
			}
			// e. Return false.
			return false;
		}
		// 3. Return SameValueNonNumber(x, y).
		return x === y;
	};

	// 7.3.9. GetMethod ( V, P )
	function getMethod(V, P) {
		// 1. Assert: IsPropertyKey(P) is true.
		// 2. Let func be ? GetV(V, P).
		var func = V[P];
		// 3. If func is either undefined or null, return undefined.
		if (func === null || func === undefined) {
			return undefined;
		}
		// 4. If IsCallable(func) is false, throw a TypeError exception.
		if (typeof func !== 'function') {
			throw new TypeError('Method not callable: ' + P);
		}
		// 5. Return func.
		return func;
	}

	// 7.4.1. GetIterator ( obj [ , method ] )
	// The abstract operation GetIterator with argument obj and optional argument method performs the following steps:
	function getIterator(obj /*, method */) {
		// 1. If method is not present, then
		if (!(1 in arguments)) {
			// a. Set method to ? GetMethod(obj, @@iterator).
			var method = getMethod(obj, Symbol.iterator);
		}
		// 2. Let iterator be ? Call(method, obj).
		var iterator = method.call(obj);
		// 3. If Type(iterator) is not Object, throw a TypeError exception.
		if (typeof iterator !== 'object') {
			throw new TypeError('bad iterator');
		}
		// 4. Let nextMethod be ? GetV(iterator, \\"next\\").
		var nextMethod = iterator.next;
		// 5. Let iteratorRecord be Record {[[Iterator]]: iterator, [[NextMethod]]: nextMethod, [[Done]]: false}.
		var iteratorRecord = Object.create(null);
		iteratorRecord['[[Iterator]]'] = iterator;
		iteratorRecord['[[NextMethod]]'] = nextMethod;
		iteratorRecord['[[Done]]'] = false;
		// 6. Return iteratorRecord.
		return iteratorRecord;
	}

	// 7.4.2. IteratorNext ( iteratorRecord [ , value ] )
	function iteratorNext(iteratorRecord /* [, value] */) {
		// 1. If value is not present, then
		if (!(1 in arguments)) {
			// a. Let result be ? Call(iteratorRecord.[[NextMethod]], iteratorRecord.[[Iterator]],  ).
			var result = iteratorRecord['[[NextMethod]]'].call(iteratorRecord['[[Iterator]]']);
		// 2. Else,
		} else {
			// a. Let result be ? Call(iteratorRecord.[[NextMethod]], iteratorRecord.[[Iterator]],  value ).
			var result = iteratorRecord['[[NextMethod]]'].call(iteratorRecord['[[Iterator]]'], arguments[1]);
		}
		// 3. If Type(result) is not Object, throw a TypeError exception.
		if (typeof result !== 'object') {
			throw new TypeError('bad iterator');
		}
		// 4. Return result.
		return result;
	}

	// 7.4.3 IteratorComplete ( iterResult )
	function iteratorComplete(iterResult) {
		// 1. Assert: Type(iterResult) is Object.
		if (typeof iterResult !== 'object') {
			throw new Error(Object.prototype.toString.call(iterResult) + 'is not an Object.');
		}
		// 2. Return ToBoolean(? Get(iterResult, \\"done\\")).
		return Boolean(iterResult['done']);
	}

	// 7.4.4 IteratorValue ( iterResult )
	function iteratorValue(iterResult) {
		// Assert: Type(iterResult) is Object.
		if (typeof iterResult !== 'object') {
			throw new Error(Object.prototype.toString.call(iterResult) + 'is not an Object.');
		}
		// Return ? Get(iterResult, \\"value\\").
		return iterResult.value;
	}

	// 7.4.5. IteratorStep ( iteratorRecord )
	function iteratorStep(iteratorRecord) {
		// 1. Let result be ? IteratorNext(iteratorRecord).
		var result = iteratorNext(iteratorRecord);
		// 2. Let done be ? IteratorComplete(result).
		var done = iteratorComplete(result);
		// 3. If done is true, return false.
		if (done === true) {
			return false;
		}
		// 4. Return result.
		return result;
	}

	// 7.4.6. IteratorClose ( iteratorRecord, completion )
	function iteratorClose(iteratorRecord, completion) {
		// 1. Assert: Type(iteratorRecord.[[Iterator]]) is Object.
		if (typeof iteratorRecord['[[Iterator]]'] !== 'object') {
			throw new Error(Object.prototype.toString.call(iteratorRecord['[[Iterator]]']) + 'is not an Object.');
		}
		// 2. Assert: completion is a Completion Record.
		// Polyfill.io - Ignoring this step as there is no way to check if something is a Completion Record in userland JavaScript.

		// 3. Let iterator be iteratorRecord.[[Iterator]].
		var iterator = iteratorRecord['[[Iterator]]'];
		// 4. Let return be ? GetMethod(iterator, \\"return\\").
		// Polyfill.io - We name it  returnMethod because return is a keyword and can not be used as an identifier (E.G. variable name, function name etc).
		var returnMethod = getMethod(iterator, \\"return\\");
		// 5. If return is undefined, return Completion(completion).
		if (returnMethod === undefined) {
			return completion;
		}
		// 6. Let innerResult be Call(return, iterator,  ).
		try {
			var innerResult = returnMethod.call(iterator);
		} catch (error) {
			var innerException = error;
		}
		// 7. If completion.[[Type]] is throw, return Completion(completion).
		if (completion) {
			return completion;
		}
		// 8. If innerResult.[[Type]] is throw, return Completion(innerResult).
		if (innerException) {
			throw innerException;
		}
		// 9. If Type(innerResult.[[Value]]) is not Object, throw a TypeError exception.
		if (!(typeof innerResult !== 'object')) {
			throw new TypeError(\\"Iterator's return method returned a non-object.\\");
		}
		// 10. Return Completion(completion).
		return completion;
	}

	// 7.4.7. CreateIterResultObject ( value, done )
	function createIterResultObject(value, done) {
		// 1. Assert: Type(done) is Boolean.
		if (typeof done !== 'boolean') {
			throw new Error();
		}
		// 2. Let obj be ObjectCreate(%ObjectPrototype%).
		var obj = {};
		// 3. Perform CreateDataProperty(obj, \\"value\\", value).
		obj.value = value;
		// 4. Perform CreateDataProperty(obj, \\"done\\", done).
		obj.done = done;
		// 5. Return obj.
		return obj;
	}
	// 9.1.13. OrdinaryCreateFromConstructor ( constructor, intrinsicDefaultProto [ , internalSlotsList ] )
	var ordinaryCreateFromConstructor = function (constructor, intrinsicDefaultProto) { // eslint-disable-line no-unused-vars
		var internalSlotsList = arguments[2] || {};
		/*
			1. Assert: intrinsicDefaultProto is a String value that is this specification's name of an intrinsic object.
			The corresponding object must be an intrinsic that is intended to be used as the[[Prototype]] value of an object.
		*/
		// Polyfill.io - We ignore the above step and instead pass the intrinsic directly.

		// 2. Let proto be ? GetPrototypeFromConstructor(constructor, intrinsicDefaultProto).
		// Polyfill.io - We ignore the above step and always use the prototype of the constructor.
		var proto = Object.getPrototypeOf(constructor);

		// 3. Return ObjectCreate(proto, internalSlotsList).
		// Polyfill.io - We do not pass internalSlotsList to Object.create because Object.create does use the default ordinary object definitions specified in 9.1.
		var obj = Object.create(proto);
		for (var name in internalSlotsList) {
			if (Object.prototype.hasOwnProperty.call(internalSlotsList, name)) {
				Object.defineProperty(obj, name, {
					configurable: true,
					enumerable: false,
					writable: true,
					value: internalSlotsList[name]
				});
			}
		}
		return obj;
	};

	// Deleted map items mess with iterator pointers, so rather than removing them mark them as deleted. Can't use undefined or null since those both valid keys so use a private symbol.
	var undefMarker = Symbol('undef');

	var supportsGetters = (function () {
		try {
			var a = {};
			Object.defineProperty(a, 't', {
				configurable: true,
				enumerable: false,
				get: function () {
					return true;
				},
				set: undefined
			});
			return !!a.t;
		} catch (e) {
			return false;
		}
	}());

	var isCallable = function (fn) {
		return typeof fn === 'function';
	};

	// 23.1.1.1 Map ( [ iterable ] )
	var Map = function Map(/* iterable */) {
		// 1. If NewTarget is undefined, throw a TypeError exception.
		if (!(this instanceof Map)) {
			throw new TypeError('Constructor Map requires \\"new\\"');
		}
		// 2. Let map be ? OrdinaryCreateFromConstructor(NewTarget, \\"%MapPrototype%\\",  [[MapData]] ).
		var map = ordinaryCreateFromConstructor(this, \\"%MapPrototype%\\", {
			_keys: [],
			_values: [],
			_size: 0,
			_es6Map: true
		});

		// 3. Set map.[[MapData]] to a new empty List.
		// Polyfill.io - This step was done as part of step two.

		// Some old engines do not support ES5 getters/setters.  Since Map only requires these for the size property, we can fall back to setting the size property statically each time the size of the map changes.
		if (!supportsGetters) {
			Object.defineProperty(map, 'size', {
				configurable: true,
				enumerable: false,
				writable: true,
				value: 0
			});
		}

		// 4. If iterable is not present, let iterable be undefined.
		var iterable = arguments[0] || undefined;

		// 5. If iterable is either undefined or null, return map.
		if (iterable === null || iterable === undefined) {
			return map;
		}

		// 6. Let adder be ? Get(map, \\"set\\").
		var adder = map.set;

		// 7. If IsCallable(adder) is false, throw a TypeError exception.
		if (!isCallable(adder)) {
			throw new TypeError(\\"Map.prototype.set is not a function\\");
		}

		// 8. Let iteratorRecord be ? GetIterator(iterable).
		try {
			var iteratorRecord = getIterator(iterable);
			// 9. Repeat,
			while (true) {
				// a. Let next be ? IteratorStep(iteratorRecord).
				var next = iteratorStep(iteratorRecord);
				// b. If next is false, return map.
				if (next === false) {
					return map;
				}
				// c. Let nextItem be ? IteratorValue(next).
				var nextItem = iteratorValue(next);
				// d. If Type(nextItem) is not Object, then
				if (typeof nextItem !== 'object') {
					// i. Let error be Completion{[[Type]]: throw, [[Value]]: a newly created TypeError object, [[Target]]: empty}.
					try {
						throw new TypeError('Iterator value ' + nextItem + ' is not an entry object');
					} catch (error) {
						// ii. Return ? IteratorClose(iteratorRecord, error).
						return iteratorClose(iteratorRecord, error);
					}
				}
				try {
					// Polyfill.io - The try catch accounts for steps: f, h, and j.

					// e. Let k be Get(nextItem, \\"0\\").
					var k = nextItem[0];
					// f. If k is an abrupt completion, return ? IteratorClose(iteratorRecord, k).
					// g. Let v be Get(nextItem, \\"1\\").
					var v = nextItem[1];
					// h. If v is an abrupt completion, return ? IteratorClose(iteratorRecord, v).
					// i. Let status be Call(adder, map,  k.[[Value]], v.[[Value]] ).
					adder.call(map, k, v);
				} catch (e) {
					// j. If status is an abrupt completion, return ? IteratorClose(iteratorRecord, status).
					return iteratorClose(iteratorRecord, e);
				}
			}
		} catch (e) {
			// Polyfill.io - For user agents which do not have iteration methods on argument objects or arrays, we can special case those.
			if (Array.isArray(iterable) ||
				Object.prototype.toString.call(iterable) === '[object Arguments]' ||
				// IE 7 & IE 8 return '[object Object]' for the arguments object, we can detect by checking for the existence of the callee property
				(!!iterable.callee)) {
				var index;
				var length = iterable.length;
				for (index = 0; index < length; index++) {
					adder.call(map, iterable[index][0], iterable[index][1]);
				}
			}
		}
		return map;
	};

	// 23.1.2.1. Map.prototype
	// The initial value of Map.prototype is the intrinsic object %MapPrototype%.
	// This property has the attributes { [[Writable]]: false, [[Enumerable]]: false, [[Configurable]]: false }.
	Object.defineProperty(Map, 'prototype', {
		configurable: false,
		enumerable: false,
		writable: false,
		value: {}
	});

	// 23.1.2.2 get Map [ @@species ]
	if (supportsGetters) {
		Object.defineProperty(Map, Symbol.species, {
			configurable: true,
			enumerable: false,
			get: function () {
				// 1. Return the this value.
				return this;
			},
			set: undefined
		});
	} else {
		Object.defineProperty(Map, Symbol.species, {
			configurable: true,
			enumerable: false,
			writable: true,
			value: Map
		});
	}

	// 23.1.3.1 Map.prototype.clear ( )
	Object.defineProperty(Map.prototype, 'clear', {
		configurable: true,
		enumerable: false,
		writable: true,
		value: function clear() {
			// 1. Let M be the this value.
			var M = this;
			// 2. If Type(M) is not Object, throw a TypeError exception.
			if (typeof M !== 'object') {
				throw new TypeError('Method Map.prototype.clear called on incompatible receiver ' + Object.prototype.toString.call(M));
			}
			// 3. If M does not have a [[MapData]] internal slot, throw a TypeError exception.
			if (M._es6Map !== true) {
				throw new TypeError('Method Map.prototype.clear called on incompatible receiver ' + Object.prototype.toString.call(M));
			}
			// 4. Let entries be the List that is M.[[MapData]].
			var entries = M._keys;
			// 5. For each Record {[[Key]], [[Value]]} p that is an element of entries, do
			for (var i = 0; i < entries.length; i++) {
				// 5.a. Set p.[[Key]] to empty.
				M._keys[i] = undefMarker;
				// 5.b. Set p.[[Value]] to empty.
				M._values[i] = undefMarker;
			}
			this._size = 0;
			if (!supportsGetters) {
				this.size = this._size;
			}
			// 6. Return undefined.
			return undefined;
		}
	});

	// 23.1.3.2. Map.prototype.constructor
	Object.defineProperty(Map.prototype, 'constructor', {
		configurable: true,
		enumerable: false,
		writable: true,
		value: Map
	});

	// 23.1.3.3. Map.prototype.delete ( key )
	Object.defineProperty(Map.prototype, 'delete', {
		configurable: true,
		enumerable: false,
		writable: true,
		value: function (key) {
			// 1. Let M be the this value.
			var M = this;
			// 2. If Type(M) is not Object, throw a TypeError exception.
			if (typeof M !== 'object') {
				throw new TypeError('Method Map.prototype.clear called on incompatible receiver ' + Object.prototype.toString.call(M));
			}
			// 3. If M does not have a [[MapData]] internal slot, throw a TypeError exception.
			if (M._es6Map !== true) {
				throw new TypeError('Method Map.prototype.clear called on incompatible receiver ' + Object.prototype.toString.call(M));
			}
			// 4. Let entries be the List that is M.[[MapData]].
			var entries = M._keys;
			// 5. For each Record {[[Key]], [[Value]]} p that is an element of entries, do
			for (var i = 0; i < entries.length; i++) {
				// a. If p.[[Key]] is not empty and SameValueZero(p.[[Key]], key) is true, then
				if (M._keys[i] !== undefMarker && sameValueZero(M._keys[i], key)) {
					// i. Set p.[[Key]] to empty.
					this._keys[i] = undefMarker;
					// ii. Set p.[[Value]] to empty.
					this._values[i] = undefMarker;
					--this._size;
					if (!supportsGetters) {
						this.size = this._size;
					}
					// iii. Return true.
					return true;
				}
			}
			// 6. Return false.
			return false;
		}
	});

	// 23.1.3.4. Map.prototype.entries ( )
	Object.defineProperty(Map.prototype, 'entries', {
		configurable: true,
		enumerable: false,
		writable: true,
		value: function entries () {
			// 1. Let M be the this value.
			var M = this;
			// 2. Return ? CreateMapIterator(M, \\"key+value\\").
			return createMapIterator(M, 'key+value');
		}
	});

	// 23.1.3.5. Map.prototype.forEach ( callbackfn [ , thisArg ] )
	Object.defineProperty(Map.prototype, 'forEach', {
		configurable: true,
		enumerable: false,
		writable: true,
		value: function (callbackFn) {
			// 1. Let M be the this value.
			var M = this;
			// 2. If Type(M) is not Object, throw a TypeError exception.
			if (typeof M !== 'object') {
				throw new TypeError('Method Map.prototype.forEach called on incompatible receiver ' + Object.prototype.toString.call(M));
			}
			// 3. If M does not have a [[MapData]] internal slot, throw a TypeError exception.
			if (M._es6Map !== true) {
				throw new TypeError('Method Map.prototype.forEach called on incompatible receiver ' + Object.prototype.toString.call(M));
			}
			// 4. If IsCallable(callbackfn) is false, throw a TypeError exception.
			if (!isCallable(callbackFn)) {
				throw new TypeError(Object.prototype.toString.call(callbackFn) + ' is not a function.');
			}
			// 5. If thisArg is present, let T be thisArg; else let T be undefined.
			if (arguments[1]) {
				var T = arguments[1];
			}
			// 6. Let entries be the List that is M.[[MapData]].
			var entries = M._keys;
			// 7. For each Record {[[Key]], [[Value]]} e that is an element of entries, in original key insertion order, do
			for (var i = 0; i < entries.length; i++) {
				// a. If e.[[Key]] is not empty, then
				if (M._keys[i] !== undefMarker && M._values[i] !== undefMarker ) {
					// i. Perform ? Call(callbackfn, T,  e.[[Value]], e.[[Key]], M ).
					callbackFn.call(T, M._values[i], M._keys[i], M);
				}
			}
			// 8. Return undefined.
			return undefined;
		}
	});

	// 23.1.3.6. Map.prototype.get ( key )
	Object.defineProperty(Map.prototype, 'get', {
		configurable: true,
		enumerable: false,
		writable: true,
		value: function get(key) {
			// 1. Let M be the this value.
			var M = this;
			// 2. If Type(M) is not Object, throw a TypeError exception.
			if (typeof M !== 'object') {
				throw new TypeError('Method Map.prototype.get called on incompatible receiver ' + Object.prototype.toString.call(M));
			}
			// 3. If M does not have a [[MapData]] internal slot, throw a TypeError exception.
			if (M._es6Map !== true) {
				throw new TypeError('Method Map.prototype.get called on incompatible receiver ' + Object.prototype.toString.call(M));
			}
			// 4. Let entries be the List that is M.[[MapData]].
			var entries = M._keys;
			// 5. For each Record {[[Key]], [[Value]]} p that is an element of entries, do
			for (var i = 0; i < entries.length; i++) {
				// a. If p.[[Key]] is not empty and SameValueZero(p.[[Key]], key) is true, return p.[[Value]].
				if (M._keys[i] !== undefMarker && sameValueZero(M._keys[i], key)) {
					return M._values[i];
				}
			}
			// 6. Return undefined.
			return undefined;
		}
	});

	// 23.1.3.7. Map.prototype.has ( key )
	Object.defineProperty(Map.prototype, 'has', {
		configurable: true,
		enumerable: false,
		writable: true,
		value: function has (key) {
			// 1. Let M be the this value.
			var M = this;
			// 2. If Type(M) is not Object, throw a TypeError exception.
			if (typeof M !== 'object') {
				throw new TypeError('Method Map.prototype.has called on incompatible receiver ' + Object.prototype.toString.call(M));
			}
			// 3. If M does not have a [[MapData]] internal slot, throw a TypeError exception.
			if (M._es6Map !== true) {
				throw new TypeError('Method Map.prototype.has called on incompatible receiver ' + Object.prototype.toString.call(M));
			}
			// 4. Let entries be the List that is M.[[MapData]].
			var entries = M._keys;
			// 5. For each Record {[[Key]], [[Value]]} p that is an element of entries, do
			for (var i = 0; i < entries.length; i++) {
				// a. If p.[[Key]] is not empty and SameValueZero(p.[[Key]], key) is true, return true.
				if (M._keys[i] !== undefMarker && sameValueZero(M._keys[i], key)) {
					return true;
				}
			}
			// 6. Return false.
			return false;
		}
	});

	// 23.1.3.8. Map.prototype.keys ( )
	Object.defineProperty(Map.prototype, 'keys', {
		configurable: true,
		enumerable: false,
		writable: true,
		value: function keys () {
			// 1. Let M be the this value.
			var M = this;
			// 2. Return ? CreateMapIterator(M, \\"key\\").
			return createMapIterator(M, \\"key\\");
		}
	});

	// 23.1.3.9. Map.prototype.set ( key, value )
	Object.defineProperty(Map.prototype, 'set', {
		configurable: true,
		enumerable: false,
		writable: true,
		value: function set(key, value) {
			// 1. Let M be the this value.
			var M = this;
			// 2. If Type(M) is not Object, throw a TypeError exception.
			if (typeof M !== 'object') {
				throw new TypeError('Method Map.prototype.set called on incompatible receiver ' + Object.prototype.toString.call(M));
			}
			// 3. If M does not have a [[MapData]] internal slot, throw a TypeError exception.
			if (M._es6Map !== true) {
				throw new TypeError('Method Map.prototype.set called on incompatible receiver ' + Object.prototype.toString.call(M));
			}
			// 4. Let entries be the List that is M.[[MapData]].
			var entries = M._keys;
			// 5. For each Record {[[Key]], [[Value]]} p that is an element of entries, do
			for (var i = 0; i < entries.length; i++) {
				// a. If p.[[Key]] is not empty and SameValueZero(p.[[Key]], key) is true, then
				if (M._keys[i] !== undefMarker && sameValueZero(M._keys[i], key)) {
					// i. Set p.[[Value]] to value.
					M._values[i] = value;
					// Return M.
					return M;
				}
			}
			// 6. If key is -0, let key be +0.
			if (key === -0) {
				key = 0;
			}
			// 7. Let p be the Record {[[Key]]: key, [[Value]]: value}.
			var p = {};
			p['[[Key]]'] = key;
			p['[[Value]]'] = value;
			// 8. Append p as the last element of entries.
			M._keys.push(p['[[Key]]']);
			M._values.push(p['[[Value]]']);
			++M._size;
			if (!supportsGetters) {
				M.size = M._size;
			}
			// 9. Return M.
			return M;
		}
	});

	// 23.1.3.10. get Map.prototype.size
	if (supportsGetters) {
		Object.defineProperty(Map.prototype, 'size', {
			configurable: true,
			enumerable: false,
			get: function () {
				// 1. Let M be the this value.
				var M = this;
				// 2. If Type(M) is not Object, throw a TypeError exception.
				if (typeof M !== 'object') {
					throw new TypeError('Method Map.prototype.size called on incompatible receiver ' + Object.prototype.toString.call(M));
				}
				// 3. If M does not have a [[MapData]] internal slot, throw a TypeError exception.
				if (M._es6Map !== true) {
					throw new TypeError('Method Map.prototype.size called on incompatible receiver ' + Object.prototype.toString.call(M));
				}
				// 4. Let entries be the List that is M.[[MapData]].
				var entries = M._keys;
				// 5. Let count be 0.
				var count = 0;
				// 6. For each Record {[[Key]], [[Value]]} p that is an element of entries, do
				for (var i = 0; i < entries.length; i++) {
					// a. If p.[[Key]] is not empty, set count to count+1.
					if (M._keys[i] !== undefMarker) {
						count = count + 1;
					}
				}
				// 7. Return count.
				return count;
			},
			set: undefined
		});
	}

	// 23.1.3.11. Map.prototype.values ( )
	Object.defineProperty(Map.prototype, 'values', {
		configurable: true,
		enumerable: false,
		writable: true,
		value: function values () {
			// 1. Let M be the this value.
			var M = this;
			// 2. Return ? CreateMapIterator(M, \\"value\\").
			return createMapIterator(M, 'value');
		}
	});

	// 23.1.3.12. Map.prototype [ @@iterator ] ( )
	// The initial value of the @@iterator property is the same function object as the initial value of the entries property.
	Object.defineProperty(Map.prototype, Symbol.iterator, {
		configurable: true,
		enumerable: false,
		writable: true,
		value: Map.prototype.entries
	});

	// 23.1.3.13. Map.prototype [ @@toStringTag ]
	// The initial value of the @@toStringTag property is the String value \\"Map\\".
	// This property has the attributes { [[Writable]]: false, [[Enumerable]]: false, [[Configurable]]: true }.

	// Polyfill.io - Safari 8 implements Map.name but as a non-configurable property, which means it would throw an error if we try and configure it here.
	if (!('name' in Map)) {
		// 19.2.4.2 name
		Object.defineProperty(Map, 'name', {
			configurable: true,
			enumerable: false,
			writable: false,
			value: 'Map'
		});
	}

	// 23.1.5.1. CreateMapIterator ( map, kind )
	function createMapIterator(map, kind) {
		// 1. If Type(map) is not Object, throw a TypeError exception.
		if (typeof map !== 'object') {
			throw new TypeError('createMapIterator called on incompatible receiver ' + Object.prototype.toString.call(map));
		}
		// 2. If map does not have a [[MapData]] internal slot, throw a TypeError exception.
		if (map._es6Map !== true) {
			throw new TypeError('createMapIterator called on incompatible receiver ' + Object.prototype.toString.call(map));
		}
		// 3. Let iterator be ObjectCreate(%MapIteratorPrototype%,  [[Map]], [[MapNextIndex]], [[MapIterationKind]] ).
		var iterator = Object.create(MapIteratorPrototype);
		// 4. Set iterator.[[Map]] to map.
		Object.defineProperty(iterator, '[[Map]]', {
			configurable: true,
			enumerable: false,
			writable: true,
			value: map
		});
		// 5. Set iterator.[[MapNextIndex]] to 0.
		Object.defineProperty(iterator, '[[MapNextIndex]]', {
			configurable: true,
			enumerable: false,
			writable: true,
			value: 0
		});
		// 6. Set iterator.[[MapIterationKind]] to kind.
		Object.defineProperty(iterator, '[[MapIterationKind]]', {
			configurable: true,
			enumerable: false,
			writable: true,
			value: kind
		});
		// 7. Return iterator.
		return iterator;
	}

	// 23.1.5.2. The %MapIteratorPrototype% Object
	var MapIteratorPrototype = {
		// Polyfill.io - We use this as a quick way to check if an object is a Map Iterator instance.
		isMapIterator: true,
		// 23.1.5.2.1. %MapIteratorPrototype%.next ( )
		next: function next () {
			// 1. Let O be the this value.
			var O = this;
			// 2. If Type(O) is not Object, throw a TypeError exception.
			if (typeof O !== 'object') {
				throw new TypeError('Method %MapIteratorPrototype%.next called on incompatible receiver ' + Object.prototype.toString.call(O));
			}
			// 3. If O does not have all of the internal slots of a Map Iterator Instance (23.1.5.3), throw a TypeError exception.
			if (!O.isMapIterator) {
				throw new TypeError('Method %MapIteratorPrototype%.next called on incompatible receiver ' + Object.prototype.toString.call(O));
			}
			// 4. Let m be O.[[Map]].
			var m = O['[[Map]]'];
			// 5. Let index be O.[[MapNextIndex]].
			var index = O['[[MapNextIndex]]'];
			// 6. Let itemKind be O.[[MapIterationKind]].
			var itemKind = O['[[MapIterationKind]]'];
			// 7. If m is undefined, return CreateIterResultObject(undefined, true).
			if (m === undefined) {
				return createIterResultObject(undefined, true);
			}
			// 8. Assert: m has a [[MapData]] internal slot.
			if (!m._es6Map) {
				throw new Error();
			}
			// 9. Let entries be the List that is m.[[MapData]].
			var entries = m._keys;
			// 10. Let numEntries be the number of elements of entries.
			var numEntries = entries.length;
			// 11. NOTE: numEntries must be redetermined each time this method is evaluated.
			// 12. Repeat, while index is less than numEntries,
			while (index < numEntries) {
				// a. Let e be the Record {[[Key]], [[Value]]} that is the value of entries[index].
				var e = Object.create(null);
				e['[[Key]]'] = m._keys[index];
				e['[[Value]]'] = m._values[index];
				// b. Set index to index+1.
				index = index + 1;
				// c. Set O.[[MapNextIndex]] to index.
				O['[[MapNextIndex]]'] = index;
				// d. If e.[[Key]] is not empty, then
				if (e['[[Key]]'] !== undefMarker) {
					// i. If itemKind is \\"key\\", let result be e.[[Key]].
					if (itemKind === 'key') {
						var result = e['[[Key]]'];
					// ii. Else if itemKind is \\"value\\", let result be e.[[Value]].
					} else if (itemKind === 'value') {
						var result = e['[[Value]]'];
					// iii. Else,
					} else {
						// 1. Assert: itemKind is \\"key+value\\".
						if (itemKind !== 'key+value') {
							throw new Error();
						}
						// 2. Let result be CreateArrayFromList( e.[[Key]], e.[[Value]] ).
						var result = [
							e['[[Key]]'],
							e['[[Value]]']
						];
					}
					// iv. Return CreateIterResultObject(result, false).
					return createIterResultObject(result, false);
				}
			}
			// 13. Set O.[[Map]] to undefined.
			O['[[Map]]'] = undefined;
			// 14. Return CreateIterResultObject(undefined, true).
			return createIterResultObject(undefined, true);
		}

		// 23.1.5.2.2 %MapIteratorPrototype% [ @@toStringTag ]
    // The initial value of the @@toStringTag property is the String value \\"Map Iterator\\".
		// This property has the attributes { [[Writable]]: false, [[Enumerable]]: false, [[Configurable]]: true }.
	};
	Object.defineProperty(MapIteratorPrototype, Symbol.iterator, {
		configurable: true,
		enumerable: false,
		writable: true,
		value: function iterator() {
			return this;
		}
	});

	// Export the object
	try {
		Object.defineProperty(global, 'Map', {
			configurable: true,
			enumerable: false,
			writable: true,
			value: Map
		});
	} catch (e) {
		// IE8 throws an error here if we set enumerable to false.
		// More info on table 2: https://msdn.microsoft.com/en-us/library/dd229916(v=vs.85).aspx
		global['Map'] = Map;
	}
}(this));

// Node.prototype.contains
(function() {

	function contains(node) {
		if (!(0 in arguments)) {
			throw new TypeError('1 argument is required');
		}

		do {
			if (this === node) {
				return true;
			}
		} while (node = node && node.parentNode);

		return false;
	}

	// IE
	if ('HTMLElement' in this && 'contains' in HTMLElement.prototype) {
		try {
			delete HTMLElement.prototype.contains;
		} catch (e) {}
	}

	if ('Node' in this) {
		Node.prototype.contains = contains;
	} else {
		document.contains = Element.prototype.contains = contains;
	}

}());

// Promise
!function(n){function t(e){if(r[e])return r[e].exports;var o=r[e]={exports:{},id:e,loaded:!1};return n[e].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=n,t.c=r,t.p=\\"\\",t(0)}({0:/*!***********************!*\\\\
  !*** ./src/global.js ***!
  \\\\***********************/
function(n,t,r){(function(n){var t=r(/*! ./yaku */80);try{(n||{}).Promise=t,window.Promise=t}catch(err){}}).call(t,function(){return this}())},80:/*!*********************!*\\\\
  !*** ./src/yaku.js ***!
  \\\\*********************/
function(n,t){(function(t){!function(){\\"use strict\\";function r(){return un[B][G]||J}function e(n,t){for(var r in t)n[r]=t[r]}function o(n){return n&&\\"object\\"==typeof n}function i(n){return\\"function\\"==typeof n}function u(n,t){return n instanceof t}function c(n){return u(n,U)}function f(n,t,r){if(!t(n))throw v(r)}function s(){try{return C.apply(F,arguments)}catch(e){return rn.e=e,rn}}function a(n,t){return C=n,F=t,s}function l(n,t){function r(){for(var r=0;r<o;)t(e[r],e[r+1]),e[r++]=S,e[r++]=S;o=0,e.length>n&&(e.length=n)}var e=O(n),o=0;return function(n,t){e[o++]=n,e[o++]=t,2===o&&un.nextTick(r)}}function h(n,t){var r,e,o,c,f=0;if(!n)throw v(W);var s=n[un[B][D]];if(i(s))e=s.call(n);else{if(!i(n.next)){if(u(n,O)){for(r=n.length;f<r;)t(n[f],f++);return f}throw v(W)}e=n}for(;!(o=e.next()).done;)if(c=a(t)(o.value,f++),c===rn)throw i(e[K])&&e[K](),c.e;return f}function v(n){return new TypeError(n)}function _(n){return(n?\\"\\":X)+(new U).stack}function d(n,t){var r=\\"on\\"+n.toLowerCase(),e=H[r];I&&I.listeners(n).length?n===tn?I.emit(n,t._v,t):I.emit(n,t):e?e({reason:t._v,promise:t}):un[n](t._v,t)}function p(n){return n&&n._s}function w(n){if(p(n))return new n(en);var t,r,e;return t=new n(function(n,o){if(t)throw v();r=n,e=o}),f(r,i),f(e,i),t}function m(n,t){return function(r){A&&(n[Q]=_(!0)),t===q?T(n,r):k(n,t,r)}}function y(n,t,r,e){return i(r)&&(t._onFulfilled=r),i(e)&&(n[M]&&d(nn,n),t._onRejected=e),A&&(t._p=n),n[n._c++]=t,n._s!==z&&cn(n,t),t}function j(n){if(n._umark)return!0;n._umark=!0;for(var t,r=0,e=n._c;r<e;)if(t=n[r++],t._onRejected||j(t))return!0}function x(n,t){function r(n){return e.push(n.replace(/^\\\\s+|\\\\s+$/g,\\"\\"))}var e=[];return A&&(t[Q]&&r(t[Q]),function o(n){n&&N in n&&(o(n._next),r(n[N]+\\"\\"),o(n._p))}(t)),(n&&n.stack?n.stack:n)+(\\"\\\\n\\"+e.join(\\"\\\\n\\")).replace(on,\\"\\")}function g(n,t){return n(t)}function k(n,t,r){var e=0,o=n._c;if(n._s===z)for(n._s=t,n._v=r,t===$&&(A&&c(r)&&(r.longStack=x(r,n)),fn(n));e<o;)cn(n,n[e++]);return n}function T(n,t){if(t===n&&t)return k(n,$,v(Y)),n;if(t!==P&&(i(t)||o(t))){var r=a(b)(t);if(r===rn)return k(n,$,r.e),n;i(r)?(A&&p(t)&&(n._next=t),p(t)?R(n,t,r):un.nextTick(function(){R(n,t,r)})):k(n,q,t)}else k(n,q,t);return n}function b(n){return n.then}function R(n,t,r){var e=a(r,t)(function(r){t&&(t=P,T(n,r))},function(r){t&&(t=P,k(n,$,r))});e===rn&&t&&(k(n,$,e.e),t=P)}var S,C,F,P=null,E=\\"object\\"==typeof window,H=E?window:t,I=H.process,L=H.console,A=!1,O=Array,U=Error,$=1,q=2,z=3,B=\\"Symbol\\",D=\\"iterator\\",G=\\"species\\",J=B+\\"(\\"+G+\\")\\",K=\\"return\\",M=\\"_uh\\",N=\\"_pt\\",Q=\\"_st\\",V=\\"Invalid this\\",W=\\"Invalid argument\\",X=\\"\\\\nFrom previous \\",Y=\\"Chaining cycle detected for promise\\",Z=\\"Uncaught (in promise)\\",nn=\\"rejectionHandled\\",tn=\\"unhandledRejection\\",rn={e:P},en=function(){},on=/^.+\\\\/node_modules\\\\/yaku\\\\/.+\\\\n?/gm,un=n.exports=function(n){var t,r=this;if(!o(r)||r._s!==S)throw v(V);if(r._s=z,A&&(r[N]=_()),n!==en){if(!i(n))throw v(W);t=a(n)(m(r,q),m(r,$)),t===rn&&k(r,$,t.e)}};un[\\"default\\"]=un,e(un.prototype,{then:function(n,t){if(void 0===this._s)throw v();return y(this,w(un.speciesConstructor(this,un)),n,t)},\\"catch\\":function(n){return this.then(S,n)},\\"finally\\":function(n){function t(t){return un.resolve(n()).then(function(){return t})}return this.then(t,t)},_c:0,_p:P}),un.resolve=function(n){return p(n)?n:T(w(this),n)},un.reject=function(n){return k(w(this),$,n)},un.race=function(n){var t=this,r=w(t),e=function(n){k(r,q,n)},o=function(n){k(r,$,n)},i=a(h)(n,function(n){t.resolve(n).then(e,o)});return i===rn?t.reject(i.e):r},un.all=function(n){function t(n){k(o,$,n)}var r,e=this,o=w(e),i=[];return r=a(h)(n,function(n,u){e.resolve(n).then(function(n){i[u]=n,--r||k(o,q,i)},t)}),r===rn?e.reject(r.e):(r||k(o,q,[]),o)},un.Symbol=H[B]||{},a(function(){Object.defineProperty(un,r(),{get:function(){return this}})})(),un.speciesConstructor=function(n,t){var e=n.constructor;return e?e[r()]||t:t},un.unhandledRejection=function(n,t){L&&L.error(Z,A?t.longStack:x(n,t))},un.rejectionHandled=en,un.enableLongStackTrace=function(){A=!0},un.nextTick=E?function(n){setTimeout(n)}:I.nextTick,un._s=1;var cn=l(999,function(n,t){var r,e;return e=n._s!==$?t._onFulfilled:t._onRejected,e===S?void k(t,n._s,n._v):(r=a(g)(e,n._v),r===rn?void k(t,$,r.e):void T(t,r))}),fn=l(9,function(n){j(n)||(n[M]=1,d(tn,n))})}()}).call(t,function(){return this}())}});
// Set
(function(global) {


	// Deleted map items mess with iterator pointers, so rather than removing them mark them as deleted. Can't use undefined or null since those both valid keys so use a private symbol.
	var undefMarker = Symbol('undef');

	// NaN cannot be found in an array using indexOf, so we encode NaNs using a private symbol.
	var NaNMarker = Symbol('NaN');

	function encodeVal(data) {
		return Number.isNaN(data) ? NaNMarker : data;
	}
	function decodeVal(encodedData) {
		return (encodedData === NaNMarker) ? NaN : encodedData;
	}

	function makeIterator(setInst, getter) {
		var nextIdx = 0;
		return {
			next: function() {
				while (setInst._values[nextIdx] === undefMarker) nextIdx++;
				if (nextIdx === setInst._values.length) {
					return {value: void 0, done: true};
				}
				else {
					return {value: getter.call(setInst, nextIdx++), done: false};
				}
			}
		};
	}

	var Set = function Set() {
		var data = arguments[0];
		this._values = [];
		this.size = this._size = 0;

		// If \`data\` is iterable (indicated by presence of a forEach method), pre-populate the set
		data && (typeof data.forEach === 'function') && data.forEach(function (item) {
			this.add.call(this, item);
		}, this);
	};

	// Some old engines do not support ES5 getters/setters.  Since Set only requires these for the size property, we can fall back to setting the size property statically each time the size of the set changes.
	try {
		Object.defineProperty(Set.prototype, 'size', {
			get: function() {
				return this._size;
			}
		});
	} catch(e) {
	}

	Set.prototype['add'] = function(value) {
		value = encodeVal(value);
		if (this._values.indexOf(value) === -1) {
			this._values.push(value);
			this.size = ++this._size;
		}
		return this;
	};
	Set.prototype['has'] = function(value) {
		return (this._values.indexOf(encodeVal(value)) !== -1);
	};
	Set.prototype['delete'] = function(value) {
		var idx = this._values.indexOf(encodeVal(value));
		if (idx === -1) return false;
		this._values[idx] = undefMarker;
		this.size = --this._size;
		return true;
	};
	Set.prototype['clear'] = function() {
		this._values = [];
		this.size = this._size = 0;
	};
	Set.prototype[Symbol.iterator] =
	Set.prototype['values'] =
	Set.prototype['keys'] = function() {
		var iterator = makeIterator(this, function(i) { return decodeVal(this._values[i]); });
		iterator[Symbol.iterator] = this.keys.bind(this);
		return iterator;
	};
	Set.prototype['entries'] = function() {
		var iterator = makeIterator(this, function(i) { return [decodeVal(this._values[i]), decodeVal(this._values[i])]; });
		iterator[Symbol.iterator] = this.entries.bind(this);
		return iterator;
	};
	Set.prototype['forEach'] = function(callbackFn, thisArg) {
		thisArg = thisArg || global;
		var iterator = this.entries();
		var result = iterator.next();
		while (result.done === false) {
			callbackFn.call(thisArg, result.value[1], result.value[0], this);
			result = iterator.next();
		}
	};
	Set.prototype['constructor'] =
	Set.prototype[Symbol.species] = Set;

	Set.prototype.constructor = Set;
	Set.name = \\"Set\\";

	// Export the object
	global.Set = Set;

}(this));

// String.prototype.endsWith
String.prototype.endsWith = function (string) {
	var index = arguments.length < 2 ? this.length : arguments[1];
	var foundIndex = this.lastIndexOf(string);
	return foundIndex !== -1 && foundIndex === index - string.length;
};

// String.prototype.startsWith
String.prototype.startsWith = function (string) {
	var index = arguments.length < 2 ? 0 : arguments[1];

	return this.slice(index).indexOf(string) === 0;
};

// URL
// URL Polyfill
// Draft specification: https://url.spec.whatwg.org

// Notes:
// - Primarily useful for parsing URLs and modifying query parameters
// - Should work in IE8+ and everything more modern, with es5.js polyfills

(function (global) {
  'use strict';

  function isSequence(o) {
    if (!o) return false;
    if ('Symbol' in global && 'iterator' in global.Symbol &&
        typeof o[Symbol.iterator] === 'function') return true;
    if (Array.isArray(o)) return true;
    return false;
  }

  function toArray(iter) {
    return ('from' in Array) ? Array.from(iter) : Array.prototype.slice.call(iter);
  }

  (function() {

    // Browsers may have:
    // * No global URL object
    // * URL with static methods only - may have a dummy constructor
    // * URL with members except searchParams
    // * Full URL API support
    var origURL = global.URL;
    var nativeURL;
    try {
      if (origURL) {
        nativeURL = new global.URL('http://example.com');
        if ('searchParams' in nativeURL)
          return;
        if (!('href' in nativeURL))
          nativeURL = undefined;
      }
    } catch (_) {}

    // NOTE: Doesn't do the encoding/decoding dance
    function urlencoded_serialize(pairs) {
      var output = '', first = true;
      pairs.forEach(function (pair) {
        var name = encodeURIComponent(pair.name);
        var value = encodeURIComponent(pair.value);
        if (!first) output += '&';
        output += name + '=' + value;
        first = false;
      });
      return output.replace(/%20/g, '+');
    }

    // NOTE: Doesn't do the encoding/decoding dance
    function urlencoded_parse(input, isindex) {
      var sequences = input.split('&');
      if (isindex && sequences[0].indexOf('=') === -1)
        sequences[0] = '=' + sequences[0];
      var pairs = [];
      sequences.forEach(function (bytes) {
        if (bytes.length === 0) return;
        var index = bytes.indexOf('=');
        if (index !== -1) {
          var name = bytes.substring(0, index);
          var value = bytes.substring(index + 1);
        } else {
          name = bytes;
          value = '';
        }
        name = name.replace(/\\\\+/g, ' ');
        value = value.replace(/\\\\+/g, ' ');
        pairs.push({ name: name, value: value });
      });
      var output = [];
      pairs.forEach(function (pair) {
        output.push({
          name: decodeURIComponent(pair.name),
          value: decodeURIComponent(pair.value)
        });
      });
      return output;
    }

    function URLUtils(url) {
      if (nativeURL)
        return new origURL(url);
      var anchor = document.createElement('a');
      anchor.href = url;
      return anchor;
    }

    function URLSearchParams(init) {
      var $this = this;
      this._list = [];

      if (init === undefined || init === null) {
        // no-op
      } else if (init instanceof URLSearchParams) {
        // In ES6 init would be a sequence, but special case for ES5.
        this._list = urlencoded_parse(String(init));
      } else if (typeof init === 'object' && isSequence(init)) {
        toArray(init).forEach(function(e) {
          if (!isSequence(e)) throw TypeError();
          var nv = toArray(e);
          if (nv.length !== 2) throw TypeError();
          $this._list.push({name: String(nv[0]), value: String(nv[1])});
        });
      } else if (typeof init === 'object' && init) {
        Object.keys(init).forEach(function(key) {
          $this._list.push({name: String(key), value: String(init[key])});
        });
      } else {
        init = String(init);
        if (init.substring(0, 1) === '?')
          init = init.substring(1);
        this._list = urlencoded_parse(init);
      }

      this._url_object = null;
      this._setList = function (list) { if (!updating) $this._list = list; };

      var updating = false;
      this._update_steps = function() {
        if (updating) return;
        updating = true;

        if (!$this._url_object) return;

        // Partial workaround for IE issue with 'about:'
        if ($this._url_object.protocol === 'about:' &&
            $this._url_object.pathname.indexOf('?') !== -1) {
          $this._url_object.pathname = $this._url_object.pathname.split('?')[0];
        }

        $this._url_object.search = urlencoded_serialize($this._list);

        updating = false;
      };
    }


    Object.defineProperties(URLSearchParams.prototype, {
      append: {
        value: function (name, value) {
          this._list.push({ name: name, value: value });
          this._update_steps();
        }, writable: true, enumerable: true, configurable: true
      },

      'delete': {
        value: function (name) {
          for (var i = 0; i < this._list.length;) {
            if (this._list[i].name === name)
              this._list.splice(i, 1);
            else
              ++i;
          }
          this._update_steps();
        }, writable: true, enumerable: true, configurable: true
      },

      get: {
        value: function (name) {
          for (var i = 0; i < this._list.length; ++i) {
            if (this._list[i].name === name)
              return this._list[i].value;
          }
          return null;
        }, writable: true, enumerable: true, configurable: true
      },

      getAll: {
        value: function (name) {
          var result = [];
          for (var i = 0; i < this._list.length; ++i) {
            if (this._list[i].name === name)
              result.push(this._list[i].value);
          }
          return result;
        }, writable: true, enumerable: true, configurable: true
      },

      has: {
        value: function (name) {
          for (var i = 0; i < this._list.length; ++i) {
            if (this._list[i].name === name)
              return true;
          }
          return false;
        }, writable: true, enumerable: true, configurable: true
      },

      set: {
        value: function (name, value) {
          var found = false;
          for (var i = 0; i < this._list.length;) {
            if (this._list[i].name === name) {
              if (!found) {
                this._list[i].value = value;
                found = true;
                ++i;
              } else {
                this._list.splice(i, 1);
              }
            } else {
              ++i;
            }
          }

          if (!found)
            this._list.push({ name: name, value: value });

          this._update_steps();
        }, writable: true, enumerable: true, configurable: true
      },

      entries: {
        value: function() { return new Iterator(this._list, 'key+value'); },
        writable: true, enumerable: true, configurable: true
      },

      keys: {
        value: function() { return new Iterator(this._list, 'key'); },
        writable: true, enumerable: true, configurable: true
      },

      values: {
        value: function() { return new Iterator(this._list, 'value'); },
        writable: true, enumerable: true, configurable: true
      },

      forEach: {
        value: function(callback) {
          var thisArg = (arguments.length > 1) ? arguments[1] : undefined;
          this._list.forEach(function(pair, index) {
            callback.call(thisArg, pair.value, pair.name);
          });

        }, writable: true, enumerable: true, configurable: true
      },

      toString: {
        value: function () {
          return urlencoded_serialize(this._list);
        }, writable: true, enumerable: false, configurable: true
      }
    });

    function Iterator(source, kind) {
      var index = 0;
      this['next'] = function() {
        if (index >= source.length)
          return {done: true, value: undefined};
        var pair = source[index++];
        return {done: false, value:
                kind === 'key' ? pair.name :
                kind === 'value' ? pair.value :
                [pair.name, pair.value]};
      };
    }

    if ('Symbol' in global && 'iterator' in global.Symbol) {
      Object.defineProperty(URLSearchParams.prototype, global.Symbol.iterator, {
        value: URLSearchParams.prototype.entries,
        writable: true, enumerable: true, configurable: true});
      Object.defineProperty(Iterator.prototype, global.Symbol.iterator, {
        value: function() { return this; },
        writable: true, enumerable: true, configurable: true});
    }

    function URL(url, base) {
      if (!(this instanceof global.URL))
        throw new TypeError(\\"Failed to construct 'URL': Please use the 'new' operator.\\");

      if (base) {
        url = (function () {
          if (nativeURL) return new origURL(url, base).href;
          var iframe;
          try {
            var doc;
            // Use another document/base tag/anchor for relative URL resolution, if possible
            if (Object.prototype.toString.call(window.operamini) === \\"[object OperaMini]\\") {
              iframe = document.createElement('iframe');
              iframe.style.display = 'none';
              document.documentElement.appendChild(iframe);
              doc = iframe.contentWindow.document;
            } else if (document.implementation && document.implementation.createHTMLDocument) {
              doc = document.implementation.createHTMLDocument('');
            } else if (document.implementation && document.implementation.createDocument) {
              doc = document.implementation.createDocument('http://www.w3.org/1999/xhtml', 'html', null);
              doc.documentElement.appendChild(doc.createElement('head'));
              doc.documentElement.appendChild(doc.createElement('body'));
            } else if (window.ActiveXObject) {
              doc = new window.ActiveXObject('htmlfile');
              doc.write('<head><\\\\/head><body><\\\\/body>');
              doc.close();
            }

            if (!doc) throw Error('base not supported');

            var baseTag = doc.createElement('base');
            baseTag.href = base;
            doc.getElementsByTagName('head')[0].appendChild(baseTag);
            var anchor = doc.createElement('a');
            anchor.href = url;
            return anchor.href;
          } finally {
            if (iframe)
              iframe.parentNode.removeChild(iframe);
          }
        }());
      }

      // An inner object implementing URLUtils (either a native URL
      // object or an HTMLAnchorElement instance) is used to perform the
      // URL algorithms. With full ES5 getter/setter support, return a
      // regular object For IE8's limited getter/setter support, a
      // different HTMLAnchorElement is returned with properties
      // overridden

      var instance = URLUtils(url || '');

      // Detect for ES5 getter/setter support
      // (an Object.defineProperties polyfill that doesn't support getters/setters may throw)
      var ES5_GET_SET = (function() {
        if (!('defineProperties' in Object)) return false;
        try {
          var obj = {};
          Object.defineProperties(obj, { prop: { 'get': function () { return true; } } });
          return obj.prop;
        } catch (_) {
          return false;
        }
      })();

      var self = ES5_GET_SET ? this : document.createElement('a');



      var query_object = new URLSearchParams(
        instance.search ? instance.search.substring(1) : null);
      query_object._url_object = self;

      Object.defineProperties(self, {
        href: {
          get: function () { return instance.href; },
          set: function (v) { instance.href = v; tidy_instance(); update_steps(); },
          enumerable: true, configurable: true
        },
        origin: {
          get: function () {
            if ('origin' in instance) return instance.origin;
            return this.protocol + '//' + this.host;
          },
          enumerable: true, configurable: true
        },
        protocol: {
          get: function () { return instance.protocol; },
          set: function (v) { instance.protocol = v; },
          enumerable: true, configurable: true
        },
        username: {
          get: function () { return instance.username; },
          set: function (v) { instance.username = v; },
          enumerable: true, configurable: true
        },
        password: {
          get: function () { return instance.password; },
          set: function (v) { instance.password = v; },
          enumerable: true, configurable: true
        },
        host: {
          get: function () {
            // IE returns default port in |host|
            var re = {'http:': /:80$/, 'https:': /:443$/, 'ftp:': /:21$/}[instance.protocol];
            return re ? instance.host.replace(re, '') : instance.host;
          },
          set: function (v) { instance.host = v; },
          enumerable: true, configurable: true
        },
        hostname: {
          get: function () { return instance.hostname; },
          set: function (v) { instance.hostname = v; },
          enumerable: true, configurable: true
        },
        port: {
          get: function () { return instance.port; },
          set: function (v) { instance.port = v; },
          enumerable: true, configurable: true
        },
        pathname: {
          get: function () {
            // IE does not include leading '/' in |pathname|
            if (instance.pathname.charAt(0) !== '/') return '/' + instance.pathname;
            return instance.pathname;
          },
          set: function (v) { instance.pathname = v; },
          enumerable: true, configurable: true
        },
        search: {
          get: function () { return instance.search; },
          set: function (v) {
            if (instance.search === v) return;
            instance.search = v; tidy_instance(); update_steps();
          },
          enumerable: true, configurable: true
        },
        searchParams: {
          get: function () { return query_object; },
          enumerable: true, configurable: true
        },
        hash: {
          get: function () { return instance.hash; },
          set: function (v) { instance.hash = v; tidy_instance(); },
          enumerable: true, configurable: true
        },
        toString: {
          value: function() { return instance.toString(); },
          enumerable: false, configurable: true
        },
        valueOf: {
          value: function() { return instance.valueOf(); },
          enumerable: false, configurable: true
        }
      });

      function tidy_instance() {
        var href = instance.href.replace(/#$|\\\\?$|\\\\?(?=#)/g, '');
        if (instance.href !== href)
          instance.href = href;
      }

      function update_steps() {
        query_object._setList(instance.search ? urlencoded_parse(instance.search.substring(1)) : []);
        query_object._update_steps();
      };

      return self;
    }

    if (origURL) {
      for (var i in origURL) {
        if (origURL.hasOwnProperty(i) && typeof origURL[i] === 'function')
          URL[i] = origURL[i];
      }
    }

    global.URL = URL;
    global.URLSearchParams = URLSearchParams;
  }());

  // Patch native URLSearchParams constructor to handle sequences/records
  // if necessary.
  (function() {
    if (new global.URLSearchParams([['a', 1]]).get('a') === '1' &&
        new global.URLSearchParams({a: 1}).get('a') === '1')
      return;
    var orig = global.URLSearchParams;
    global.URLSearchParams = function(init) {
      if (init && typeof init === 'object' && isSequence(init)) {
        var o = new orig();
        toArray(init).forEach(function(e) {
          if (!isSequence(e)) throw TypeError();
          var nv = toArray(e);
          if (nv.length !== 2) throw TypeError();
          o.append(nv[0], nv[1]);
        });
        return o;
      } else if (init && typeof init === 'object') {
        o = new orig();
        Object.keys(init).forEach(function(key) {
          o.set(key, init[key]);
        });
        return o;
      } else {
        return new orig(init);
      }
    };
  }());

}(self));

// Array.prototype.@@iterator
/* global Symbol, ArrayIterator*/
Array.prototype[Symbol.iterator] = function values () {
	return new ArrayIterator(this);
};

// Array.prototype.copyWithin
(function () {

	function hasProperty(o, p) {
    while (o) {
			if (Object.prototype.hasOwnProperty.call(o, p)) {
				return true;
			}
			if (typeof o !== 'object') {
				return false;
			}
      o = Object.getPrototypeOf(o);
    }
    return false;
  }

	function toInteger(n) {
		n = Number(n);
		if (isNaN(n)) {
			return 0;
		}
		if (n === 0 || n === Infinity || n === -Infinity) {
			return n;
		} else {
			return ((n < 0) ? -1 : 1) * Math.floor(Math.abs(n));
		}
	}

	Object.defineProperty(Array.prototype, 'copyWithin', {
		configurable: true,
		enumerable: false,
		writable: true,
		// 22.1.3.3 Array.prototype.copyWithin ( target, start [ , end ] )
		value: function (target, start/*, end*/) {
			var end = arguments[2];

			// 22.1.3.3.1 Let O be ? ToObject(this value).
			if (this === null || this === undefined) {
				throw new TypeError('Cannot call method on ' + this);
			}

			var o = Object(this);

			// 22.1.3.3.2 Let len be ? ToLength(? Get(O, \\"length\\")).
			var len = toInteger(o.length);
			if (len <= 0) {
				len = 0;
			}
			if (len === Infinity) {
				len = Math.pow(2, 53) - 1;
			} else {
				len = Math.min(len, Math.pow(2, 53) - 1);
			}
			len = Math.max(len, 0);

			// 22.1.3.3.3 Let relativeTarget be ? ToInteger(target).
			var relativeTarget = toInteger(target);

			// 22.1.3.3.4 If relativeTarget < 0, let to be max((len + relativeTarget), 0); else let to be min(relativeTarget, len).
			var to;
			if (relativeTarget < 0) {
				to = Math.max(len + relativeTarget, 0);
			} else {
				to = Math.min(relativeTarget, len);
			}

			// 22.1.3.3.5 Let relativeStart be ? ToInteger(start).
			var relativeStart = toInteger(start);

			// 22.1.3.3.6 If relativeStart < 0, let from be max((len + relativeStart), 0); else let from be min(relativeStart, len).
			var from;
			if (relativeStart < 0) {
				from = Math.max(len + relativeStart, 0);
			} else {
				from = Math.min(relativeStart, len);
			}

			// 22.1.3.3.7 If end is undefined, let relativeEnd be len; else let relativeEnd be ? ToInteger(end).
			var relativeEnd;
			if (end === undefined) {
				relativeEnd = len;
			} else {
				relativeEnd = toInteger(end);
			}

			// 22.1.3.3.8 If relativeEnd < 0, let final be max((len + relativeEnd), 0); else let final be min(relativeEnd, len).
			var final;
			if (relativeEnd < 0) {
				final = Math.max(len + relativeEnd, 0);
			} else {
				final = Math.min(relativeEnd, len);
			}

			// 22.1.3.3.9 Let count be min(final-from, len-to).
			var count = Math.min(final - from, len - to);

			// 22.1.3.3.10 If from<to and to<from+count, then
			var direction;
			if (from < to && to < from + count) {
				// 22.1.3.3.10.a Let direction be -1.
				direction = -1;

				// 22.1.3.3.10.b Let from be from + count - 1.
				from = from + count - 1;

				// 22.1.3.3.10.c Let to be to + count - 1.
				to = to + count - 1;
			} else {
				// 22.1.3.3.11 Else,
				// 22.1.3.3.11.a Let direction be 1.
				direction = 1;
			}

			// 22.1.3.3.12 Repeat, while count > 0
			while (count > 0) {
				// 22.1.3.3.12.a Let fromKey be ! ToString(from).
				var fromKey = String(from);
				// 22.1.3.3.12.b Let toKey be ! ToString(to).
				var toKey = String(to);
				// 22.1.3.3.12.c Let fromPresent be ? HasProperty(O, fromKey).
				var fromPresent = hasProperty(o, fromKey);
				// 22.1.3.3.12.d If fromPresent is true, then
				if (fromPresent) {
					// 22.1.3.3.12.d.i Let fromVal be ? Get(O, fromKey).
					var fromVal = o[fromKey];
					// 22.1.3.3.12.d.ii Perform ? Set(O, toKey, fromVal, true).
					o[toKey] = fromVal;
				} else {
					// 22.1.3.3.12.e Else fromPresent is false,
					// 22.1.3.3.12.e.i Perform ? DeletePropertyOrThrow(O, toKey).
					delete o[toKey];
				}
				// 22.1.3.3.12.f Let from be from + direction.
				from = from + direction;
				// 22.1.3.3.12.g Let to be to + direction.
				to = to + direction;
				// 22.1.3.3.12.h Let count be count - 1.
				count = count - 1;
			}
			// 22.1.3.3.13 Return O.
			return o;
		}
	});
}());


// Array.prototype.entries
Object.defineProperty(Array.prototype, 'entries', {
	value: function () {
		return new ArrayIterator(this, 'key+value');
	}
});

// Array.prototype.find
Object.defineProperty(Array.prototype, 'find', {
	configurable: true,
	value: function find(callback) {
		if (this === undefined || this === null) {
			throw new TypeError(this + ' is not an object');
		}

		if (typeof callback !== 'function') {
			throw new TypeError(callback + ' is not a function');
		}

		var
		object = Object(this),
		scope = arguments[1],
		arraylike = object instanceof String ? object.split('') : object,
		length = Math.max(Math.min(arraylike.length, 9007199254740991), 0) || 0,
		index = -1,
		element;

		while (++index < length) {
			if (index in arraylike) {
				element = arraylike[index];

				if (callback.call(scope, element, index, object)) {
					return element;
				}
			}
		}
	},
	writable: true
});

// Array.prototype.findIndex
Object.defineProperty(Array.prototype, 'findIndex', {
	configurable: true,
	value: function findIndex(callback) {
		if (this === undefined || this === null) {
			throw new TypeError(this + ' is not an object');
		}

		if (typeof callback !== 'function') {
			throw new TypeError(callback + ' is not a function');
		}

		var
		object = Object(this),
		scope = arguments[1],
		arraylike = object instanceof String ? object.split('') : object,
		length = Math.max(Math.min(arraylike.length, 9007199254740991), 0) || 0,
		index = -1;

		while (++index < length) {
			if (index in arraylike) {
				if (callback.call(scope, arraylike[index], index, object)) {
					return index;
				}
			}
		}

		return -1;
	},
	writable: true
});

// Array.prototype.keys
/* global ArrayIterator*/
Object.defineProperty(Array.prototype, 'keys', {
	value: function () {
		return new ArrayIterator(this, 'key');
	}
});

// Array.prototype.values
/* global Symbol */
Object.defineProperty(Array.prototype, 'values', {
	value: Array.prototype[Symbol.iterator],
	enumerable: false,
	writable: false
});

// Function.name
(function () {

	var
	accessorName = 'name',
	fnNameMatchRegex = /^\\\\s*function\\\\s+([^\\\\(\\\\s]*)\\\\s*/,
	$Function = Function,
	FunctionName = 'Function',
	FunctionProto = $Function.prototype,
	FunctionProtoCtor = FunctionProto.constructor,

	getFunctionName = function(fn) {
		var match, name;

		if (fn === $Function || fn === FunctionProtoCtor) {
			name = FunctionName;
		}
		else if (fn !== FunctionProto) {
			match = ('' + fn).match(fnNameMatchRegex);
			name = match && match[1];
		}
		return name || '';
	};


	Object.defineProperty(FunctionProto, accessorName, {
		get: function Function$name() {
			var
			fn = this,
			fnName = getFunctionName(fn);

			// Since named function definitions have immutable names, also memoize the
			// output by defining the \`name\` property directly on this Function
			// instance so the accessor function will not need to be invoked again.
			if (fn !== FunctionProto) {
				Object.defineProperty(fn, accessorName, {
					value: fnName,
					configurable: true
				});
			}

			return fnName;
		},
		configurable: true
	});

}());

// Math.acosh
Math.acosh = function (x) {
  return Math.log(x + Math.sqrt(x * x - 1));
};
// Math.asinh
Math.asinh = function asinh(x) {
	return x === -Infinity ? x : Math.log(x + Math.sqrt(x * x + 1));
};

// Math.atanh
Math.atanh = function atanh(x) {
	return Math.log((1 + x) / (1 - x)) / 2;
};

// Math.cbrt
Math.cbrt = function cbrt(x) {
	var y = Math.pow(Math.abs(x), 1 / 3);

	return x < 0 ? -y : y;
};

// Math.clz32
Math.clz32 = function clz32(x) {
	var value = Number(x) >>> 0;

	return value ? 32 - value.toString(2).length : 32;
};

// Math.cosh
Math.cosh = function cosh(x) {
	var y = Math.exp(x);

	return (y + 1 / y) / 2;
};

// Math.expm1
Math.expm1 = function expm1(x) {
	return Math.exp(x) - 1;
};

// Math.hypot
Math.hypot = function hypot() {
	var args = arguments, index = -1, y = 0;

	while (++index in args && Math.abs(y) !== Infinity) {
		y += args[index] * args[index];
	}

	return Math.abs(y) === Infinity ? Infinity : Math.sqrt(y);
};

// Math.imul
Math.imul = function imul(a, b) {
	var
	ah = (a >>> 16) & 0xffff,
	al = a & 0xffff,
	bh = (b >>> 16) & 0xffff,
	bl = b & 0xffff;

	return ((al * bl) + (((ah * bl + al * bh) << 16) >>> 0) | 0);
};

// Math.log10
Math.log10 = function log10(x) {
	return Math.log(x) / Math.LN10;
};

// Math.log1p
Math.log1p = function log1p(x) {
	return Math.log(1 + x);
};

// Math.log2
Math.log2 = function log2(x) {
	return Math.log(x) / Math.LN2;
};

// Math.sign
Math.sign = function sign(x) {
	return !(x = Number(x)) ? x : x > 0 ? 1 : -1;
};

// Math.sinh
Math.sinh = function sinh(x) {
	var y = Math.exp(x);

	return (y - 1 / y) / 2;
};

// Math.tanh
Math.tanh = function tanh(x) {
	var y;

	return x === Infinity ? 1 : x === -Infinity ? -1 : (y = Math.exp(2 * x), (y - 1) / (y + 1));
};

// Math.trunc
Math.trunc = function trunc(x) {
	return x < 0 ? Math.ceil(x) : Math.floor(x);
};

// Number.Epsilon
Object.defineProperty(Number, 'EPSILON', {
	enumerable: false,
	configurable: false,
	writable: false,
	value: Math.pow(2, -52)
});

// Number.MAX_SAFE_INTEGER
Number.MAX_SAFE_INTEGER = Math.pow(2, 53) - 1;

// Number.MIN_SAFE_INTEGER
Number.MIN_SAFE_INTEGER = -(Math.pow(2, 53) - 1);

// Number.isInteger
Number.isInteger = Number.isInteger || function (value) {
	return typeof value === \\"number\\" &&
		isFinite(value) &&
		Math.floor(value) === value;
};

// Number.isSafeInteger
Object.defineProperty(Number, 'isSafeInteger', {
	enumerable: false,
	configurable: true,
	writable: true,
	value: function (number) {
		if (typeof number !== 'number') {
			return false;
		}
		if (isNaN(number) || number === +Infinity || number === -Infinity) {
			return false;
		}
		var integer = parseInt(number, 10);
		if (integer !== number) return false;
		if (Math.abs(integer) <= (Math.pow(2, 53) - 1)) {
			return true;
		}
		return false;
	}
});

// Number.parseFloat
Number.parseFloat = Number.parseFloat || parseFloat;

// Number.parseInt
Number.parseInt = Number.parseInt || parseInt;

// Object.is
Object.is = function is(a, b) {
	return (a === b && (a !== 0 || 1 / a === 1 / b)) || (a !== a && b !== b);
};

// RegExp.prototype.flags
Object.defineProperty(RegExp.prototype, 'flags', {
	configurable: true,
	enumerable: false,
	get: function () {
		// 21.2.5.3.1 Let R be the this value.
		var r = this;

		// 21.2.5.3.2 If Type(R) is not Object, throw a TypeError exception.
		if (typeof r !== 'object') {
			throw new TypeError('Method called on incompatible type: must be an object.');
		}
		// 21.2.5.3.3 Let result be the empty String.
		var result = '';

		// 21.2.5.3.4 Let global be ToBoolean(? Get(R, \\"global\\")).
		var global = !!r.global;

		// 21.2.5.3.5 If global is true, append the code unit 0x0067 (LATIN SMALL LETTER G) as the last code unit of result.
		if (global) {
			result += 'g';
		}

		// 21.2.5.3.6 Let ignoreCase be ToBoolean(? Get(R, \\"ignoreCase\\")).
		var ignoreCase = !!r.ignoreCase;

		// 21.2.5.3.7 If ignoreCase is true, append the code unit 0x0069 (LATIN SMALL LETTER I) as the last code unit of result.
		if (ignoreCase) {
			result += 'i';
		}

		// 21.2.5.3.8 Let multiline be ToBoolean(? Get(R, \\"multiline\\")).
		var multiline = !!r.multiline;

		// 21.2.5.3.9 If multiline is true, append the code unit 0x006D (LATIN SMALL LETTER M) as the last code unit of result.
		if (multiline) {
			result += 'm';
		}

		// 21.2.5.3.10 Let unicode be ToBoolean(? Get(R, \\"unicode\\")).
		var unicode = !!r.unicode;

		// 21.2.5.3.11 If unicode is true, append the code unit 0x0075 (LATIN SMALL LETTER U) as the last code unit of result.
		if (unicode) {
			result += 'u';
		}

		// 21.2.5.3.12 Let sticky be ToBoolean(? Get(R, \\"sticky\\")).
		var sticky = !!sticky;

		// 21.2.5.3.13 If sticky is true, append the code unit 0x0079 (LATIN SMALL LETTER Y) as the last code unit of result.
		if (sticky) {
			result += 'y';
		}

		// 21.2.5.3.14 Return result.
		return result;
	}
});

// _StringIterator
// A modification of https://github.com/medikoo/es6-iterator
// Copyright (C) 2013-2015 Mariusz Nowak (www.medikoo.com)

/* global Iterator */

var StringIterator = (function() { // eslint-disable-line no-unused-vars

	var StringIterator = function (str) {
		if (!(this instanceof StringIterator)) return new StringIterator(str);
		str = String(str);
		Iterator.call(this, str);
		Object.defineProperty(this, '__length__', {
			value: str.length,
			configurable: false,
			enumerable: false,
			writable: false
		});
	};
	if (Object.setPrototypeOf) Object.setPrototypeOf(StringIterator, Iterator);

	StringIterator.prototype = Object.create(Iterator.prototype, {
		constructor: {
			value: StringIterator,
			configurable: true,
			enumerable: false,
			writable: true
		},
		_next: {
			value: function() {
				if (!this.__list__) return;
				if (this.__nextIndex__ < this.__length__) return this.__nextIndex__++;
				this._unBind();
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		_resolve: {
			value: function (i) {
				var char = this.__list__[i], code;
				if (this.__nextIndex__ === this.__length__) return char;
				code = char.charCodeAt(0);
				if ((code >= 0xD800) && (code <= 0xDBFF)) return char + this.__list__[this.__nextIndex__++];
				return char;
			},
			configurable: true,
			enumerable: false,
			writable: true
		},
		toString: {
			value: function() {
				return '[object String Iterator]';
			},
			configurable: true,
			enumerable: false,
			writable: true
		}
	});

	return StringIterator;
}());

// String.prototype.@@iterator
/* global Symbol, StringIterator */
String.prototype[Symbol.iterator] = function () {
	return new StringIterator(this);
};

// String.prototype.codePointAt
(function () {
	function toInteger(n) {
		// 7.1.4.1 Let number be ? ToNumber(argument).
		n = Number(n);

		// 7.1.4.2 If number is NaN, return +0.
		if (isNaN(n)) {
			return 0;
		}

		// 7.1.4.3 If number is +0, -0, +, or -, return number.
		if (n === 0 || n === Infinity || n === -Infinity) {
			return n;
		}

		// 7.1.4.4 Return the number value that is the same sign as number and whose magnitude is floor(abs(number)).
		return ((n < 0) ? -1 : 1) * Math.floor(Math.abs(n));
	}

	Object.defineProperty(String.prototype, 'codePointAt', {
		value: function (pos) {
			// 21.1.3.3.1 Let O be ? RequireObjectCoercible(this value).
			var o;
			if (this === null || this === undefined) {
				throw new TypeError('Cannot call String.prototype.codePointAt on ' + this);
			} else {
				o = this;
			}

			// 21.1.3.3.2 Let S be ? ToString(O).
			var s = String(o);

			// 21.1.3.3.3 Let position be ? ToInteger(pos).
			var position = toInteger(pos);

			// 21.1.3.3.4 Let size be the length of S.
			var size = s.length;

			// 21.1.3.3.5 If position < 0 or position  size, return undefined.
			if (position < 0 || position >= size) return undefined;

			// 21.1.3.3.6 Let first be the numeric value of the code unit at index position within the String S.
			var first = s.charCodeAt(position);

			// 21.1.3.3.7 If first < 0xD800 or first > 0xDBFF or position+1 = size, return first.
			if (first < 0xD800 || first > 0xDBFF || position + 1 === size) return first;

			// 21.1.3.3.8 Let second be the numeric value of the code unit at index position+1 within the String S.
			var second = s.charCodeAt(position + 1);

			// 21.1.3.3.9 If second < 0xDC00 or second > 0xDFFF, return first.
			if (second < 0xDC00 || second > 0xDFFF) return first;

			// 21.1.3.3.10 Return UTF16Decode(first, second).
			return ((first - 0xD800) * 1024) + (second - 0xDC00) + 0x10000;
		}
	});
}());

// String.prototype.repeat
String.prototype.repeat = function repeat(count) {
	'use strict';

	if (this === undefined || this === null) {
		throw new TypeError(this + ' is not an object');
	}

	if (count < 0 || count === Infinity) {
		throw new RangeError(count + ' is less than zero or equal to infinity');
	}

	return new Array((parseInt(count, 10) || 0) + 1).join(this);
};

// Symbol.hasInstance
Object.defineProperty(Symbol, 'hasInstance', {value: Symbol('hasInstance')});

// Symbol.isConcatSpreadable
Object.defineProperty(Symbol, 'isConcatSpreadable', {value: Symbol('isConcatSpreadable')});

// Symbol.match
Object.defineProperty(Symbol, 'match', {value: Symbol('match')});

// Symbol.replace
Object.defineProperty(Symbol, 'replace', {value: Symbol('replace')});

// Symbol.search
Object.defineProperty(Symbol, 'search', {value: Symbol('search')});

// Symbol.split
Object.defineProperty(Symbol, 'split', {value: Symbol('split')});

// Symbol.toPrimitive
Object.defineProperty(Symbol, 'toPrimitive', {value: Symbol('toPrimitive')});

// Symbol.unscopables
Object.defineProperty(Symbol, 'unscopables', {value: Symbol('unscopables')});

// WeakMap
/**
 * @license
 *
 * Portions of this polyfill are a derivative work of the Polymer project, which requires the following licence notice:
 *
 * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */

 (function() {
	var defineProperty = Object.defineProperty;
	var counter = Date.now() % 1e9;

	var WeakMap = function WeakMap (data) {
		this.name = '__st' + (Math.random() * 1e9 >>> 0) + (counter++ + '__');

		// If data is iterable (indicated by presence of a forEach method), pre-populate the map
		data && data.forEach && data.forEach(function (item) {
			this.set.apply(this, item);
		}, this);
	};

	WeakMap.prototype[\\"set\\"] = function(key, value) {
		if (typeof key !== 'object' && typeof key !== 'function')
			throw new TypeError('Invalid value used as weak map key');

		var entry = key[this.name];
		if (entry && entry[0] === key)
			entry[1] = value;
		else
			defineProperty(key, this.name, {value: [key, value], writable: true});
		return this;
	};
	WeakMap.prototype[\\"get\\"] = function(key) {
		var entry;
		return (entry = key[this.name]) && entry[0] === key ?
				entry[1] : undefined;
	};
	WeakMap.prototype[\\"delete\\"] = function(key) {
		var entry = key[this.name];
		if (!entry || entry[0] !== key) return false;
		entry[0] = entry[1] = undefined;
		return true;
	};
	WeakMap.prototype[\\"has\\"] = function(key) {
		var entry = key[this.name];
		if (!entry) return false;
		return entry[0] === key;
	};

	WeakMap.prototype.constructor = WeakMap;
	WeakMap.name = \\"WeakMap\\";


	this.WeakMap = WeakMap;
}());

// WeakSet
/**
 * @license
 *
 * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */

(function(global) {
	var counter = Date.now() % 1e9;

	var WeakSet = function WeakSet(data) {
		this.name = '__st' + (Math.random() * 1e9 >>> 0) + (counter++ + '__');
		data && data.forEach && data.forEach(this.add, this);
	};

	WeakSet.prototype[\\"add\\"] = function(obj) {
		var name = this.name;
		if (!obj[name]) Object.defineProperty(obj, name, {value: true, writable: true});
		return this;
	};
	WeakSet.prototype[\\"delete\\"] = function(obj) {
		if (!obj[this.name]) return false;
		obj[this.name] = undefined;
		return true;
	};
	WeakSet.prototype[\\"has\\"] = function(obj) {
		return !!obj[this.name];
	};

	WeakSet.prototype.constructor = WeakSet;
	WeakSet.name = \\"WeakSet\\";

	global.WeakSet = WeakSet;
}(this));

// Array.prototype.includes
(function () {
	Object.defineProperty(Array.prototype, 'includes', {
		configurable: true,
		value: function includes (searchElement /*, fromIndex*/) {
			'use strict';
			var O = Object(this);
			var len = parseInt(O.length) || 0;
			if (len === 0) {
				return false;
			}
			var n = parseInt(arguments[1]) || 0;
			var k;
			if (n >= 0) {
				k = n;
			} else {
				k = len + n;
				if (k < 0) {
					k = 0;
				}
			}
			var currentElement;
			while (k < len) {
				currentElement = O[k];
				if (searchElement === currentElement ||
					(searchElement !== searchElement && currentElement !== currentElement)) {
					return true;
				}
				k++;
			}
			return false;
		},
		writable: true
	});
}());

// String.prototype.padEnd
(function () {
	Object.defineProperty(String.prototype, 'padEnd', {
		configurable: true,
		enumerable: false,
		value: function padEnd (targetLength) {
			targetLength = targetLength | 0;
			if (targetLength <= this.length) return String(this);
			var padString = String(arguments[1] || \\" \\");
			var repeat = Math.ceil((targetLength - this.length) / padString.length);
			while (repeat--) {
				padString += padString;
			}
			return String(this) + padString.substr(0, targetLength - this.length);
		},
		writable: true
	});
}());

// String.prototype.padStart
(function () {
	Object.defineProperty(String.prototype, 'padStart', {
		configurable: true,
		enumerable: false,
		value: function padStart (targetLength) {
			targetLength = targetLength | 0;
			if (targetLength <= this.length) return String(this);
			var padString = String(arguments[1] || \\" \\");
			var repeat = Math.ceil((targetLength - this.length) / padString.length);
			while (repeat--) {
				padString += padString;
			}
			return padString.substr(0, targetLength - this.length) + String(this);
		},
		writable: true
	});
}());
})
.call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof global && global || {});
"
`;

exports[`returns a reasonable response for Safari 9 1`] = `
"/* Polyfill service DEVELOPMENT MODE - for live use set NODE_ENV to 'production'
 * For detailed credits and licence information see https://github.com/financial-times/polyfill-service.
 * 
 * UA detected: ios_saf/9.0.0
 * Features requested: default-3.6,es6,es7
 * 
 * - _mutation, License: CC0 (required by \\"DocumentFragment.prototype.append\\", \\"default-3.6\\", \\"DocumentFragment.prototype.prepend\\", \\"Element.prototype.after\\", \\"Element.prototype.append\\", \\"Element.prototype.before\\", \\"Element.prototype.prepend\\", \\"Element.prototype.replaceWith\\")
 * - DocumentFragment.prototype.append, License: CC0 (required by \\"default-3.6\\")
 * - DocumentFragment.prototype.prepend, License: CC0 (required by \\"default-3.6\\")
 * - Element.prototype.after, License: CC0 (required by \\"default-3.6\\")
 * - Element.prototype.append, License: CC0 (required by \\"default-3.6\\")
 * - Element.prototype.before, License: CC0 (required by \\"default-3.6\\")
 * - Element.prototype.prepend, License: CC0 (required by \\"default-3.6\\")
 * - Element.prototype.replaceWith, License: CC0 (required by \\"default-3.6\\")
 * - Event.hashchange, License: CC0 (required by \\"default-3.6\\")
 * - URL, License: CC0 (required by \\"default-3.6\\")
 * - Math.clz32, License: CC0 (required by \\"es6\\")
 * - Math.sign, License: CC0 (required by \\"es6\\")
 * - Number.isSafeInteger, License: MIT (required by \\"es6\\")
 * - Object.is, License: CC0 (required by \\"es6\\")
 * - String.prototype.repeat, License: CC0 (required by \\"es6\\")
 * - Symbol.hasInstance, License: MIT (required by \\"es6\\")
 * - Symbol.isConcatSpreadable, License: MIT (required by \\"es6\\")
 * - Symbol.match, License: MIT (required by \\"es6\\")
 * - Symbol.replace, License: MIT (required by \\"es6\\")
 * - Symbol.search, License: MIT (required by \\"es6\\")
 * - Symbol.species, License: MIT (required by \\"es6\\")
 * - Symbol.split, License: MIT (required by \\"es6\\")
 * - Symbol.toPrimitive, License: MIT (required by \\"es6\\")
 * - Symbol.toStringTag, License: MIT (required by \\"es6\\")
 * - String.prototype.padEnd, License: CC0 (required by \\"es7\\")
 * - String.prototype.padStart, License: CC0 (required by \\"es7\\")
 * - Object.freeze, License: CC0 (required by \\"Symbol\\", \\"Symbol.hasInstance\\", \\"es6\\", \\"Symbol.isConcatSpreadable\\", \\"Symbol.match\\", \\"Symbol.replace\\", \\"Symbol.search\\", \\"Symbol.species\\", \\"Symbol.split\\", \\"Symbol.toPrimitive\\", \\"Symbol.toStringTag\\") */

(function(undefined) {

// _mutation
var _mutation = (function () { // eslint-disable-line no-unused-vars

	function isNode(object) {
		// DOM, Level2
		if (typeof Node === 'function') {
			return object instanceof Node;
		}
		// Older browsers, check if it looks like a Node instance)
		return object &&
			typeof object === \\"object\\" && 
			object.nodeName && 
			object.nodeType >= 1 &&
			object.nodeType <= 12;
	}

	// http://dom.spec.whatwg.org/#mutation-method-macro
	return function mutation(nodes) {
		if (nodes.length === 1) {
			return isNode(nodes[0]) ? nodes[0] : document.createTextNode(nodes[0] + '');
		}

		var fragment = document.createDocumentFragment();
		for (var i = 0; i < nodes.length; i++) {
			fragment.appendChild(isNode(nodes[i]) ? nodes[i] : document.createTextNode(nodes[i] + ''));

		}
		return fragment;
	};
}());

// DocumentFragment.prototype.append
DocumentFragment.prototype.append = function append() {
	this.appendChild(_mutation(arguments));
};

// DocumentFragment.prototype.prepend
DocumentFragment.prototype.prepend = function prepend() {
	this.insertBefore(_mutation(arguments), this.firstChild);
};

// Element.prototype.after
Document.prototype.after = Element.prototype.after = function after() {
	if (this.parentNode) {
		var args = Array.prototype.slice.call(arguments),
				viableNextSibling = this.nextSibling,
				idx = viableNextSibling ? args.indexOf(viableNextSibling) : -1;

		while (idx !== -1) {
			viableNextSibling = viableNextSibling.nextSibling;
			if (!viableNextSibling) {
				break;
			}
			idx = args.indexOf(viableNextSibling);
		}
		
		this.parentNode.insertBefore(_mutation(arguments), viableNextSibling);
	}
};

// Not all UAs support the Text constructor.  Polyfill on the Text constructor only where it exists
// TODO: Add a polyfill for the Text constructor, and make it a dependency of this polyfill.
if (\\"Text\\" in this) {
	Text.prototype.after = Element.prototype.after;
}

// Element.prototype.append
Document.prototype.append = Element.prototype.append = function append() {
	this.appendChild(_mutation(arguments));
};

// Element.prototype.before
Document.prototype.before = Element.prototype.before = function before() {
	if (this.parentNode) {
		var args = Array.prototype.slice.call(arguments),
			viablePreviousSibling = this.previousSibling,
			idx = viablePreviousSibling ? args.indexOf(viablePreviousSibling) : -1;

		while (idx !== -1) {
			viablePreviousSibling = viablePreviousSibling.previousSibling;
			if (!viablePreviousSibling) {
				break;
			}
			idx = args.indexOf(viablePreviousSibling);
		}

		this.parentNode.insertBefore(
			_mutation(arguments),
			viablePreviousSibling ? viablePreviousSibling.nextSibling : this.parentNode.firstChild
		);
	}
};

// Not all UAs support the Text constructor.  Polyfill on the Text constructor only where it exists
// TODO: Add a polyfill for the Text constructor, and make it a dependency of this polyfill.
if (\\"Text\\" in this) {
	Text.prototype.before = Element.prototype.before;
}

// Element.prototype.prepend
Document.prototype.prepend = Element.prototype.prepend = function prepend() {
	this.insertBefore(_mutation(arguments), this.firstChild);
};

// Element.prototype.replaceWith
Document.prototype.replaceWith = Element.prototype.replaceWith = function replaceWith() {
	if (this.parentNode) {
		this.parentNode.replaceChild(_mutation(arguments), this);
	}
};

// Not all UAs support the Text constructor.  Polyfill on the Text constructor only where it exists
// TODO: Add a polyfill for the Text constructor, and make it a dependency of this polyfill.
if ('Text' in this) {
	Text.prototype.replaceWith = Element.prototype.replaceWith;
}

// Event.hashchange
(function (global) {
	var hash = global.location.hash;

	function poll () {
		if (hash !== global.location.hash) {
			hash = global.location.hash;

			global.dispatchEvent(new Event('hashchange'));
		}

		setTimeout(poll, 500);
	};

	// Make sure a check for 'onhashchange' in window will pass (note: setting to undefined IE<9 causes 'Not implemented' error)
	global.onhashchange = function() {};

	poll();
}(this));

// URL
// URL Polyfill
// Draft specification: https://url.spec.whatwg.org

// Notes:
// - Primarily useful for parsing URLs and modifying query parameters
// - Should work in IE8+ and everything more modern, with es5.js polyfills

(function (global) {
  'use strict';

  function isSequence(o) {
    if (!o) return false;
    if ('Symbol' in global && 'iterator' in global.Symbol &&
        typeof o[Symbol.iterator] === 'function') return true;
    if (Array.isArray(o)) return true;
    return false;
  }

  function toArray(iter) {
    return ('from' in Array) ? Array.from(iter) : Array.prototype.slice.call(iter);
  }

  (function() {

    // Browsers may have:
    // * No global URL object
    // * URL with static methods only - may have a dummy constructor
    // * URL with members except searchParams
    // * Full URL API support
    var origURL = global.URL;
    var nativeURL;
    try {
      if (origURL) {
        nativeURL = new global.URL('http://example.com');
        if ('searchParams' in nativeURL)
          return;
        if (!('href' in nativeURL))
          nativeURL = undefined;
      }
    } catch (_) {}

    // NOTE: Doesn't do the encoding/decoding dance
    function urlencoded_serialize(pairs) {
      var output = '', first = true;
      pairs.forEach(function (pair) {
        var name = encodeURIComponent(pair.name);
        var value = encodeURIComponent(pair.value);
        if (!first) output += '&';
        output += name + '=' + value;
        first = false;
      });
      return output.replace(/%20/g, '+');
    }

    // NOTE: Doesn't do the encoding/decoding dance
    function urlencoded_parse(input, isindex) {
      var sequences = input.split('&');
      if (isindex && sequences[0].indexOf('=') === -1)
        sequences[0] = '=' + sequences[0];
      var pairs = [];
      sequences.forEach(function (bytes) {
        if (bytes.length === 0) return;
        var index = bytes.indexOf('=');
        if (index !== -1) {
          var name = bytes.substring(0, index);
          var value = bytes.substring(index + 1);
        } else {
          name = bytes;
          value = '';
        }
        name = name.replace(/\\\\+/g, ' ');
        value = value.replace(/\\\\+/g, ' ');
        pairs.push({ name: name, value: value });
      });
      var output = [];
      pairs.forEach(function (pair) {
        output.push({
          name: decodeURIComponent(pair.name),
          value: decodeURIComponent(pair.value)
        });
      });
      return output;
    }

    function URLUtils(url) {
      if (nativeURL)
        return new origURL(url);
      var anchor = document.createElement('a');
      anchor.href = url;
      return anchor;
    }

    function URLSearchParams(init) {
      var $this = this;
      this._list = [];

      if (init === undefined || init === null) {
        // no-op
      } else if (init instanceof URLSearchParams) {
        // In ES6 init would be a sequence, but special case for ES5.
        this._list = urlencoded_parse(String(init));
      } else if (typeof init === 'object' && isSequence(init)) {
        toArray(init).forEach(function(e) {
          if (!isSequence(e)) throw TypeError();
          var nv = toArray(e);
          if (nv.length !== 2) throw TypeError();
          $this._list.push({name: String(nv[0]), value: String(nv[1])});
        });
      } else if (typeof init === 'object' && init) {
        Object.keys(init).forEach(function(key) {
          $this._list.push({name: String(key), value: String(init[key])});
        });
      } else {
        init = String(init);
        if (init.substring(0, 1) === '?')
          init = init.substring(1);
        this._list = urlencoded_parse(init);
      }

      this._url_object = null;
      this._setList = function (list) { if (!updating) $this._list = list; };

      var updating = false;
      this._update_steps = function() {
        if (updating) return;
        updating = true;

        if (!$this._url_object) return;

        // Partial workaround for IE issue with 'about:'
        if ($this._url_object.protocol === 'about:' &&
            $this._url_object.pathname.indexOf('?') !== -1) {
          $this._url_object.pathname = $this._url_object.pathname.split('?')[0];
        }

        $this._url_object.search = urlencoded_serialize($this._list);

        updating = false;
      };
    }


    Object.defineProperties(URLSearchParams.prototype, {
      append: {
        value: function (name, value) {
          this._list.push({ name: name, value: value });
          this._update_steps();
        }, writable: true, enumerable: true, configurable: true
      },

      'delete': {
        value: function (name) {
          for (var i = 0; i < this._list.length;) {
            if (this._list[i].name === name)
              this._list.splice(i, 1);
            else
              ++i;
          }
          this._update_steps();
        }, writable: true, enumerable: true, configurable: true
      },

      get: {
        value: function (name) {
          for (var i = 0; i < this._list.length; ++i) {
            if (this._list[i].name === name)
              return this._list[i].value;
          }
          return null;
        }, writable: true, enumerable: true, configurable: true
      },

      getAll: {
        value: function (name) {
          var result = [];
          for (var i = 0; i < this._list.length; ++i) {
            if (this._list[i].name === name)
              result.push(this._list[i].value);
          }
          return result;
        }, writable: true, enumerable: true, configurable: true
      },

      has: {
        value: function (name) {
          for (var i = 0; i < this._list.length; ++i) {
            if (this._list[i].name === name)
              return true;
          }
          return false;
        }, writable: true, enumerable: true, configurable: true
      },

      set: {
        value: function (name, value) {
          var found = false;
          for (var i = 0; i < this._list.length;) {
            if (this._list[i].name === name) {
              if (!found) {
                this._list[i].value = value;
                found = true;
                ++i;
              } else {
                this._list.splice(i, 1);
              }
            } else {
              ++i;
            }
          }

          if (!found)
            this._list.push({ name: name, value: value });

          this._update_steps();
        }, writable: true, enumerable: true, configurable: true
      },

      entries: {
        value: function() { return new Iterator(this._list, 'key+value'); },
        writable: true, enumerable: true, configurable: true
      },

      keys: {
        value: function() { return new Iterator(this._list, 'key'); },
        writable: true, enumerable: true, configurable: true
      },

      values: {
        value: function() { return new Iterator(this._list, 'value'); },
        writable: true, enumerable: true, configurable: true
      },

      forEach: {
        value: function(callback) {
          var thisArg = (arguments.length > 1) ? arguments[1] : undefined;
          this._list.forEach(function(pair, index) {
            callback.call(thisArg, pair.value, pair.name);
          });

        }, writable: true, enumerable: true, configurable: true
      },

      toString: {
        value: function () {
          return urlencoded_serialize(this._list);
        }, writable: true, enumerable: false, configurable: true
      }
    });

    function Iterator(source, kind) {
      var index = 0;
      this['next'] = function() {
        if (index >= source.length)
          return {done: true, value: undefined};
        var pair = source[index++];
        return {done: false, value:
                kind === 'key' ? pair.name :
                kind === 'value' ? pair.value :
                [pair.name, pair.value]};
      };
    }

    if ('Symbol' in global && 'iterator' in global.Symbol) {
      Object.defineProperty(URLSearchParams.prototype, global.Symbol.iterator, {
        value: URLSearchParams.prototype.entries,
        writable: true, enumerable: true, configurable: true});
      Object.defineProperty(Iterator.prototype, global.Symbol.iterator, {
        value: function() { return this; },
        writable: true, enumerable: true, configurable: true});
    }

    function URL(url, base) {
      if (!(this instanceof global.URL))
        throw new TypeError(\\"Failed to construct 'URL': Please use the 'new' operator.\\");

      if (base) {
        url = (function () {
          if (nativeURL) return new origURL(url, base).href;
          var iframe;
          try {
            var doc;
            // Use another document/base tag/anchor for relative URL resolution, if possible
            if (Object.prototype.toString.call(window.operamini) === \\"[object OperaMini]\\") {
              iframe = document.createElement('iframe');
              iframe.style.display = 'none';
              document.documentElement.appendChild(iframe);
              doc = iframe.contentWindow.document;
            } else if (document.implementation && document.implementation.createHTMLDocument) {
              doc = document.implementation.createHTMLDocument('');
            } else if (document.implementation && document.implementation.createDocument) {
              doc = document.implementation.createDocument('http://www.w3.org/1999/xhtml', 'html', null);
              doc.documentElement.appendChild(doc.createElement('head'));
              doc.documentElement.appendChild(doc.createElement('body'));
            } else if (window.ActiveXObject) {
              doc = new window.ActiveXObject('htmlfile');
              doc.write('<head><\\\\/head><body><\\\\/body>');
              doc.close();
            }

            if (!doc) throw Error('base not supported');

            var baseTag = doc.createElement('base');
            baseTag.href = base;
            doc.getElementsByTagName('head')[0].appendChild(baseTag);
            var anchor = doc.createElement('a');
            anchor.href = url;
            return anchor.href;
          } finally {
            if (iframe)
              iframe.parentNode.removeChild(iframe);
          }
        }());
      }

      // An inner object implementing URLUtils (either a native URL
      // object or an HTMLAnchorElement instance) is used to perform the
      // URL algorithms. With full ES5 getter/setter support, return a
      // regular object For IE8's limited getter/setter support, a
      // different HTMLAnchorElement is returned with properties
      // overridden

      var instance = URLUtils(url || '');

      // Detect for ES5 getter/setter support
      // (an Object.defineProperties polyfill that doesn't support getters/setters may throw)
      var ES5_GET_SET = (function() {
        if (!('defineProperties' in Object)) return false;
        try {
          var obj = {};
          Object.defineProperties(obj, { prop: { 'get': function () { return true; } } });
          return obj.prop;
        } catch (_) {
          return false;
        }
      })();

      var self = ES5_GET_SET ? this : document.createElement('a');



      var query_object = new URLSearchParams(
        instance.search ? instance.search.substring(1) : null);
      query_object._url_object = self;

      Object.defineProperties(self, {
        href: {
          get: function () { return instance.href; },
          set: function (v) { instance.href = v; tidy_instance(); update_steps(); },
          enumerable: true, configurable: true
        },
        origin: {
          get: function () {
            if ('origin' in instance) return instance.origin;
            return this.protocol + '//' + this.host;
          },
          enumerable: true, configurable: true
        },
        protocol: {
          get: function () { return instance.protocol; },
          set: function (v) { instance.protocol = v; },
          enumerable: true, configurable: true
        },
        username: {
          get: function () { return instance.username; },
          set: function (v) { instance.username = v; },
          enumerable: true, configurable: true
        },
        password: {
          get: function () { return instance.password; },
          set: function (v) { instance.password = v; },
          enumerable: true, configurable: true
        },
        host: {
          get: function () {
            // IE returns default port in |host|
            var re = {'http:': /:80$/, 'https:': /:443$/, 'ftp:': /:21$/}[instance.protocol];
            return re ? instance.host.replace(re, '') : instance.host;
          },
          set: function (v) { instance.host = v; },
          enumerable: true, configurable: true
        },
        hostname: {
          get: function () { return instance.hostname; },
          set: function (v) { instance.hostname = v; },
          enumerable: true, configurable: true
        },
        port: {
          get: function () { return instance.port; },
          set: function (v) { instance.port = v; },
          enumerable: true, configurable: true
        },
        pathname: {
          get: function () {
            // IE does not include leading '/' in |pathname|
            if (instance.pathname.charAt(0) !== '/') return '/' + instance.pathname;
            return instance.pathname;
          },
          set: function (v) { instance.pathname = v; },
          enumerable: true, configurable: true
        },
        search: {
          get: function () { return instance.search; },
          set: function (v) {
            if (instance.search === v) return;
            instance.search = v; tidy_instance(); update_steps();
          },
          enumerable: true, configurable: true
        },
        searchParams: {
          get: function () { return query_object; },
          enumerable: true, configurable: true
        },
        hash: {
          get: function () { return instance.hash; },
          set: function (v) { instance.hash = v; tidy_instance(); },
          enumerable: true, configurable: true
        },
        toString: {
          value: function() { return instance.toString(); },
          enumerable: false, configurable: true
        },
        valueOf: {
          value: function() { return instance.valueOf(); },
          enumerable: false, configurable: true
        }
      });

      function tidy_instance() {
        var href = instance.href.replace(/#$|\\\\?$|\\\\?(?=#)/g, '');
        if (instance.href !== href)
          instance.href = href;
      }

      function update_steps() {
        query_object._setList(instance.search ? urlencoded_parse(instance.search.substring(1)) : []);
        query_object._update_steps();
      };

      return self;
    }

    if (origURL) {
      for (var i in origURL) {
        if (origURL.hasOwnProperty(i) && typeof origURL[i] === 'function')
          URL[i] = origURL[i];
      }
    }

    global.URL = URL;
    global.URLSearchParams = URLSearchParams;
  }());

  // Patch native URLSearchParams constructor to handle sequences/records
  // if necessary.
  (function() {
    if (new global.URLSearchParams([['a', 1]]).get('a') === '1' &&
        new global.URLSearchParams({a: 1}).get('a') === '1')
      return;
    var orig = global.URLSearchParams;
    global.URLSearchParams = function(init) {
      if (init && typeof init === 'object' && isSequence(init)) {
        var o = new orig();
        toArray(init).forEach(function(e) {
          if (!isSequence(e)) throw TypeError();
          var nv = toArray(e);
          if (nv.length !== 2) throw TypeError();
          o.append(nv[0], nv[1]);
        });
        return o;
      } else if (init && typeof init === 'object') {
        o = new orig();
        Object.keys(init).forEach(function(key) {
          o.set(key, init[key]);
        });
        return o;
      } else {
        return new orig(init);
      }
    };
  }());

}(self));

// Math.clz32
Math.clz32 = function clz32(x) {
	var value = Number(x) >>> 0;

	return value ? 32 - value.toString(2).length : 32;
};

// Math.sign
Math.sign = function sign(x) {
	return !(x = Number(x)) ? x : x > 0 ? 1 : -1;
};

// Number.isSafeInteger
Object.defineProperty(Number, 'isSafeInteger', {
	enumerable: false,
	configurable: true,
	writable: true,
	value: function (number) {
		if (typeof number !== 'number') {
			return false;
		}
		if (isNaN(number) || number === +Infinity || number === -Infinity) {
			return false;
		}
		var integer = parseInt(number, 10);
		if (integer !== number) return false;
		if (Math.abs(integer) <= (Math.pow(2, 53) - 1)) {
			return true;
		}
		return false;
	}
});

// Object.is
Object.is = function is(a, b) {
	return (a === b && (a !== 0 || 1 / a === 1 / b)) || (a !== a && b !== b);
};

// String.prototype.repeat
String.prototype.repeat = function repeat(count) {
	'use strict';

	if (this === undefined || this === null) {
		throw new TypeError(this + ' is not an object');
	}

	if (count < 0 || count === Infinity) {
		throw new RangeError(count + ' is less than zero or equal to infinity');
	}

	return new Array((parseInt(count, 10) || 0) + 1).join(this);
};

// Symbol.hasInstance
Object.defineProperty(Symbol, 'hasInstance', {value: Symbol('hasInstance')});

// Symbol.isConcatSpreadable
Object.defineProperty(Symbol, 'isConcatSpreadable', {value: Symbol('isConcatSpreadable')});

// Symbol.match
Object.defineProperty(Symbol, 'match', {value: Symbol('match')});

// Symbol.replace
Object.defineProperty(Symbol, 'replace', {value: Symbol('replace')});

// Symbol.search
Object.defineProperty(Symbol, 'search', {value: Symbol('search')});

// Symbol.species
Object.defineProperty(Symbol, 'species', {value: Symbol('species')});

// Symbol.split
Object.defineProperty(Symbol, 'split', {value: Symbol('split')});

// Symbol.toPrimitive
Object.defineProperty(Symbol, 'toPrimitive', {value: Symbol('toPrimitive')});

// Symbol.toStringTag
Object.defineProperty(Symbol, 'toStringTag', {
	value: Symbol('toStringTag')
});

// String.prototype.padEnd
(function () {
	Object.defineProperty(String.prototype, 'padEnd', {
		configurable: true,
		enumerable: false,
		value: function padEnd (targetLength) {
			targetLength = targetLength | 0;
			if (targetLength <= this.length) return String(this);
			var padString = String(arguments[1] || \\" \\");
			var repeat = Math.ceil((targetLength - this.length) / padString.length);
			while (repeat--) {
				padString += padString;
			}
			return String(this) + padString.substr(0, targetLength - this.length);
		},
		writable: true
	});
}());

// String.prototype.padStart
(function () {
	Object.defineProperty(String.prototype, 'padStart', {
		configurable: true,
		enumerable: false,
		value: function padStart (targetLength) {
			targetLength = targetLength | 0;
			if (targetLength <= this.length) return String(this);
			var padString = String(arguments[1] || \\" \\");
			var repeat = Math.ceil((targetLength - this.length) / padString.length);
			while (repeat--) {
				padString += padString;
			}
			return padString.substr(0, targetLength - this.length) + String(this);
		},
		writable: true
	});
}());

// Object.freeze
Object.freeze = function freeze(object) {
	// This feature cannot be implemented fully as a polyfill.
	// We choose to silently fail which allows \\"securable\\" code
	// to \\"gracefully\\" degrade to working but insecure code.
	return object;
};
})
.call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof global && global || {});
"
`;
